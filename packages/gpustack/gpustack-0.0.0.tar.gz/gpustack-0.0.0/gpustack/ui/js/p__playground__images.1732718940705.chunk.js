"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3560],{17485:function(e,a,t){t.d(a,{Z:function(){return u}});var n=t(35453),l=t(50959),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M553.1 509.1l-77.8 99.2-41.1-52.4a8 8 0 00-12.6 0l-99.8 127.2a7.98 7.98 0 006.3 12.9H696c6.7 0 10.4-7.7 6.3-12.9l-136.5-174a8.1 8.1 0 00-12.7 0zM360 442a40 40 0 1080 0 40 40 0 10-80 0zm494.6-153.4L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file-image",theme:"outlined"},s=t(52273),i=function(e,a){return l.createElement(s.Z,(0,n.Z)({},e,{ref:a,icon:r}))};var u=l.forwardRef(i)},49662:function(e,a,t){var n=t(78093),l=t(87497),r=t(50959),s=t(11527),i=function(e){var a=e.message,t=e.type,r=e.rows,i=void 0===r?1:r;return a?(0,s.jsxs)(l.Z.Paragraph,{type:t,ellipsis:{rows:i,tooltip:a},style:{textAlign:"center",padding:"2px 5px",borderRadius:"var(--border-radius-base)",margin:0,backgroundColor:"var(--ant-color-error-bg)"},children:[(0,s.jsx)(n.Z,{className:"m-r-8"}),a]}):null};a.Z=r.memo(i)},76483:function(e,a,t){var n=t(82092),l=t.n(n),r=t(26068),s=t.n(r),i=t(48305),u=t.n(i),o=t(75489),c=t(92233),d=t(42779),m=t(13770),p=t(4423),f=t(99178),v=t(68476),g=t(23333),h=t(40474),x=t(96247),b=t(32699),y=t.n(b),j=t(50959),w=t(26938),Z=t(11527),z=(0,j.forwardRef)((function(e,a){var t=e.setParams,n=e.onValuesChange,r=e.onModelChange,i=e.parametersTitle,b=e.selectedModel,z=e.globalParams,M=e.initialValues,N=e.paramsConfig,S=e.modelList,C=e.params,k=e.showModelSelector,I=void 0===k||k,L=e.extra,_=(0,f.useIntl)(),F=v.Z.useForm(),q=u()(F,1)[0],V=(0,j.useId)();(0,j.useImperativeHandle)(a,(function(){return{form:q}})),(0,j.useEffect)((function(){I?(q.setFieldsValue(s()({model:b||y().get(S,"[0].value")},M)),t(s()({model:b||y().get(S,"[0].value")},M))):(q.setFieldsValue(s()({model:b||""},M)),t(s()({model:b||""},M)))}),[S,I,b,M]);var E=(0,j.useCallback)((function(e){null==r||r(e)}),[r]),R=(0,j.useCallback)((function(e,a){null==t||t(a),null==n||n(e,a)}),[n,t]),T=(0,j.useCallback)((function(e,a){var r=q.getFieldsValue();q.setFieldsValue(s()(s()({},r),{},l()({},a,e))),t(s()(s()({},r),{},l()({},a,e))),null==n||n(l()({},a,e),s()(s()({},r),{},l()({},a,e)))}),[q,t,n]);(0,j.useEffect)((function(){q.setFieldsValue(z)}),[z]);var P=(0,j.useCallback)((function(e){return(0,Z.jsxs)("span",{className:w.Z.label,style:{width:m.d.mini},children:[(0,Z.jsx)("span",{className:"text",children:e.description?(0,Z.jsxs)(g.Z,{title:e.description,children:[(0,Z.jsxs)("span",{children:[" ",e.label]}),(0,Z.jsx)("span",{className:"m-l-5",children:(0,Z.jsx)(p.Z,{})})]}):(0,Z.jsx)("span",{children:e.label})}),(0,Z.jsx)(h.Z,{className:"label-val",variant:"outlined",size:"small",value:q.getFieldValue(e.field),controls:!1,onChange:function(a){return T(a,e.field)}})]})}),[q,T]),A=(0,j.useMemo)((function(){return null!=N&&N.length?N.map((function(e){return"InputNumber"===e.type?(0,Z.jsx)(v.Z.Item,{name:e.name,rules:e.rules,children:(0,Z.jsx)(c.Z.Number,s()(s()({},e.attrs),{},{style:{width:"100%"},label:e.label.isLocalized?_.formatMessage({id:e.label.text}):e.label.text}))},e.name):"TextArea"===e.type?(0,Z.jsx)(v.Z.Item,{name:e.name,rules:e.rules,children:(0,Z.jsx)(c.Z.TextArea,s()(s()({},e.attrs),{},{style:{width:"100%"},label:e.label.isLocalized?_.formatMessage({id:e.label.text}):e.label.text}))},e.name):"Select"===e.type?(0,Z.jsx)(v.Z.Item,{name:e.name,rules:e.rules,children:(0,Z.jsx)(d.Z,s()(s()({},e.attrs),{},{options:e.options,label:e.label.isLocalized?_.formatMessage({id:e.label.text}):e.label.text}))},e.name):"Slider"===e.type?(0,Z.jsx)(v.Z.Item,{name:e.name,rules:e.rules,children:(0,Z.jsx)(o.Z,{label:P({field:e.name,label:e.label.isLocalized?_.formatMessage({id:e.label.text}):e.label.text,description:null!==(a=e.description)&&void 0!==a&&a.isLocalized?_.formatMessage({id:null===(t=e.description)||void 0===t?void 0:t.text}):(null===(n=e.description)||void 0===n?void 0:n.text)||""}),style:{padding:"20px 2px 0"},variant:"borderless",children:(0,Z.jsx)(x.Z,s()(s()({},e.attrs),{},{style:{marginBottom:0,marginTop:16,marginInline:0},tooltip:{open:!1},value:q.getFieldValue(e.name)||void 0,onChange:function(a){return T(a,e.name)}}))})},e.name):null;var a,t,n})):null}),[N,C,_]);return(0,Z.jsx)(v.Z,{name:V,form:q,onValuesChange:R,onFinish:function(e){},onFinishFailed:function(e){},children:(0,Z.jsxs)("div",{children:[(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("h3",{className:"m-b-20 m-l-10 font-size-14 line-24",children:i||(0,Z.jsx)("span",{children:_.formatMessage({id:"playground.parameters"})})}),(0,Z.jsx)(v.Z.Item,{name:"model",rules:[{required:!0,message:_.formatMessage({id:"common.form.rule.select"},{name:_.formatMessage({id:"playground.model"})})}],children:(0,Z.jsx)(d.Z,{onChange:E,showSearch:!0,options:S,label:_.formatMessage({id:"playground.model"})})})]}),A,L]})})}));a.Z=(0,j.memo)(z)},22471:function(e,a,t){t.d(a,{FM:function(){return r},GF:function(){return i},I_:function(){return n},JY:function(){return l},QU:function(){return s}});var n=[{type:"Select",name:"voice",options:[],label:{text:"playground.params.voice",isLocalized:!0},rules:[{required:!0,message:"Voice is required"}]},{type:"Select",name:"response_format",options:[{label:"mp3",value:"mp3"},{label:"opus",value:"opus"},{label:"aac",value:"aac"},{label:"flac",value:"flac"},{label:"wav",value:"wav"},{label:"pcm",value:"pcm"}],label:{text:"playground.params.format",isLocalized:!0},rules:[{required:!1}]},{type:"Select",name:"speed",options:[{label:"0.25x",value:.25},{label:"0.5x",value:.5},{label:"1x",value:1},{label:"2x",value:2},{label:"4x",value:4}],label:{text:"playground.params.speed",isLocalized:!0},rules:[{required:!1}]}],l=[{type:"Select",name:"language",options:[{label:"Auto",value:"auto"},{label:"English",value:"en"},{label:"中文",value:"zh"},{label:"日本語",value:"ja"},{label:"Français",value:"fr"},{label:"Deutsch",value:"de"}],label:{text:"playground.params.language",isLocalized:!0},rules:[{required:!0}]}],r=[{type:"InputNumber",name:"n",label:{text:"playground.params.counts",isLocalized:!0},attrs:{min:1,max:4},rules:[{required:!1}]},{type:"Select",name:"size",options:[{label:"playground.params.custom",value:"custom",locale:!0},{label:"256x256",value:"256x256"},{label:"512x512",value:"512x512"},{label:"1024x1024",value:"1024x1024"},{label:"1792x1024",value:"1792x1024"},{label:"1024x1792",value:"1024x1792"}],label:{text:"playground.params.size",isLocalized:!0},rules:[{required:!1}]}],s=[{type:"Select",name:"quality",options:[{label:"playground.params.standard",value:"standard",locale:!0},{label:"playground.params.hd",value:"hd",locale:!0}],label:{text:"playground.params.quality",isLocalized:!0},rules:[{required:!1}]},{type:"Select",name:"style",options:[{label:"playground.params.style.vivid",value:"vivid",locale:!0},{label:"playground.params.style.natural",value:"natural",locale:!0}],attrs:{allowClear:!0},label:{text:"playground.params.style",isLocalized:!0},rules:[{required:!1}]}],i=[{type:"Select",name:"sampler",options:[{label:"euler_a",value:"euler_a"},{label:"euler",value:"euler"},{label:"heun",value:"heun"},{label:"dpm2",value:"dpm2"},{label:"dpm++2s_a",value:"dpm++2s_a"},{label:"dpm++2m",value:"dpm++2m"},{label:"dpm++2mv2",value:"dpm++2mv2"},{label:"ipndm",value:"ipndm"},{label:"pndm_v",value:"pndm_v"},{label:"lcm",value:"lcm"}],label:{text:"playground.image.params.sampler",isLocalized:!0},rules:[{required:!1}]},{type:"InputNumber",name:"sample_steps",label:{text:"playground.image.params.samplerSteps",isLocalized:!0},attrs:{min:1,max:100,defaultValue:10},rules:[{required:!1}]},{type:"InputNumber",name:"cfg_scale",label:{text:"CFG Scale",isLocalized:!1},attrs:{min:1,max:10,step:.1,defaulValue:4.5},rules:[{required:!1}]},{type:"Input",name:"negative_prompt",label:{text:"playground.image.params.negativePrompt",isLocalized:!0},rules:[{required:!1}]},{type:"InputNumber",name:"seed",label:{text:"playground.image.params.seed",isLocalized:!0},rules:[{required:!1}]}]},54544:function(e,a,t){t.r(a),t.d(a,{default:function(){return ee}});var n=t(90228),l=t.n(n),r=t(87999),s=t.n(r),i=t(48305),u=t.n(i),o=t(83057),c=t(35445),d=t(93495),m=t(55592),p=t(55169),f=t(99178),v=t(54235),g=t(85885),h=t(82187),x=t.n(h),b=t(32699),y=t.n(b),j=t(50959),w=t(94299),Z=t(35014),z=t(15558),M=t.n(z),N=t(26068),S=t.n(N),C=t(49662),k=t(67825),I=t.n(k),L=t(96247),_=t(92233),F=t(42779),q={InputNumber:_.Z.Number,Select:F.Z,Slider:L.Z,TextArea:_.Z.TextArea,Input:_.Z.Input},V=["type","label","attrs","style"],E=function(e){var a=(0,f.useIntl)(),t=e.type,n=e.label,l=e.attrs,r=e.style,s=I()(e,V);return j.createElement(q[t],S()(S()(S()({},s),l),{},{style:S()(S()({},r),{},{width:"100%"}),label:n.isLocalized?a.formatMessage({id:n.text}):n.text}))},R=j.memo(E),T=t(571),P=t(62487),A=t(81117),U=t(17485),H=t(67201),D=t(68476),G=t(23333),O=(t(72183),t(9298)),B=t(22471),W=(t(51662),t(21435),t(76483)),J=t(26598),Q=t(19748),Y=t(11527),$={n:1,size:"512x512",quality:"standard",style:null},K=(0,j.forwardRef)((function(e,a){var t,n=e.modelList,r=(0,j.useRef)(0),i=(0,j.useState)(!0),o=u()(i,2),c=o[0],d=o[1],m=(0,j.useState)([]),p=u()(m,2),v=p[0],h=p[1],b=(0,f.useIntl)(),w=(0,f.useSearchParams)(),z=u()(w,1)[0].get("model")||"",N=(0,j.useState)({}),k=u()(N,2),I=k[0],L=k[1],q=(0,j.useState)(!1),V=u()(q,2),E=V[0],K=V[1],X=(0,j.useState)(!1),ee=u()(X,2),ae=ee[0],te=ee[1],ne=(0,j.useState)(null),le=u()(ne,2),re=le[0],se=le[1],ie=(0,j.useState)(!1),ue=u()(ie,2),oe=ue[0],ce=ue[1],de=(0,j.useRef)(null),me=(0,j.useRef)(null),pe=(0,j.useRef)(0),fe=(0,j.useRef)(null),ve=(0,j.useState)(""),ge=u()(ve,2),he=ge[0],xe=ge[1],be=(0,j.useRef)(null),ye=D.Z.useWatch("size",null===(t=be.current)||void 0===t?void 0:t.form),je=(0,T.Z)(),we=je.initialize,Ze=je.updateScrollerPosition,ze=(0,T.Z)().initialize;(0,j.useImperativeHandle)(a,(function(){return{viewCode:function(){K(!0)},setCollapse:function(){ce(!oe)},collapse:oe}}));var Me=(0,j.useCallback)((function(){var e={with:256,height:256,span:12};return 1===I.n&&(e.width="100%",e.height="100%",e.span=24),2===I.n&&(e.width="50%",e.height=256,e.span=12),3===I.n&&(e.width="33%",e.height=256,e.span=12),4===I.n&&(e.width="25%",e.height=256,e.span=12),e}),[I.n]),Ne=(0,j.useMemo)((function(){return"custom"===I.size?S()(S()({},y().omit(I,["width","height"])),{},{size:I.width&&I.height?"".concat(I.width,"x").concat(I.height):""}):S()({},y().omit(I,["width","height"]))}),[I]),Se=function(){return r.current=r.current+1,r.current},Ce=function(){var e=s()(l()().mark((function e(a){var t,n,r,s,i,u,o,c,d,m,p,f;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=be.current)||void 0===t||null===(t=t.form)||void 0===t?void 0:t.validateFields();case 3:if(I.model){e.next=5;break}return e.abrupt("return");case 5:return s=Me(),te(!0),Se(),xe((null==a?void 0:a.content)||""),i=Array(I.n).fill({}).map((function(e,a){return S()(S()({dataUrl:"data:image/png;base64,"},s),{},{progress:0,height:"100%",width:"100%",loading:!0,uid:a})})),h(i),null===(n=fe.current)||void 0===n||null===(r=n.abort)||void 0===r||r.call(n),fe.current=new AbortController,u=S()({stream:!0,stream_options:{chunk_result:!0},prompt:(null==a?void 0:a.content)||he||""},y().omitBy(Ne,(function(e){return!e}))),e.next=16,(0,A.U3)({data:u,url:"".concat(Z.U$,"?t=").concat(Date.now()),signal:fe.current.signal});case 16:return o=e.sent,c=o.reader,d=o.decoder,m=y().split(Ne.size,"x"),e.next=21,(0,A.YT)(c,d,(function(e){var a,t;null!=e&&e.error?se({error:!0,errorMessage:(null==e||null===(t=e.error)||void 0===t?void 0:t.message)||(null==e?void 0:e.message)||""}):(null==e||null===(a=e.data)||void 0===a||a.forEach((function(e){var a=i[e.index];e.b64_json&&(a.dataUrl+=e.b64_json);var t=y().round(e.progress,0);i[e.index]={dataUrl:a.dataUrl,height:"100%",width:"100%",maxHeight:"".concat(m[1],"px"),maxWidth:"".concat(m[0],"px"),uid:a.uid,span:a.span,loading:t<100,progress:t}})),h(M()(i)))}));case 21:e.next=28;break;case 23:e.prev=23,e.t0=e.catch(0),null===(p=fe.current)||void 0===p||null===(f=p.abort)||void 0===f||f.call(p),h([]);case 28:return e.prev=28,te(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[0,23,28,31]])})));return function(a){return e.apply(this,arguments)}}(),ke=(0,j.useMemo)((function(){return c?B.QU.map((function(e){return(0,Y.jsx)(D.Z.Item,{name:e.name,rules:e.rules,children:(0,Y.jsx)(F.Z,S()(S()({},e.attrs),{},{options:e.options,label:e.label.isLocalized?b.formatMessage({id:e.label.text}):e.label.text}))},e.name)})):[]}),[B.QU,c,b]),Ie=(0,j.useMemo)((function(){return c?[]:B.GF.map((function(e){return(0,Y.jsx)(D.Z.Item,{name:e.name,rules:e.rules,children:(0,Y.jsx)(R,S()({},y().omit(e,["name","rules"])))},e.name)}))}),[B.GF,c,b]),Le=(0,j.useMemo)((function(){return"custom"===ye?(0,Y.jsxs)("div",{className:"flex gap-10",children:[(0,Y.jsx)(D.Z.Item,{name:"width",rules:[{required:!0,message:b.formatMessage({id:"common.form.rule.input"},{name:b.formatMessage({id:"playground.params.width"})})}],children:(0,Y.jsx)(_.Z.Number,{style:{width:"100%"},label:"".concat(b.formatMessage({id:"playground.params.width"}),"(px)")})},"width"),(0,Y.jsx)(D.Z.Item,{name:"height",rules:[{required:!0,message:b.formatMessage({id:"common.form.rule.input"},{name:b.formatMessage({id:"playground.params.height"})})}],children:(0,Y.jsx)(_.Z.Number,{style:{width:"100%"},label:"".concat(b.formatMessage({id:"playground.params.height"}),"(px)")})},"height")]},"custom"):null}),[ye,b]);return(0,j.useEffect)((function(){de.current&&we(de.current)}),[de.current,we]),(0,j.useEffect)((function(){me.current&&ze(me.current)}),[me.current,ze]),(0,j.useEffect)((function(){ae&&Ze()}),[v,ae]),(0,j.useEffect)((function(){v.length>pe.current&&Ze(),pe.current=v.length}),[v.length]),(0,Y.jsxs)("div",{className:"ground-left-wrapper",children:[(0,Y.jsxs)("div",{className:"ground-left",children:[(0,Y.jsx)("div",{className:"message-list-wrap",ref:de,style:{paddingBottom:16},children:(0,Y.jsx)(Y.Fragment,{children:(0,Y.jsxs)("div",{className:"content",style:{height:"100%"},children:[(0,Y.jsx)(P.Z,{style:{padding:0,height:"100%",justifyContent:"center",flexDirection:"column",flexWrap:"unset",alignItems:"center"},editable:!1,dataList:v,loading:ae,responseable:!0,gutter:[8,16],autoSize:!0}),!v.length&&(0,Y.jsxs)("div",{className:"flex-column font-size-14 flex-center gap-20 justify-center hold-wrapper",children:[(0,Y.jsx)("span",{children:(0,Y.jsx)(U.Z,{className:"font-size-32 text-secondary"})}),(0,Y.jsx)("span",{children:b.formatMessage({id:"playground.params.empty.tips"})})]})]})})}),re&&(0,Y.jsx)("div",{style:{height:40},children:(0,Y.jsx)(C.Z,{type:"danger",message:null==re?void 0:re.errorMessage})}),(0,Y.jsx)("div",{className:"ground-left-footer",children:(0,Y.jsx)(J.Z,{placeholer:b.formatMessage({id:"playground.input.prompt.holder"}),actions:["clear"],loading:ae,disabled:!I.model,isEmpty:!v.length,handleSubmit:function(e){var a=e.content?e:void 0;Ce(a)},handleAbortFetch:function(){var e,a;null===(e=fe.current)||void 0===e||null===(a=e.abort)||void 0===a||a.call(e),te(!1)},shouldResetMessage:!1,clearAll:function(){v.length&&(Se(),h([]),se(null))},tools:(0,Y.jsx)("span",{className:"p-l-8 font-600",children:b.formatMessage({id:"playground.image.prompt"})})})})]}),(0,Y.jsx)("div",{className:x()("params-wrapper",{collapsed:oe}),ref:me,children:(0,Y.jsx)("div",{className:"box",children:(0,Y.jsx)(W.Z,{ref:be,parametersTitle:(0,Y.jsxs)("div",{className:"flex-between flex-center",children:[(0,Y.jsx)("span",{children:b.formatMessage({id:"playground.parameters"})}),(0,Y.jsx)(G.Z,{title:b.formatMessage({id:"playground.image.params.custom.tips"}),children:(0,Y.jsx)(g.ZP,{size:"middle",type:"text",icon:(0,Y.jsx)(H.Z,{}),onClick:function(){var e;c?(null===(e=be.current)||void 0===e||null===(e=e.form)||void 0===e||e.setFieldsValue({seed:null,sampler:"euler_a",cfg_scale:4.5,sample_steps:10,negative_prompt:null}),L((function(e){return S()(S()({},y().omit(e,["quality","style"])),{},{seed:null,sampler:"euler_a",cfg_scale:4.5,sample_steps:10,negative_prompt:null})}))):L((function(e){return S()({quality:"standard",style:null},y().omit(e,["seed","sampler","cfg_scale","sample_steps","negative_prompt"]))}));d(!c)},children:c?b.formatMessage({id:"playground.image.params.custom"}):b.formatMessage({id:"playground.image.params.openai"})})})]}),setParams:L,paramsConfig:B.FM,initialValues:$,params:I,selectedModel:z,modelList:n,extra:[Le].concat(M()(ke),M()(Ie))})})}),(0,Y.jsx)(Q.Z,S()(S()({},O.NW.images),{},{open:E,payLoad:{prompt:he},parameters:S()({},Ne),onCancel:function(){K(!1)},title:b.formatMessage({id:"playground.viewcode"})}))]})})),X=(0,j.memo)(K),ee=(t(20988),function(){var e=(0,f.useIntl)(),a=(0,m.Z)().size,t=(0,j.useRef)(null),n=(0,j.useState)([]),r=u()(n,2),i=r[0],h=r[1],b=(0,j.useState)(!1),z=u()(b,2),M=(z[0],z[1]),N=(0,j.useCallback)((function(){var e,a;null===(e=t.current)||void 0===e||null===(a=e.viewCode)||void 0===a||a.call(e)}),[]),S=(0,j.useCallback)((function(){var e,a;null===(e=t.current)||void 0===e||null===(a=e.setCollapse)||void 0===a||a.call(e)}),[]);(0,j.useEffect)((function(){var e,n,l;a.width<c.Z.lg&&(null!==(e=t.current)&&void 0!==e&&e.collapse||null===(n=t.current)||void 0===n||null===(l=n.setCollapse)||void 0===l||l.call(n))}),[a.width]),(0,j.useEffect)((function(){var e=function(){var e=s()(l()().mark((function e(){var a,t,n;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={image_only:!0},e.next=4,(0,Z.nb)(a);case 4:return t=e.sent,n=y().map(t.data||[],(function(e){return{value:e.id,label:e.id}})),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),a=function(){var a=s()(l()().mark((function a(){var t;return l()().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e();case 3:t=a.sent,h(t),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),M(!0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}();a()}),[]);return(0,w.y1)(d.ZP.RIGHT.join(","),(function(){var e,a;null===(e=t.current)||void 0===e||null===(a=e.setCollapse)||void 0===a||a.call(e)}),{preventDefault:!0}),(0,Y.jsx)(p._z,{ghost:!0,header:{title:e.formatMessage({id:"menu.playground.text2images"}),breadcrumb:{}},extra:(0,Y.jsxs)(v.Z,{children:[(0,Y.jsx)(g.ZP,{size:"middle",onClick:N,icon:(0,Y.jsx)(o.Z,{type:"icon-code",className:"font-size-16"}),children:e.formatMessage({id:"playground.viewcode"})}),(0,Y.jsx)(g.ZP,{size:"middle",onClick:S,icon:(0,Y.jsx)(o.Z,{type:"icon-a-layout6-line",className:"font-size-16"})})]},"buttons"),className:x()("playground-container chat"),children:(0,Y.jsx)("div",{className:"play-ground",children:(0,Y.jsx)("div",{className:"chat",children:(0,Y.jsx)(X,{ref:t,modelList:i})})})})})},81117:function(e,a,t){t.d(a,{LN:function(){return p},U3:function(){return m},YT:function(){return f}});var n=t(90228),l=t.n(n),r=t(26068),s=t.n(r),i=t(87999),u=t.n(i),o=t(55360),c=/data:\s*({.*?})(?=\n|$)/g,d=function(e){var a,t=[];if(!e)return t;for(;null!==(a=c.exec(e));)try{var n=JSON.parse(a[1]);t.push(n)}catch(e){continue}return t},m=function(){var e=u()(l()().mark((function e(a){var t,n,r,i,u,c;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.method||"POST",r=a.url,a.params&&(r="".concat(r,"?").concat(o.Z.stringify(a.params))),e.next=5,fetch(r,{method:n,body:"POST"===n?JSON.stringify(a.data):null,signal:a.signal,headers:s()({"Content-Type":"application/json"},a.headers)});case 5:if((i=e.sent).ok){e.next=12;break}return e.next=10,i.json();case 10:return e.t0=e.sent,e.abrupt("return",{error:!0,data:e.t0});case 12:return u=null==i||null===(t=i.body)||void 0===t?void 0:t.getReader(),c=new TextDecoder("utf-8",{fatal:!0}),e.abrupt("return",{reader:u,decoder:c});case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),p=function(){var e=u()(l()().mark((function e(a,t,n){var r,s,i,u;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.read();case 2:if(r=e.sent,s=r.done,i=r.value,!s){e.next=7;break}return e.abrupt("return");case 7:return u=t.decode(i,{stream:!0}),d(u).forEach((function(e){null==n||n(e)})),e.next=11,p(a,t,n);case 11:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),f=function(){var e=u()(l()().mark((function e(a,t,n){var r,s;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",s=function(){var e=u()(l()().mark((function e(){var i,u,o,c;return l()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.read();case 2:if(i=e.sent,u=i.done,o=i.value,!u){e.next=8;break}if(r)try{d(r).forEach((function(e){null==n||n(e)}))}catch(e){}return e.abrupt("return");case 8:return r+=t.decode(o,{stream:!0}),d(r).forEach((function(e){null==n||n(e)})),c=r.lastIndexOf("}"),r=-1!==c?r.slice(c+1):r,e.next=15,s();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=4,s();case 4:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}()}}]);