"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4946],{35445:function(e,n){n.Z={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1600}},55592:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(48305),i=t.n(a),o=t(35445),r=t(32699),s=t.n(r),l=t(50959);function c(){var e=(0,l.useState)({width:window.innerWidth,height:window.innerHeight}),n=i()(e,2),t=n[0],a=n[1],r=(0,l.useState)(!1),c=i()(r,2),u=c[0],d=c[1],h=(0,l.useState)(!1),g=i()(h,2),m=g[0],A=g[1],p=(0,l.useState)(!1),f=i()(p,2),v=f[0],x=f[1],y=(0,l.useState)(""),b=i()(y,2),E=b[0],Q=b[1],w=(0,l.useCallback)((function(e){return e<o.Z.sm?(d(!0),A(!1),x(!1),void Q("sm")):e<o.Z.md?(d(!1),A(!0),x(!1),void Q("md")):e<o.Z.lg?(d(!1),A(!1),x(!0),void Q("lg")):(d(!1),A(!1),x(!0),void Q("xl"))}),[]),j=(0,l.useCallback)(s().throttle((function(){a({width:window.innerWidth,height:window.innerHeight})}),200),[]);return(0,l.useEffect)((function(){return window.addEventListener("resize",j),function(){window.removeEventListener("resize",j)}}),[j]),(0,l.useEffect)((function(){w(t.width)}),[t.width,w]),{size:t,isMobile:u,isTablet:m,isDesktop:v,currentPoint:E}}},26598:function(e,n,t){t.d(n,{Z:function(){return M}});var a=t(90228),i=t.n(a),o=t(15558),r=t.n(o),s=t(87999),l=t.n(s),c=t(26068),u=t.n(c),d=t(48305),h=t.n(d),g=t(83057),m=t(93495),A=t(67201),p=t(51076),f=t(77353),v=t(99178),x=t(8267),y=t(85885),b=t(76571),E=t(83603),Q=t(23333),w=t(32699),j=t.n(w),k=t(50959),C=t(94299),B=t(9298),S=t(571),Z=t(1956),N=t(87497),I=(t(9763),[{title:"Grammar correction",data:[{role:B.G7.System,content:"You will be provided with statements, and your task is to convert them to standard English."},{role:B.G7.User,content:"She no went to the market."}]},{title:"Summarize for a 2nd grader",data:[{role:B.G7.System,content:"Summarize content you are provided with for a second-grade student."},{role:B.G7.User,content:"Jupiter is the fifth planet from the Sun and the largest in the Solar System. It is a gas giant with a mass one-thousandth that of the Sun, but two-and-a-half times that of all the other planets in the Solar System combined. Jupiter is one of the brightest objects visible to the naked eye in the night sky, and has been known to ancient civilizations since before recorded history. It is named after the Roman god Jupiter.[19] When viewed from Earth, Jupiter can be bright enough for its reflected light to cast visible shadows,[20] and is on average the third-brightest natural object in the night sky after the Moon and Venus."}]},{title:"Keywords",data:[{role:B.G7.System,content:"You will be provided with a block of text, and your task is to extract a list of keywords from it."},{role:B.G7.User,content:"Black-on-black ware is a 20th- and 21st-century pottery tradition developed by the Puebloan Native American ceramic artists in Northern New Mexico. Traditional reduction-fired blackware has been made for centuries by pueblo artists. Black-on-black ware of the past century is produced with a smooth surface, with the designs applied through selective burnishing or the application of refractory slip. Another style involves carving or incising designs and selectively polishing the raised areas. For generations several families from Kha'po Owingeh and P'ohwhÃ³ge Owingeh pueblos have been making black-on-black ware with the techniques passed down from matriarch potters. Artists from other pueblos have also produced black-on-black ware. Several contemporary artists have created works honoring the pottery of their ancestors."}]},{title:"Spreadsheet creator",data:[{role:B.G7.User,content:"Create a two-column CSV of top science fiction movies along with the year of release."}]}]),R=t(11527),U=function(e){var n=e||{},t=n.open,a=n.onCancel,i=(0,v.useIntl)(),o=(0,S.Z)().initialize,r=k.useRef(null);k.useEffect((function(){r.current&&o(r.current)}),[r.current,o]);return(0,R.jsx)(Z.Z,{title:"Prompts",open:t,centered:!0,onCancel:a,destroyOnClose:!0,closeIcon:!0,maskClosable:!1,keyboard:!1,width:660,styles:{content:{padding:"0"},header:{padding:"var(--ant-modal-content-padding)",marginBottom:"0"}},footer:null,children:(0,R.jsx)("div",{ref:r,style:{maxHeight:"550px",overflow:"auto"},children:(0,R.jsx)("div",{className:"prompt-wrapper",children:I.map((function(n,t){return(0,R.jsxs)("div",{className:"prompt-item",children:[(0,R.jsxs)("h3",{className:"title",children:[(0,R.jsx)("span",{className:"text",children:n.title}),(0,R.jsx)(y.ZP,{size:"middle",type:"default",onClick:function(){return function(n){e.onSelect(n.data),a()}(n)},children:i.formatMessage({id:"playground.compare.apply"})})]}),n.data.map((function(e,n){return(0,R.jsxs)("div",{className:"data-item",children:[(0,R.jsx)("span",{className:"role",children:e.role}),(0,R.jsx)("span",{className:"prompt",children:(0,R.jsx)(N.Z.Paragraph,{style:{margin:0},ellipsis:{rows:2,expandable:!0,symbol:"more"},children:e.content})})]},n)}))]},t)}))})})})},J=k.memo(U),z=t(62487),P=t(2565),K=[{label:"2 columns",icon:"icon-cols_2",value:{span:12,count:2},tips:"playground.toolbar.compare2Model"},{label:"3 columns",icon:"icon-cols_3",value:{span:8,count:3},tips:"playground.toolbar.compare3Model"},{label:"4 columns",icon:"icon-cols_4",value:{span:12,count:4},tips:"playground.toolbar.compare4Model"},{label:"6 columns",icon:"icon-cols_6",value:{span:8,count:6},tips:"playground.toolbar.compare6Model"}],M=function(e){var n=e.handleSubmit,t=e.handleAbortFetch,a=e.presetPrompt,o=e.clearAll,s=e.updateLayout,c=e.addMessage,d=e.onCheck,w=e.loading,S=e.disabled,Z=e.isEmpty,N=e.submitIcon,I=e.placeholer,U=e.tools,M=e.style,F=e.checkLabel,D=e.defaultSize,Y=void 0===D?{minRows:3,maxRows:8}:D,L=e.shouldResetMessage,T=void 0===L||L,G=e.actions,H=void 0===G?["clear","layout","role","upload","add","paste"]:G,O=x.Z.TextArea,q=(0,v.useIntl)(),X=(0,k.useState)(!1),W=h()(X,2),V=W[0],_=W[1],$=(0,k.useState)(!1),ee=h()($,2),ne=ee[0],te=ee[1],ae=(0,k.useState)({role:B.G7.User,content:"",imgs:[]}),ie=h()(ae,2),oe=ie[0],re=ie[1],se=(0,k.useRef)(0),le=(0,k.useRef)(null),ce=(0,k.useMemo)((function(){var e;return!!S||!oe.content&&Z&&!(null!==(e=oe.imgs)&&void 0!==e&&e.length)}),[S,oe,Z]),ue=function(){re({role:oe.role,content:"",imgs:[]})},de=function(e){var n;re(u()(u()({},oe),{},{content:null===(n=e.target)||void 0===n?void 0:n.value}))},he=function(){n(u()({},oe)),T&&ue()},ge=function(e){null==e||e.preventDefault(),null==c||c(u()({},oe)),ue(),te(!0),setTimeout((function(){var e,n;null===(e=le.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e)}),100)},me=(0,k.useCallback)(function(){var e=l()(i()().mark((function e(n){var t,a,o,s,l,c,d;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.clipboardData||window.clipboardData,a=t.items,o=[],s=i()().mark((function e(){var n,t,r;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"file"===(n=a[l]).kind&&-1!==n.type.indexOf("image")?(t=n.getAsFile(),r=new Promise((function(e,n){var a=new FileReader;a.onload=function(t){var a,i=null===(a=t.target)||void 0===a?void 0:a.result;i?e(i):n("Failed to convert image to base64")},a.readAsDataURL(t)})),o.push(r)):n.kind;case 2:case"end":return e.stop()}}),e)})),l=0;case 5:if(!(l<a.length)){e.next=10;break}return e.delegateYield(s(),"t0",7);case 7:l++,e.next=5;break;case 10:return e.prev=10,e.next=13,Promise.all(o);case 13:(c=e.sent).length&&(d=j().map(c,(function(e){return se.current+=1,{uid:se.current,dataUrl:e}})),re(u()(u()({},oe),{},{imgs:[].concat(r()(oe.imgs||[]),r()(d))}))),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(10);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(n){return e.apply(this,arguments)}}(),[oe]),Ae=function(e){var n=j().filter(oe.imgs,(function(n){return n.uid!==e}));re(u()(u()({},oe),{},{imgs:n}))},pe=(0,k.useCallback)((function(){var e;if(oe.imgs&&(null===(e=oe.imgs)||void 0===e?void 0:e.length)>0){var n=r()(oe.imgs||[]).pop();n&&Ae(n.uid)}}),[oe.imgs,Ae]);(0,k.useCallback)((function(e){var n;"Backspace"===e.key&&""===oe.content&&oe.imgs&&(null===(n=oe.imgs)||void 0===n?void 0:n.length)>0&&(e.preventDefault(),pe())}),[oe,pe]);return(0,C.y1)(m.ZP.SUBMIT,(function(e){e.preventDefault(),he()}),{enabled:!w&&!ce,enableOnFormTags:ne,preventDefault:!0}),(0,C.y1)(m.ZP.ADD,(function(e){e.preventDefault(),e.stopPropagation(),ge()}),{enabled:!w,enableOnFormTags:ne,preventDefault:!0}),(0,C.y1)(m.ZP.FOCUS,(function(){var e,n;null===(e=le.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e,{cursor:"end"})}),{preventDefault:!0}),(0,R.jsxs)("div",{className:"messageInput",style:u()({},M),children:[(0,R.jsxs)("div",{className:"tool-bar",children:[(0,R.jsxs)("div",{className:"actions",children:[(0,R.jsxs)(R.Fragment,{children:[H.includes("role")&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(y.ZP,{type:"text",size:"middle",onClick:function(){re(u()(u()({},oe),{},{role:oe.role===B.G7.User?B.G7.Assistant:B.G7.User}))},icon:(0,R.jsx)(A.Z,{rotate:90}),children:q.formatMessage({id:"playground.".concat(oe.role)})}),(0,R.jsx)(b.Z,{type:"vertical",style:{margin:0}})]}),H.includes("upload")&&oe.role===B.G7.User&&(0,R.jsx)(P.Z,{handleUpdateImgList:function(e){re(u()(u()({},oe),{},{imgs:[].concat(r()(oe.imgs||[]),r()(e))}))},size:"middle"})]}),U,H.includes("check")&&(0,R.jsx)(E.Z,{onChange:d,defaultChecked:!0,children:F}),H.includes("clear")&&(0,R.jsx)(Q.Z,{title:q.formatMessage({id:"common.button.clear"}),children:(0,R.jsx)(y.ZP,{type:"text",icon:(0,R.jsx)(p.Z,{}),size:"middle",onClick:function(e){e.stopPropagation(),o(),re({role:B.G7.User,content:"",imgs:[]})}})}),H.includes("layout")&&s&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(b.Z,{type:"vertical",style:{margin:0}}),K.map((function(e){return(0,R.jsx)(Q.Z,{title:q.formatMessage({id:e.tips}),children:(0,R.jsx)(y.ZP,{type:"text",icon:(0,R.jsx)(g.Z,{type:e.icon}),size:"middle",onClick:function(){return n=e.value,void(null==s||s(n));var n}},e.icon)},e.icon)}))]})]}),(0,R.jsxs)("div",{className:"actions",children:[H.includes("add")&&(0,R.jsx)(Q.Z,{title:(0,R.jsxs)("span",{children:["[",m.d4.ADD.textKeybinding,"]"," ",q.formatMessage({id:"common.button.add"})]}),children:(0,R.jsx)(y.ZP,{type:"default",size:"middle",onClick:ge,children:q.formatMessage({id:"common.button.add"})})}),w?(0,R.jsx)(y.ZP,{style:{width:46},type:"primary",onClick:function(){t()},size:"middle",icon:(0,R.jsx)(g.Z,{type:"icon-stop1",className:"font-size-14"})}):(0,R.jsx)(Q.Z,{title:(0,R.jsxs)("span",{children:["[",m.d4.SUBMIT.textKeybinding,"]"," ",q.formatMessage({id:"common.button.submit"})]}),children:(0,R.jsx)(y.ZP,{style:{width:46},type:"primary",onClick:he,size:"middle",disabled:ce,children:null!=N?N:(0,R.jsx)(f.Z,{rotate:0,className:"font-size-14"})})})]})]}),(0,R.jsx)(z.Z,{dataList:oe.imgs||[],onDelete:Ae,editable:!0}),(0,R.jsxs)("div",{className:"input-box",children:[H.includes("paste")?(0,R.jsx)(O,{ref:le,autoSize:{minRows:3,maxRows:8},onChange:de,value:oe.content,size:"large",variant:"borderless",onFocus:function(){return te(!0)},onBlur:function(){return te(!1)},onPaste:function(e){e.clipboardData.getData("text")||(e.preventDefault(),me(e))}}):(0,R.jsx)(O,{ref:le,autoSize:{minRows:Y.minRows,maxRows:Y.maxRows},onChange:de,value:oe.content,size:"large",variant:"borderless",onFocus:function(){return te(!0)},onBlur:function(){return te(!1)}}),!oe.content&&!ne&&(0,R.jsx)("span",{className:"holder",dangerouslySetInnerHTML:{__html:null!=I?I:q.formatMessage({id:"playground.input.holder"})}})]}),(0,R.jsx)(J,{open:V,onCancel:function(){return _(!1)},onSelect:function(e){null==a||a(e)}})]})}},62487:function(e,n,t){t.d(n,{Z:function(){return U}});var a=t(26068),i=t.n(a),o=t(90228),r=t.n(o),s=t(87999),l=t.n(s),c=t(48305),u=t.n(c),d=t(67825),h=t.n(d),g=t(19289),m=t(17098),A=t(67201),p=t(90049),f=t(20027),v=t(84206),x=t(35502),y=t(19729),b=t(48980),E=t(54235),Q=t(32699),w=t.n(Q),j=t(50959),k=t(11527),C=["height","width","autoSize"],B=function(e){var n=e.height,t=void 0===n?100:n,a=e.width,o=e.autoSize,s=h()(e,C),c=(0,j.useState)(a||0),d=u()(c,2),w=d[0],B=d[1],S=(0,j.useState)(!1),Z=u()(S,2),N=Z[0],I=Z[1],R=(0,j.useCallback)((function(e){return new Promise((function(n){var t=new Image;t.onload=function(){n({ratio:(0,Q.round)(t.width/t.height,2)})},t.onerror=function(){n({ratio:1})},t.src=e}))}),[]),U=(0,j.useCallback)(l()(r()().mark((function n(){var a,i;return r()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,R(e.src||"");case 4:if(a=n.sent,i=a.ratio,"number"!=typeof t){n.next=10;break}B(t*i),n.next=11;break;case 10:throw new Error("Height must be a number");case 11:case"end":return n.stop()}}),n)}))),[R,t,e.src]),J=function(){var n=e.src||"",t=Date.now()+"",a=document.createElement("a");a.href=n,a.download=t,document.body.appendChild(a),a.click(),a.remove()};return(0,j.useEffect)((function(){U()}),[U]),(0,k.jsx)(b.Z,i()(i()({},s),{},{height:N?"auto":t,width:N?"100%":w,onError:function(){I(!0)},fallback:"data:image/png;base64,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",preview:{mask:(0,k.jsx)(g.Z,{}),toolbarRender:function(e,n){var t=n.transform.scale,a=n.actions,i=a.onFlipY,o=a.onFlipX,r=a.onRotateLeft,s=a.onRotateRight,l=a.onZoomOut,c=a.onZoomIn,u=a.onReset;return(0,k.jsxs)(E.Z,{size:12,className:"toolbar-wrapper",children:[(0,k.jsx)(m.Z,{onClick:J}),(0,k.jsx)(A.Z,{rotate:90,onClick:i}),(0,k.jsx)(A.Z,{onClick:o}),(0,k.jsx)(p.Z,{onClick:r}),(0,k.jsx)(f.Z,{onClick:s}),(0,k.jsx)(v.Z,{disabled:1===t,onClick:l}),(0,k.jsx)(x.Z,{disabled:50===t,onClick:c}),(0,k.jsx)(y.Z,{onClick:u})]})}}}))},S=t(35652),Z=t(9288),N=t(81745),I=t(7922),R=function(e){var n=e.dataList,t=e.editable,a=e.responseable,o=e.gutter,r=e.onDelete,s=(e.loading,e.autoSize),l=e.style,c=(0,j.useCallback)((function(e){null==r||r(e)}),[r]);if(w().isEmpty(n))return null;var u=function(e){var n=e.loading?{width:e.width,height:e.height}:{};return(0,k.jsxs)("span",{className:"thumb-img",style:n,children:[(0,k.jsx)(k.Fragment,{children:e.loading?(0,k.jsx)("span",{className:"progress-wrap",style:{width:"100%",height:"100%",display:"flex",border:"1px solid var(--ant-color-split)",borderRadius:"var(--border-radius-base)",justifyContent:"center",alignItems:"center",padding:"10px",overflow:"hidden"},children:(0,k.jsx)(Z.Z,{percent:e.progress,type:"circle"})}):(0,k.jsx)("span",{className:"img",style:{maxHeight:"min(".concat(e.maxHeight,", 100%)"),maxWidth:"min(".concat(e.maxWidth,", 100%)")},children:(0,k.jsx)(B,{autoSize:s,src:e.dataUrl,width:e.width||100,height:e.height||100})})}),t&&(0,k.jsx)("span",{className:"del",onClick:function(){return c(e.uid)},children:(0,k.jsx)(S.Z,{})})]},e.uid)};return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"thumb-list-wrap",style:i()({},l),children:a?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(N.Z,{gutter:o||[],className:"flex-center",style:{height:n.length>2?"50%":"100%",flex:"none",width:"100%",justifyContent:1===n.length?"center":"flex-start"},children:w().map(w().slice(n,0,2),(function(e,n){return(0,k.jsx)(I.Z,{span:e.span,className:"flex-center justify-center",style:{height:"100%",width:"100%"},children:u(e)},"1-".concat(n))}))}),n.length>2&&(0,k.jsx)(N.Z,{gutter:o||[],style:{height:"50%",flex:"none",width:"100%",justifyContent:1===n.length?"center":"flex-start"},className:"flex-center",children:w().map(w().slice(n,2),(function(e,n){return(0,k.jsx)(I.Z,{span:e.span,className:"flex-center justify-center",style:{height:"100%",width:"100%"},children:u(e)},"2-".concat(n))}))})]}):(0,k.jsx)(k.Fragment,{children:w().map(n,(function(e){return u(e)}))})})})},U=j.memo(R)},2565:function(e,n,t){var a=t(90228),i=t.n(a),o=t(87999),r=t.n(o),s=t(56642),l=t(99178),c=t(30898),u=t(23333),d=t(85885),h=t(32699),g=t(50959),m=t(11527),A=function(e){var n=e.handleUpdateImgList,t=(e.height,e.size),a=void 0===t?"small":t,o=(0,l.useIntl)(),A=(0,g.useRef)(null),p=(0,g.useCallback)((function(e){return new Promise((function(n,t){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){return n(a.result)},a.onerror=function(e){return t(e)}}))}),[]),f=(0,g.useCallback)((0,h.debounce)((function(e){n(e)}),300),[n,o]),v=(0,g.useCallback)(function(){var e=r()(i()().mark((function e(n){var t,a,o;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.fileList,e.next=3,Promise.all(t.map(function(){var e=r()(i()().mark((function e(n){var t;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.originFileObj||n.url){e.next=5;break}return e.next=3,p(n.originFileObj);case 3:t=e.sent,n.url=t;case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 3:(a=e.sent).length>0&&(o=a.filter((function(e){return e.url})).map((function(e){return{dataUrl:e.url,uid:e.uid}})),f(o));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[f,p]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(c.Z,{ref:A,accept:"image/*",multiple:!0,action:"/",fileList:[],beforeUpload:function(e){return!1},onChange:v,children:(0,m.jsx)(u.Z,{title:o.formatMessage({id:"playground.img.upload"}),children:(0,m.jsx)(d.ZP,{size:a,type:"text",icon:(0,m.jsx)(s.Z,{})})})})})};n.Z=g.memo(A)},19748:function(e,n,t){var a=t(26068),i=t.n(a),o=t(31759),r=t.n(o),s=t(48305),l=t.n(s),c=t(16850),u=t(16333),d=t(90515),h=t(99178),g=t(1956),m=t(85885),A=t(32699),p=t.n(A),f=t(50959),v=t(11527),x="bash",y="python",b="javascript",E=[{label:"Curl",value:x},{label:"Python",value:y},{label:"Nodejs",value:b}],Q=function(e){var n=e||{},t=n.title,a=n.open,o=n.api,s=n.clientType,A=n.logcommand,Q=n.onCancel,w=n.payLoad,j=n.parameters,k=void 0===j?{}:j,C=(0,h.useIntl)(),B=(0,f.useState)(x),S=l()(B,2),Z=S[0],N=S[1],I="".concat(window.location.origin,"/v1-openai"),R=(0,f.useMemo)((function(){var e=A?"console.log(response.".concat(A,");\n"):"",n=A?"print(response.".concat(A,")"):"";if(Z===x)return"curl ".concat(window.location.origin,"/v1-openai/").concat(o,' \\\n-H "Content-Type: application/json" \\\n-H "Authorization: Bearer ${YOUR_GPUSTACK_API_KEY}" \\\n-d \'').concat(JSON.stringify(i()(i()({},k),w),null,2),"'");if(Z===b)return'const OpenAI = require("openai");\n\nconst openai = new OpenAI({\n  "apiKey": "YOUR_GPUSTACK_API_KEY",\n  "baseURL": "'.concat(I,'"\n});\n\nasync function main(){\n  const params = ').concat(JSON.stringify(i()(i()({},k),w),null,4),";\nconst response = await openai.").concat(s,"(params);\n  ").concat(e,"}\nmain();");if(Z===y){var t=p().keys(k).reduce((function(e,n){if(null===k[n])return e;var t="string"==typeof k[n]?'"'.concat(k[n],'"'):k[n];return e+"  ".concat(n,"=").concat(t,",\n")}),""),a=function(e){return p().keys(e).reduce((function(n,t){if(null===e[t])return n;var a="object"===r()(e[t])?JSON.stringify(e[t],null,2):'"'.concat(e[t],'"');return n+"  ".concat(t,"=").concat(a,",\n")}),"")}(w);return'from openai import OpenAI\n\nclient = OpenAI(\n  base_url="'.concat(I,'", \n  api_key="YOUR_GPUSTACK_API_KEY"\n)\n\nresponse = client.').concat(s,"(\n").concat(t).concat(a,")\n").concat(n)}return""}),[Z,w,k,o,s,A]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(g.Z,{title:t,open:a,centered:!0,onCancel:function(){N(x),Q()},destroyOnClose:!0,closeIcon:!0,maskClosable:!1,keyboard:!1,width:600,footer:null,children:[(0,v.jsx)("div",{style:{marginBottom:"10px"},children:C.formatMessage({id:"playground.viewcode.info"})}),(0,v.jsxs)("div",{children:[(0,v.jsx)(c.Z,{copyText:R,langOptions:E,defaultValue:x,showHeader:!0,onChangeLang:function(e){N(e)},styles:{wrapper:{backgroundColor:"var(--color-editor-dark)"}},children:(0,v.jsx)("div",{style:{paddingRight:2,paddingBottom:2},children:(0,v.jsx)(u.Z,{height:380,theme:"dark",code:R,lang:Z,copyable:!1})})}),(0,v.jsxs)("div",{style:{marginTop:10,display:"flex",alignItems:"baseline"},children:[(0,v.jsx)(d.Z,{className:"m-r-8"}),(0,v.jsx)("span",{children:C.formatMessage({id:"playground.viewcode.tips"},{here:(0,v.jsx)(m.ZP,{type:"link",size:"small",href:"#/api-keys",target:"_blank",style:{paddingInline:2},children:(0,v.jsxs)("span",{children:[" ",C.formatMessage({id:"playground.viewcode.here"})]})})})})]})]})]})})};n.Z=f.memo(Q)},9298:function(e,n,t){t.d(n,{G7:function(){return a},NW:function(){return o},kA:function(){return i}});t(26068),t(32699);var a={User:"user",Assistant:"assistant",System:"system"},i=(a.User,a.Assistant,function(e){if(!e.length)return[];var n=[];return e.forEach((function(e){var t;if(null!==(t=e.imgs)&&void 0!==t&&t.length){var a=e.imgs.map((function(e){return{type:"image_url",image_url:{url:e.dataUrl}}}));n.push({role:e.role,content:a})}e.content&&n.push({role:e.role,content:e.content})})),n}),o={chat:{api:"chat/completions",clientType:"chat.completions.create",logcommand:"choices[0].message.content"},embeddings:{api:"embeddings",clientType:"embedding.create",logcommand:"data[0].embedding"},images:{api:"images/generations",clientType:"images.generate",logcommand:"data[0].b64_json"}}},21435:function(){}}]);