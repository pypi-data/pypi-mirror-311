import{s as ge,E as ae,F as re,a as g,d as c,f as d,i as F,g as h,n as oe,y as ue,A as de,p as Be,q as Se,e as E,t as H,k as Z,c as D,b as L,o as q,u as be,h as O,j as Ae,B as He,I as Le,a0 as Ue}from"./scheduler.CvZYoJ9P.js";import{S as pe,i as we,f as me,b as Q,d as Y,m as x,t as B,a as A,e as $,g as _e,c as he}from"./index.C1N8d1hw.js";import{i as ve,j as Ne}from"./index.ERrZjxie.js";import{M as Ze}from"./Modal.gkQ_MyVV.js";import{X as qe}from"./XMark.CMt8xzLL.js";import{S as We}from"./Switch.BWN5EyxE.js";import{T as Oe}from"./Tooltip.DE9EGTmQ.js";import{S as Pe}from"./Spinner.D_9sd18Y.js";function Re(n){let e,t;return{c(){e=ae("svg"),t=ae("path"),this.h()},l(l){e=re(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var i=g(e);t=re(i,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(c),i.forEach(c),this.h()},h(){d(t,"stroke-linecap","round"),d(t,"stroke-linejoin","round"),d(t,"d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"fill","none"),d(e,"viewBox","0 0 24 24"),d(e,"stroke-width",n[1]),d(e,"stroke","currentColor"),d(e,"class",n[0])},m(l,i){F(l,e,i),h(e,t)},p(l,[i]){i&2&&d(e,"stroke-width",l[1]),i&1&&d(e,"class",l[0])},i:oe,o:oe,d(l){l&&c(e)}}}function Xe(n,e,t){let{className:l="size-4"}=e,{strokeWidth:i="1.5"}=e;return n.$$set=s=>{"className"in s&&t(0,l=s.className),"strokeWidth"in s&&t(1,i=s.strokeWidth)},[l,i]}class Ge extends pe{constructor(e){super(),we(this,e,Xe,Re,ge,{className:0,strokeWidth:1})}}function ze(n){let e,t=ve(n[0].size)+"",l,i;return{c(){e=E("div"),l=H(t),i=H(`
							•`),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=g(e);l=L(a,t),a.forEach(c),i=L(s,`
							•`),this.h()},h(){d(e,"class","capitalize shrink-0")},m(s,a){F(s,e,a),h(e,l),F(s,i,a)},p(s,a){a&1&&t!==(t=ve(s[0].size)+"")&&O(l,t)},d(s){s&&(c(e),c(i))}}}function Ce(n){var y,r,p;let e,t=Ne(((p=(r=(y=n[0])==null?void 0:y.file)==null?void 0:r.data)==null?void 0:p.content)??"")+"",l,i,s,a,u,o,b;return u=new Ge({}),{c(){e=E("div"),l=H(t),i=H(" extracted lines"),s=Z(),a=E("div"),Q(u.$$.fragment),o=H(`

								Formatting may be inconsistent from source.`),this.h()},l(v){e=D(v,"DIV",{class:!0});var V=g(e);l=L(V,t),i=L(V," extracted lines"),V.forEach(c),s=q(v),a=D(v,"DIV",{class:!0});var N=g(a);Y(u.$$.fragment,N),o=L(N,`

								Formatting may be inconsistent from source.`),N.forEach(c),this.h()},h(){d(e,"class","capitalize shrink-0"),d(a,"class","flex items-center gap-1 shrink-0")},m(v,V){F(v,e,V),h(e,l),h(e,i),F(v,s,V),F(v,a,V),x(u,a,null),h(a,o),b=!0},p(v,V){var N,z,T;(!b||V&1)&&t!==(t=Ne(((T=(z=(N=v[0])==null?void 0:N.file)==null?void 0:z.data)==null?void 0:T.content)??"")+"")&&O(l,t)},i(v){b||(B(u.$$.fragment,v),b=!0)},o(v){A(u.$$.fragment,v),b=!1},d(v){v&&(c(e),c(s),c(a)),$(u)}}}function Fe(n){let e,t,l;return t=new Oe({props:{content:n[3]?"Inject the entire document as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases.",$$slots:{default:[Qe]},$$scope:{ctx:n}}}),{c(){e=E("div"),Q(t.$$.fragment)},l(i){e=D(i,"DIV",{});var s=g(e);Y(t.$$.fragment,s),s.forEach(c)},m(i,s){F(i,e,s),x(t,e,null),l=!0},p(i,s){const a={};s&8&&(a.content=i[3]?"Inject the entire document as context for comprehensive processing, this is recommended for complex queries.":"Default to segmented retrieval for focused and relevant content extraction, this is recommended for most cases."),s&521&&(a.$$scope={dirty:s,ctx:i}),t.$set(a)},i(i){l||(B(t.$$.fragment,i),l=!0)},o(i){A(t.$$.fragment,i),l=!1},d(i){i&&c(e),$(t)}}}function Je(n){let e;return{c(){e=H("Using Focused Retrieval")},l(t){e=L(t,"Using Focused Retrieval")},m(t,l){F(t,e,l)},d(t){t&&c(e)}}}function Ke(n){let e;return{c(){e=H("Using Entire Document")},l(t){e=L(t,"Using Entire Document")},m(t,l){F(t,e,l)},d(t){t&&c(e)}}}function Qe(n){let e,t,l,i,s;function a(r,p){return r[3]?Ke:Je}let u=a(n),o=u(n);function b(r){n[5](r)}let y={};return n[3]!==void 0&&(y.state=n[3]),l=new We({props:y}),ue.push(()=>me(l,"state",b)),l.$on("change",n[6]),{c(){e=E("div"),o.c(),t=Z(),Q(l.$$.fragment),this.h()},l(r){e=D(r,"DIV",{class:!0});var p=g(e);o.l(p),t=q(p),Y(l.$$.fragment,p),p.forEach(c),this.h()},h(){d(e,"class","flex items-center gap-1.5 text-xs")},m(r,p){F(r,e,p),o.m(e,null),h(e,t),x(l,e,null),s=!0},p(r,p){u!==(u=a(r))&&(o.d(1),o=u(r),o&&(o.c(),o.m(e,t)));const v={};!i&&p&8&&(i=!0,v.state=r[3],de(()=>i=!1)),l.$set(v)},i(r){s||(B(l.$$.fragment,r),s=!0)},o(r){A(l.$$.fragment,r),s=!1},d(r){r&&c(e),o.d(),$(l)}}}function Ye(n){var X,ee,G,ke,Ee,De,Ie;let e,t,l,i,s,a,u=(((X=n[0])==null?void 0:X.name)??"File")+"",o,b,y,r,p,v,V,N,z,T,w,R,U,_,W=(((ke=(G=(ee=n[0])==null?void 0:ee.file)==null?void 0:G.data)==null?void 0:ke.content)??"No content")+"",P,M,C,j;v=new qe({});let f=n[0].size&&ze(n),m=((Ie=(De=(Ee=n[0])==null?void 0:Ee.file)==null?void 0:De.data)==null?void 0:Ie.content)&&Ce(n),k=n[2]&&Fe(n);return{c(){e=E("div"),t=E("div"),l=E("div"),i=E("div"),s=E("div"),a=E("a"),o=H(u),y=Z(),r=E("div"),p=E("button"),Q(v.$$.fragment),V=Z(),N=E("div"),z=E("div"),T=E("div"),f&&f.c(),w=Z(),m&&m.c(),R=Z(),k&&k.c(),U=Z(),_=E("div"),P=H(W),this.h()},l(I){e=D(I,"DIV",{class:!0});var S=g(e);t=D(S,"DIV",{class:!0});var J=g(t);l=D(J,"DIV",{class:!0});var K=g(l);i=D(K,"DIV",{});var te=g(i);s=D(te,"DIV",{class:!0});var le=g(s);a=D(le,"A",{href:!0,target:!0,class:!0});var ie=g(a);o=L(ie,u),ie.forEach(c),le.forEach(c),te.forEach(c),y=q(K),r=D(K,"DIV",{});var ne=g(r);p=D(ne,"BUTTON",{});var se=g(p);Y(v.$$.fragment,se),se.forEach(c),ne.forEach(c),K.forEach(c),V=q(J),N=D(J,"DIV",{});var ye=g(N);z=D(ye,"DIV",{class:!0});var fe=g(z);T=D(fe,"DIV",{class:!0});var ce=g(T);f&&f.l(ce),w=q(ce),m&&m.l(ce),ce.forEach(c),R=q(fe),k&&k.l(fe),fe.forEach(c),ye.forEach(c),J.forEach(c),U=q(S),_=D(S,"DIV",{class:!0});var Ve=g(_);P=L(Ve,W),Ve.forEach(c),S.forEach(c),this.h()},h(){d(a,"href",b=n[0].url?n[0].type==="file"?`${n[0].url}/content`:`${n[0].url}`:"#"),d(a,"target","_blank"),d(a,"class","hover:underline line-clamp-1"),d(s,"class","font-medium text-lg dark:text-gray-100"),d(l,"class","flex items-start justify-between"),d(T,"class","flex flex-wrap text-sm gap-1 text-gray-500"),d(z,"class","flex flex-col items-center md:flex-row gap-1 justify-between w-full"),d(t,"class","pb-2"),d(_,"class","max-h-96 overflow-scroll scrollbar-hidden text-xs whitespace-pre-wrap"),d(e,"class","font-primary px-6 py-5 w-full flex flex-col justify-center dark:text-gray-400")},m(I,S){F(I,e,S),h(e,t),h(t,l),h(l,i),h(i,s),h(s,a),h(a,o),h(l,y),h(l,r),h(r,p),x(v,p,null),h(t,V),h(t,N),h(N,z),h(z,T),f&&f.m(T,null),h(T,w),m&&m.m(T,null),h(z,R),k&&k.m(z,null),h(e,U),h(e,_),h(_,P),M=!0,C||(j=be(p,"click",n[4]),C=!0)},p(I,S){var J,K,te,le,ie,ne,se;(!M||S&1)&&u!==(u=(((J=I[0])==null?void 0:J.name)??"File")+"")&&O(o,u),(!M||S&1&&b!==(b=I[0].url?I[0].type==="file"?`${I[0].url}/content`:`${I[0].url}`:"#"))&&d(a,"href",b),I[0].size?f?f.p(I,S):(f=ze(I),f.c(),f.m(T,w)):f&&(f.d(1),f=null),(le=(te=(K=I[0])==null?void 0:K.file)==null?void 0:te.data)!=null&&le.content?m?(m.p(I,S),S&1&&B(m,1)):(m=Ce(I),m.c(),B(m,1),m.m(T,null)):m&&(_e(),A(m,1,1,()=>{m=null}),he()),I[2]?k?(k.p(I,S),S&4&&B(k,1)):(k=Fe(I),k.c(),B(k,1),k.m(z,null)):k&&(_e(),A(k,1,1,()=>{k=null}),he()),(!M||S&1)&&W!==(W=(((se=(ne=(ie=I[0])==null?void 0:ie.file)==null?void 0:ne.data)==null?void 0:se.content)??"No content")+"")&&O(P,W)},i(I){M||(B(v.$$.fragment,I),B(m),B(k),M=!0)},o(I){A(v.$$.fragment,I),A(m),A(k),M=!1},d(I){I&&c(e),$(v),f&&f.d(),m&&m.d(),k&&k.d(),C=!1,j()}}}function xe(n){let e,t,l;function i(a){n[7](a)}let s={size:"lg",$$slots:{default:[Ye]},$$scope:{ctx:n}};return n[1]!==void 0&&(s.show=n[1]),e=new Ze({props:s}),ue.push(()=>me(e,"show",i)),{c(){Q(e.$$.fragment)},l(a){Y(e.$$.fragment,a)},m(a,u){x(e,a,u),l=!0},p(a,[u]){const o={};u&527&&(o.$$scope={dirty:u,ctx:a}),!t&&u&2&&(t=!0,o.show=a[1],de(()=>t=!1)),e.$set(o)},i(a){l||(B(e.$$.fragment,a),l=!0)},o(a){A(e.$$.fragment,a),l=!1},d(a){$(e,a)}}}function $e(n,e,t){Be("i18n");let{item:l}=e,{show:i=!1}=e,{edit:s=!1}=e,a=!1;Se(()=>{console.log(l),(l==null?void 0:l.context)==="full"&&t(3,a=!0)});const u=()=>{t(1,i=!1)};function o(r){a=r,t(3,a)}const b=r=>{t(0,l.context=r.detail?"full":void 0,l)};function y(r){i=r,t(1,i)}return n.$$set=r=>{"item"in r&&t(0,l=r.item),"show"in r&&t(1,i=r.show),"edit"in r&&t(2,s=r.edit)},[l,i,s,a,u,o,b,y]}class et extends pe{constructor(e){super(),we(this,e,$e,xe,ge,{item:0,show:1,edit:2})}}function Me(n){let e,t,l,i;function s(o){n[14](o)}function a(o){n[15](o)}let u={edit:n[6]};return n[10]!==void 0&&(u.show=n[10]),n[0]!==void 0&&(u.item=n[0]),e=new et({props:u}),ue.push(()=>me(e,"show",s)),ue.push(()=>me(e,"item",a)),{c(){Q(e.$$.fragment)},l(o){Y(e.$$.fragment,o)},m(o,b){x(e,o,b),i=!0},p(o,b){const y={};b&64&&(y.edit=o[6]),!t&&b&1024&&(t=!0,y.show=o[10],de(()=>t=!1)),!l&&b&1&&(l=!0,y.item=o[0],de(()=>l=!1)),e.$set(y)},i(o){i||(B(e.$$.fragment,o),i=!0)},o(o){A(e.$$.fragment,o),i=!1},d(o){$(e,o)}}}function tt(n){let e,t;return e=new Pe({}),{c(){Q(e.$$.fragment)},l(l){Y(e.$$.fragment,l)},m(l,i){x(e,l,i),t=!0},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){A(e.$$.fragment,l),t=!1},d(l){$(e,l)}}}function lt(n){let e,t,l;return{c(){e=ae("svg"),t=ae("path"),l=ae("path"),this.h()},l(i){e=re(i,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=g(e);t=re(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(c),l=re(s,"path",{d:!0}),g(l).forEach(c),s.forEach(c),this.h()},h(){d(t,"fill-rule","evenodd"),d(t,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),d(t,"clip-rule","evenodd"),d(l,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"viewBox","0 0 24 24"),d(e,"fill","currentColor"),d(e,"class","size-5")},m(i,s){F(i,e,s),h(e,t),h(e,l)},i:oe,o:oe,d(i){i&&c(e)}}}function it(n){let e,t;return{c(){e=E("span"),t=H(n[8]),this.h()},l(l){e=D(l,"SPAN",{class:!0});var i=g(e);t=L(i,n[8]),i.forEach(c),this.h()},h(){d(e,"class","capitalize line-clamp-1")},m(l,i){F(l,e,i),h(e,t)},p(l,i){i&256&&O(t,l[8])},d(l){l&&c(e)}}}function nt(n){let e=n[11].t("Collection")+"",t;return{c(){t=H(e)},l(l){t=L(l,e)},m(l,i){F(l,t,i)},p(l,i){i&2048&&e!==(e=l[11].t("Collection")+"")&&O(t,e)},d(l){l&&c(t)}}}function st(n){let e=n[11].t("Document")+"",t;return{c(){t=H(e)},l(l){t=L(l,e)},m(l,i){F(l,t,i)},p(l,i){i&2048&&e!==(e=l[11].t("Document")+"")&&O(t,e)},d(l){l&&c(t)}}}function at(n){let e=n[11].t("File")+"",t;return{c(){t=H(e)},l(l){t=L(l,e)},m(l,i){F(l,t,i)},p(l,i){i&2048&&e!==(e=l[11].t("File")+"")&&O(t,e)},d(l){l&&c(t)}}}function je(n){let e,t=ve(n[9])+"",l;return{c(){e=E("span"),l=H(t),this.h()},l(i){e=D(i,"SPAN",{class:!0});var s=g(e);l=L(s,t),s.forEach(c),this.h()},h(){d(e,"class","capitalize")},m(i,s){F(i,e,s),h(e,l)},p(i,s){s&512&&t!==(t=ve(i[9])+"")&&O(l,t)},d(i){i&&c(e)}}}function Te(n){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',i,s;return{c(){e=E("div"),t=E("button"),t.innerHTML=l,this.h()},l(a){e=D(a,"DIV",{class:!0});var u=g(e);t=D(u,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Le(t)!=="svelte-125my9x"&&(t.innerHTML=l),u.forEach(c),this.h()},h(){d(t,"class","bg-gray-400 text-white border border-white rounded-full group-hover:visible invisible transition"),d(t,"type","button"),d(e,"class","absolute -top-1 -right-1")},m(a,u){F(a,e,u),h(e,t),i||(s=be(t,"click",Ue(n[16])),i=!0)},p:oe,d(a){a&&c(e),i=!1,s()}}}function rt(n){let e,t,l,i,s,a,u,o,b,y,r,p,v,V,N,z,T,w=n[0]&&Me(n);const R=[lt,tt],U=[];function _(f,m){return f[5]?1:0}i=_(n),s=U[i]=R[i](n);function W(f,m){return f[8]==="file"?at:f[8]==="doc"?st:f[8]==="collection"?nt:it}let P=W(n),M=P(n),C=n[9]&&je(n),j=n[4]&&Te(n);return{c(){w&&w.c(),e=Z(),t=E("button"),l=E("div"),s.c(),a=Z(),u=E("div"),o=E("div"),b=H(n[7]),y=Z(),r=E("div"),M.c(),p=Z(),C&&C.c(),v=Z(),j&&j.c(),this.h()},l(f){w&&w.l(f),e=q(f),t=D(f,"BUTTON",{class:!0,type:!0});var m=g(t);l=D(m,"DIV",{class:!0});var k=g(l);s.l(k),k.forEach(c),a=q(m),u=D(m,"DIV",{class:!0});var X=g(u);o=D(X,"DIV",{class:!0});var ee=g(o);b=L(ee,n[7]),ee.forEach(c),y=q(X),r=D(X,"DIV",{class:!0});var G=g(r);M.l(G),p=q(G),C&&C.l(G),G.forEach(c),X.forEach(c),v=q(m),j&&j.l(m),m.forEach(c),this.h()},h(){d(l,"class","p-3 bg-black/20 dark:bg-white/10 text-white rounded-xl"),d(o,"class","dark:text-gray-100 text-sm font-medium line-clamp-1 mb-1"),d(r,"class","flex justify-between text-gray-500 text-xs line-clamp-1"),d(u,"class","flex flex-col justify-center -space-y-0.5 ml-1 px-2.5 w-full"),d(t,"class",V="relative group p-1.5 "+n[1]+" flex items-center "+n[2]+" rounded-2xl text-left"),d(t,"type","button")},m(f,m){w&&w.m(f,m),F(f,e,m),F(f,t,m),h(t,l),U[i].m(l,null),h(t,a),h(t,u),h(u,o),h(o,b),h(u,y),h(u,r),M.m(r,null),h(r,p),C&&C.m(r,null),h(t,v),j&&j.m(t,null),N=!0,z||(T=be(t,"click",n[17]),z=!0)},p(f,[m]){f[0]?w?(w.p(f,m),m&1&&B(w,1)):(w=Me(f),w.c(),B(w,1),w.m(e.parentNode,e)):w&&(_e(),A(w,1,1,()=>{w=null}),he());let k=i;i=_(f),i!==k&&(_e(),A(U[k],1,1,()=>{U[k]=null}),he(),s=U[i],s||(s=U[i]=R[i](f),s.c()),B(s,1),s.m(l,null)),(!N||m&128)&&O(b,f[7]),P===(P=W(f))&&M?M.p(f,m):(M.d(1),M=P(f),M&&(M.c(),M.m(r,p))),f[9]?C?C.p(f,m):(C=je(f),C.c(),C.m(r,null)):C&&(C.d(1),C=null),f[4]?j?j.p(f,m):(j=Te(f),j.c(),j.m(t,null)):j&&(j.d(1),j=null),(!N||m&6&&V!==(V="relative group p-1.5 "+f[1]+" flex items-center "+f[2]+" rounded-2xl text-left"))&&d(t,"class",V)},i(f){N||(B(w),B(s),N=!0)},o(f){A(w),A(s),N=!1},d(f){f&&(c(e),c(t)),w&&w.d(f),U[i].d(),M.d(),C&&C.d(),j&&j.d(),z=!1,T()}}}function ot(n,e,t){let l;const i=Be("i18n");Ae(n,i,_=>t(11,l=_));const s=He();let{className:a="w-60"}=e,{colorClassName:u="bg-white dark:bg-gray-850 border border-gray-50 dark:border-white/5"}=e,{url:o=null}=e,{dismissible:b=!1}=e,{loading:y=!1}=e,{item:r=null}=e,{edit:p=!1}=e,{name:v}=e,{type:V}=e,{size:N}=e,z=!1;function T(_){z=_,t(10,z)}function w(_){r=_,t(0,r)}const R=()=>{s("dismiss")},U=async()=>{var _,W;(W=(_=r==null?void 0:r.file)==null?void 0:_.data)!=null&&W.content?t(10,z=!z):o&&(V==="file"?window.open(`${o}/content`,"_blank").focus():window.open(`${o}`,"_blank").focus()),s("click")};return n.$$set=_=>{"className"in _&&t(1,a=_.className),"colorClassName"in _&&t(2,u=_.colorClassName),"url"in _&&t(3,o=_.url),"dismissible"in _&&t(4,b=_.dismissible),"loading"in _&&t(5,y=_.loading),"item"in _&&t(0,r=_.item),"edit"in _&&t(6,p=_.edit),"name"in _&&t(7,v=_.name),"type"in _&&t(8,V=_.type),"size"in _&&t(9,N=_.size)},[r,a,u,o,b,y,p,v,V,N,z,l,i,s,T,w,R,U]}class gt extends pe{constructor(e){super(),we(this,e,ot,rt,ge,{className:1,colorClassName:2,url:3,dismissible:4,loading:5,item:0,edit:6,name:7,type:8,size:9})}}export{gt as F,Ge as I};
//# sourceMappingURL=FileItem.DSZefiJR.js.map
