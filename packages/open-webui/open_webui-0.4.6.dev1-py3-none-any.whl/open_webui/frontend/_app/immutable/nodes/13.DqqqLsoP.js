import{s as it,E as rl,F as al,a as h,d as c,f as u,i as K,g as n,n as Fe,y as Pe,A as ze,p as yt,j as ct,B as El,q as ml,e as d,t as Q,k as V,c as _,b as J,o as x,I as et,T as nl,C as Re,u as be,z as ps,h as ee,H as Nt,R as Dl,S as Ds,P as Is,Q as Rl,l as ol}from"../chunks/scheduler.Cy0XlzB3.js";import{S as dt,i as _t,f as je,b as ue,d as fe,m as ce,t as L,a as S,e as de,g as Se,c as He}from"../chunks/index.DFpEjgiy.js";import{t as ot}from"../chunks/Toaster.svelte_svelte_type_style_lang.Bke5K-AV.js";import{g as vs}from"../chunks/entry.Bhco3DJ-.js";import{d as _l,u as Il,e as Vs}from"../chunks/index.1K5ebsbl.js";import{u as xs,a as Ts,b as sl,d as Ns,c as Zl,e as Ms}from"../chunks/index.CeKJQ76Y.js";import{e as Ot,u as Cs,o as Us}from"../chunks/each.DfEv0HRi.js";import{d as Tt}from"../chunks/dayjs.min.CnqrW7zs.js";import{r as gs}from"../chunks/relativeTime.HIEE8cw9.js";import{P as Ls}from"../chunks/Pagination.C5FhyGbZ.js";import{T as Yt}from"../chunks/Tooltip.BEo7fKCr.js";import{M as hl}from"../chunks/Modal.BeA4vhUE.js";import{h as Wl,i as As}from"../chunks/index.Bbul-var.js";import{c as ql}from"../chunks/index.Cswvaf8b.js";import{C as Bs}from"../chunks/ConfirmDialog.CfjT9LPS.js";import{B as ws}from"../chunks/Badge.DTBcCXI6.js";import{P as bs}from"../chunks/Plus.CRMIPJyK.js";import{C as Et}from"../chunks/ChevronUp.CqO4Bv5r.js";import{C as il}from"../chunks/ChevronDown.BfqYVdbS.js";import"../chunks/index.B0txjsjf.js";import{C as Ss}from"../chunks/ChevronRight.CaVpFt1X.js";import{T as ks}from"../chunks/Textarea.BQerHvXW.js";import{S as Gt}from"../chunks/Switch.CnsIy__1.js";import{C as Hs}from"../chunks/Checkbox.gAmDxvZB.js";import{W as Ps}from"../chunks/WrenchSolid.CeuEoMDj.js";import{U as zs,u as js,d as Gs,g as Fl,c as Os}from"../chunks/UserCircleSolid.fYFyf4w6.js";import{P as Ys}from"../chunks/Pencil.DTtr91dJ.js";import{U as Rs}from"../chunks/User.CcdlcVrK.js";function Zs(s){let e,t;return{c(){e=rl("svg"),t=rl("path"),this.h()},l(l){e=al(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var r=h(e);t=al(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),h(t).forEach(c),r.forEach(c),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width",s[1]),u(e,"stroke","currentColor"),u(e,"class",s[0])},m(l,r){K(l,e,r),n(e,t)},p(l,[r]){r&2&&u(e,"stroke-width",l[1]),r&1&&u(e,"class",l[0])},i:Fe,o:Fe,d(l){l&&c(e)}}}function Ws(s,e,t){let{className:l="size-4"}=e,{strokeWidth:r="1.5"}=e;return s.$$set=o=>{"className"in o&&t(0,l=o.className),"strokeWidth"in o&&t(1,r=o.strokeWidth)},[l,r]}class qs extends dt{constructor(e){super(),_t(this,e,Ws,Zs,it,{className:0,strokeWidth:1})}}function Fs(s){let e,t,l,r=s[4].t("Edit User")+"",o,a,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,v,w,p,g,b,I,$,k,T,C,y,E,H=s[1].name+"",A,D,z,F=s[4].t("Created at")+"",B,Y,G=Tt(s[1].created_at*1e3).format(s[4].t("MMMM DD, YYYY"))+"",X,j,N,Z,le,oe,q,R=s[4].t("Email")+"",O,ie,pe,P,te,_e,M,W,me=s[4].t("Name")+"",ve,ye,Ee,ke,re,se,$e,xe=s[4].t("New Password")+"",Ve,Ge,Me,Ue,Le,Ce,Ne,Oe=s[4].t("Save")+"",Ze,ae,ge;return{c(){e=d("div"),t=d("div"),l=d("div"),o=Q(r),a=V(),i=d("button"),i.innerHTML=f,m=V(),v=d("hr"),w=V(),p=d("div"),g=d("div"),b=d("form"),I=d("div"),$=d("div"),k=d("img"),C=V(),y=d("div"),E=d("div"),A=Q(H),D=V(),z=d("div"),B=Q(F),Y=V(),X=Q(G),j=V(),N=d("hr"),Z=V(),le=d("div"),oe=d("div"),q=d("div"),O=Q(R),ie=V(),pe=d("div"),P=d("input"),_e=V(),M=d("div"),W=d("div"),ve=Q(me),ye=V(),Ee=d("div"),ke=d("input"),re=V(),se=d("div"),$e=d("div"),Ve=Q(xe),Ge=V(),Me=d("div"),Ue=d("input"),Le=V(),Ce=d("div"),Ne=d("button"),Ze=Q(Oe),this.h()},l(we){e=_(we,"DIV",{});var De=h(e);t=_(De,"DIV",{class:!0});var Ae=h(t);l=_(Ae,"DIV",{class:!0});var Be=h(l);o=J(Be,r),Be.forEach(c),a=x(Ae),i=_(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),et(i)!=="svelte-745w2y"&&(i.innerHTML=f),Ae.forEach(c),m=x(De),v=_(De,"HR",{class:!0}),w=x(De),p=_(De,"DIV",{class:!0});var Je=h(p);g=_(Je,"DIV",{class:!0});var lt=h(g);b=_(lt,"FORM",{class:!0});var Ie=h(b);I=_(Ie,"DIV",{class:!0});var nt=h(I);$=_(nt,"DIV",{class:!0});var mt=h($);k=_(mt,"IMG",{src:!0,class:!0,alt:!0}),mt.forEach(c),C=x(nt),y=_(nt,"DIV",{});var wt=h(y);E=_(wt,"DIV",{class:!0});var Ke=h(E);A=J(Ke,H),Ke.forEach(c),D=x(wt),z=_(wt,"DIV",{class:!0});var Qe=h(z);B=J(Qe,F),Y=x(Qe),X=J(Qe,G),Qe.forEach(c),wt.forEach(c),nt.forEach(c),j=x(Ie),N=_(Ie,"HR",{class:!0}),Z=x(Ie),le=_(Ie,"DIV",{class:!0});var ut=h(le);oe=_(ut,"DIV",{class:!0});var st=h(oe);q=_(st,"DIV",{class:!0});var ht=h(q);O=J(ht,R),ht.forEach(c),ie=x(st),pe=_(st,"DIV",{class:!0});var Dt=h(pe);P=_(Dt,"INPUT",{class:!0,type:!0,autocomplete:!0}),Dt.forEach(c),st.forEach(c),_e=x(ut),M=_(ut,"DIV",{class:!0});var kt=h(M);W=_(kt,"DIV",{class:!0});var Ct=h(W);ve=J(Ct,me),Ct.forEach(c),ye=x(kt),Ee=_(kt,"DIV",{class:!0});var rt=h(Ee);ke=_(rt,"INPUT",{class:!0,type:!0,autocomplete:!0}),rt.forEach(c),kt.forEach(c),re=x(ut),se=_(ut,"DIV",{class:!0});var tt=h(se);$e=_(tt,"DIV",{class:!0});var Mt=h($e);Ve=J(Mt,xe),Mt.forEach(c),Ge=x(tt),Me=_(tt,"DIV",{class:!0});var he=h(Me);Ue=_(he,"INPUT",{class:!0,type:!0,autocomplete:!0}),he.forEach(c),tt.forEach(c),ut.forEach(c),Le=x(Ie),Ce=_(Ie,"DIV",{class:!0});var Te=h(Ce);Ne=_(Te,"BUTTON",{class:!0,type:!0});var We=h(Ne);Ze=J(We,Oe),We.forEach(c),Te.forEach(c),Ie.forEach(c),lt.forEach(c),Je.forEach(c),De.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(i,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),u(v,"class","dark:border-gray-800"),nl(k.src,T=s[1].profile_image_url)||u(k,"src",T),u(k,"class","max-w-[55px] object-cover rounded-full"),u(k,"alt","User profile"),u($,"class","self-center mr-5"),u(E,"class","self-center capitalize font-semibold"),u(z,"class","text-xs text-gray-500"),u(I,"class","flex items-center rounded-md py-2 px-4 w-full"),u(N,"class","dark:border-gray-800 my-3 w-full"),u(q,"class","mb-1 text-xs text-gray-500"),u(P,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),u(P,"type","email"),u(P,"autocomplete","off"),P.required=!0,P.disabled=te=s[3].id==s[2].id,u(pe,"class","flex-1"),u(oe,"class","flex flex-col w-full"),u(W,"class","mb-1 text-xs text-gray-500"),u(ke,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none svelte-1vx7r9s"),u(ke,"type","text"),u(ke,"autocomplete","off"),ke.required=!0,u(Ee,"class","flex-1"),u(M,"class","flex flex-col w-full"),u($e,"class","mb-1 text-xs text-gray-500"),u(Ue,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none svelte-1vx7r9s"),u(Ue,"type","password"),u(Ue,"autocomplete","new-password"),u(Me,"class","flex-1"),u(se,"class","flex flex-col w-full"),u(le,"class","flex flex-col space-y-1.5"),u(Ne,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),u(Ne,"type","submit"),u(Ce,"class","flex justify-end pt-3 text-sm font-medium"),u(b,"class","flex flex-col w-full"),u(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(p,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200")},m(we,De){K(we,e,De),n(e,t),n(t,l),n(l,o),n(t,a),n(t,i),n(e,m),n(e,v),n(e,w),n(e,p),n(p,g),n(g,b),n(b,I),n(I,$),n($,k),n(I,C),n(I,y),n(y,E),n(E,A),n(y,D),n(y,z),n(z,B),n(z,Y),n(z,X),n(b,j),n(b,N),n(b,Z),n(b,le),n(le,oe),n(oe,q),n(q,O),n(oe,ie),n(oe,pe),n(pe,P),Re(P,s[3].email),n(le,_e),n(le,M),n(M,W),n(W,ve),n(M,ye),n(M,Ee),n(Ee,ke),Re(ke,s[3].name),n(le,re),n(le,se),n(se,$e),n($e,Ve),n(se,Ge),n(se,Me),n(Me,Ue),Re(Ue,s[3].password),n(b,Le),n(b,Ce),n(Ce,Ne),n(Ne,Ze),ae||(ge=[be(i,"click",s[7]),be(P,"input",s[8]),be(ke,"input",s[9]),be(Ue,"input",s[10]),be(b,"submit",ps(s[11]))],ae=!0)},p(we,De){De&16&&r!==(r=we[4].t("Edit User")+"")&&ee(o,r),De&2&&!nl(k.src,T=we[1].profile_image_url)&&u(k,"src",T),De&2&&H!==(H=we[1].name+"")&&ee(A,H),De&16&&F!==(F=we[4].t("Created at")+"")&&ee(B,F),De&18&&G!==(G=Tt(we[1].created_at*1e3).format(we[4].t("MMMM DD, YYYY"))+"")&&ee(X,G),De&16&&R!==(R=we[4].t("Email")+"")&&ee(O,R),De&12&&te!==(te=we[3].id==we[2].id)&&(P.disabled=te),De&8&&P.value!==we[3].email&&Re(P,we[3].email),De&16&&me!==(me=we[4].t("Name")+"")&&ee(ve,me),De&8&&ke.value!==we[3].name&&Re(ke,we[3].name),De&16&&xe!==(xe=we[4].t("New Password")+"")&&ee(Ve,xe),De&8&&Ue.value!==we[3].password&&Re(Ue,we[3].password),De&16&&Oe!==(Oe=we[4].t("Save")+"")&&ee(Ze,Oe)},d(we){we&&c(e),ae=!1,Nt(ge)}}}function Ks(s){let e,t,l;function r(a){s[12](a)}let o={size:"sm",$$slots:{default:[Fs]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new hl({props:o}),Pe.push(()=>je(e,"show",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,[i]){const f={};i&16415&&(f.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,f.show=a[0],ze(()=>t=!1)),e.$set(f)},i(a){l||(L(e.$$.fragment,a),l=!0)},o(a){S(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function Qs(s,e,t){let l;const r=yt("i18n");ct(s,r,k=>t(4,l=k));const o=El();let{show:a=!1}=e,{selectedUser:i}=e,{sessionUser:f}=e,m={profile_image_url:"",name:"",email:"",password:""};const v=async()=>{await xs(localStorage.token,i.id,m).catch(T=>{ot.error(T)})&&(o("save"),t(0,a=!1))};ml(()=>{i&&(t(3,m=i),t(3,m.password="",m))});const w=()=>{t(0,a=!1)};function p(){m.email=this.value,t(3,m)}function g(){m.name=this.value,t(3,m)}function b(){m.password=this.value,t(3,m)}const I=()=>{v()};function $(k){a=k,t(0,a)}return s.$$set=k=>{"show"in k&&t(0,a=k.show),"selectedUser"in k&&t(1,i=k.selectedUser),"sessionUser"in k&&t(2,f=k.sessionUser)},[a,i,f,m,l,r,v,w,p,g,b,I,$]}class Js extends dt{constructor(e){super(),_t(this,e,Qs,Ks,it,{show:0,selectedUser:1,sessionUser:2})}}function Kl(s,e,t){const l=s.slice();return l[16]=e[t],l[18]=t,l}function Xs(s){let e,t=s[1].name+"",l,r,o=s[5].t("has no conversations.")+"",a;return{c(){e=d("div"),l=Q(t),r=V(),a=Q(o),this.h()},l(i){e=_(i,"DIV",{class:!0});var f=h(e);l=J(f,t),r=x(f),a=J(f,o),f.forEach(c),this.h()},h(){u(e,"class","text-left text-sm w-full mb-8")},m(i,f){K(i,e,f),n(e,l),n(e,r),n(e,a)},p(i,f){f&2&&t!==(t=i[1].name+"")&&ee(l,t),f&32&&o!==(o=i[5].t("has no conversations.")+"")&&ee(a,o)},i:Fe,o:Fe,d(i){i&&c(e)}}}function er(s){let e,t,l,r,o,a,i=s[5].t("Title")+"",f,m,v,w,p=s[5].t("Updated at")+"",g,b,I,$,k,T,C,y,E;function H(j,N){return j[3]==="title"?lr:tr}let A=H(s),D=A(s);function z(j,N){return j[3]==="updated_at"?rr:sr}let F=z(s),B=F(s),Y=Ot(s[2].sort(s[12])),G=[];for(let j=0;j<Y.length;j+=1)G[j]=Ql(Kl(s,Y,j));const X=j=>S(G[j],1,1,()=>{G[j]=null});return{c(){e=d("div"),t=d("div"),l=d("table"),r=d("thead"),o=d("tr"),a=d("th"),f=Q(i),m=V(),D.c(),v=V(),w=d("th"),g=Q(p),b=V(),B.c(),I=V(),$=d("th"),k=V(),T=d("tbody");for(let j=0;j<G.length;j+=1)G[j].c();this.h()},l(j){e=_(j,"DIV",{class:!0});var N=h(e);t=_(N,"DIV",{class:!0});var Z=h(t);l=_(Z,"TABLE",{class:!0});var le=h(l);r=_(le,"THEAD",{class:!0});var oe=h(r);o=_(oe,"TR",{});var q=h(o);a=_(q,"TH",{scope:!0,class:!0});var R=h(a);f=J(R,i),m=x(R),D.l(R),R.forEach(c),v=x(q),w=_(q,"TH",{scope:!0,class:!0});var O=h(w);g=J(O,p),b=x(O),B.l(O),O.forEach(c),I=x(q),$=_(q,"TH",{scope:!0,class:!0}),h($).forEach(c),q.forEach(c),oe.forEach(c),k=x(le),T=_(le,"TBODY",{});var ie=h(T);for(let pe=0;pe<G.length;pe+=1)G[pe].l(ie);ie.forEach(c),le.forEach(c),Z.forEach(c),N.forEach(c),this.h()},h(){u(a,"scope","col"),u(a,"class","px-3 py-2 cursor-pointer select-none"),u(w,"scope","col"),u(w,"class","px-3 py-2 hidden md:flex cursor-pointer select-none justify-end"),u($,"scope","col"),u($,"class","px-3 py-2 text-right"),u(r,"class","text-xs text-gray-700 uppercase bg-transparent dark:text-gray-200 border-b-2 dark:border-gray-800"),u(l,"class","w-full text-sm text-left text-gray-600 dark:text-gray-400 table-auto"),u(t,"class","relative overflow-x-auto"),u(e,"class","text-left text-sm w-full mb-4 max-h-[22rem] overflow-y-scroll")},m(j,N){K(j,e,N),n(e,t),n(t,l),n(l,r),n(r,o),n(o,a),n(a,f),n(a,m),D.m(a,null),n(o,v),n(o,w),n(w,g),n(w,b),B.m(w,null),n(o,I),n(o,$),n(l,k),n(l,T);for(let Z=0;Z<G.length;Z+=1)G[Z]&&G[Z].m(T,null);C=!0,y||(E=[be(a,"click",s[10]),be(w,"click",s[11])],y=!0)},p(j,N){if((!C||N&32)&&i!==(i=j[5].t("Title")+"")&&ee(f,i),A===(A=H(j))&&D?D.p(j,N):(D.d(1),D=A(j),D&&(D.c(),D.m(a,null))),(!C||N&32)&&p!==(p=j[5].t("Updated at")+"")&&ee(g,p),F===(F=z(j))&&B?B.p(j,N):(B.d(1),B=F(j),B&&(B.c(),B.m(w,null))),N&188){Y=Ot(j[2].sort(j[12]));let Z;for(Z=0;Z<Y.length;Z+=1){const le=Kl(j,Y,Z);G[Z]?(G[Z].p(le,N),L(G[Z],1)):(G[Z]=Ql(le),G[Z].c(),L(G[Z],1),G[Z].m(T,null))}for(Se(),Z=Y.length;Z<G.length;Z+=1)X(Z);He()}},i(j){if(!C){for(let N=0;N<Y.length;N+=1)L(G[N]);C=!0}},o(j){G=G.filter(Boolean);for(let N=0;N<G.length;N+=1)S(G[N]);C=!1},d(j){j&&c(e),D.d(),B.d(),Dl(G,j),y=!1,Nt(E)}}}function tr(s){let e,t="▲";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=_(l,"SPAN",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-7bvkyo"&&(e.textContent=t),this.h()},h(){u(e,"class","invisible")},m(l,r){K(l,e,r)},p:Fe,d(l){l&&c(e)}}}function lr(s){let e=s[4]==="asc"?"▲":"▼",t;return{c(){t=Q(e)},l(l){t=J(l,e)},m(l,r){K(l,t,r)},p(l,r){r&16&&e!==(e=l[4]==="asc"?"▲":"▼")&&ee(t,e)},d(l){l&&c(t)}}}function sr(s){let e,t="▲";return{c(){e=d("span"),e.textContent=t,this.h()},l(l){e=_(l,"SPAN",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-7bvkyo"&&(e.textContent=t),this.h()},h(){u(e,"class","invisible")},m(l,r){K(l,e,r)},p:Fe,d(l){l&&c(e)}}}function rr(s){let e=s[4]==="asc"?"▲":"▼",t;return{c(){t=Q(e)},l(l){t=J(l,e)},m(l,r){K(l,t,r)},p(l,r){r&16&&e!==(e=l[4]==="asc"?"▲":"▼")&&ee(t,e)},d(l){l&&c(t)}}}function ar(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function o(){return s[13](s[16])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-oqx8cx"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(a,i){K(a,e,i),l||(r=be(e,"click",o),l=!0)},p(a,i){s=a},d(a){a&&c(e),l=!1,r()}}}function Ql(s){let e,t,l,r,o=s[16].title+"",a,i,f,m,v,w=Tt(s[16].updated_at*1e3).format(s[5].t("MMMM DD, YYYY HH:mm"))+"",p,g,b,I,$,k,T,C;return $=new Yt({props:{content:s[5].t("Delete Chat"),$$slots:{default:[ar]},$$scope:{ctx:s}}}),{c(){e=d("tr"),t=d("td"),l=d("a"),r=d("div"),a=Q(o),f=V(),m=d("td"),v=d("div"),p=Q(w),g=V(),b=d("td"),I=d("div"),ue($.$$.fragment),k=V(),this.h()},l(y){e=_(y,"TR",{class:!0});var E=h(e);t=_(E,"TD",{class:!0});var H=h(t);l=_(H,"A",{href:!0,target:!0});var A=h(l);r=_(A,"DIV",{class:!0});var D=h(r);a=J(D,o),D.forEach(c),A.forEach(c),H.forEach(c),f=x(E),m=_(E,"TD",{class:!0});var z=h(m);v=_(z,"DIV",{class:!0});var F=h(v);p=J(F,w),F.forEach(c),z.forEach(c),g=x(E),b=_(E,"TD",{class:!0});var B=h(b);I=_(B,"DIV",{class:!0});var Y=h(I);fe($.$$.fragment,Y),Y.forEach(c),B.forEach(c),k=x(E),E.forEach(c),this.h()},h(){u(r,"class","underline line-clamp-1 max-w-96"),u(l,"href",i="/s/"+s[16].id),u(l,"target","_blank"),u(t,"class","px-3 py-1"),u(v,"class","my-auto shrink-0"),u(m,"class","px-3 py-1 hidden md:flex h-[2.5rem] justify-end"),u(I,"class","flex justify-end w-full"),u(b,"class","px-3 py-1 text-right"),u(e,"class",T="bg-transparent "+(s[18]!==s[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs")},m(y,E){K(y,e,E),n(e,t),n(t,l),n(l,r),n(r,a),n(e,f),n(e,m),n(m,v),n(v,p),n(e,g),n(e,b),n(b,I),ce($,I,null),n(e,k),C=!0},p(y,E){(!C||E&28)&&o!==(o=y[16].title+"")&&ee(a,o),(!C||E&28&&i!==(i="/s/"+y[16].id))&&u(l,"href",i),(!C||E&60)&&w!==(w=Tt(y[16].updated_at*1e3).format(y[5].t("MMMM DD, YYYY HH:mm"))+"")&&ee(p,w);const H={};E&32&&(H.content=y[5].t("Delete Chat")),E&524316&&(H.$$scope={dirty:E,ctx:y}),$.$set(H),(!C||E&4&&T!==(T="bg-transparent "+(y[18]!==y[2].length-1&&"border-b")+" dark:bg-gray-900 dark:border-gray-850 text-xs"))&&u(e,"class",T)},i(y){C||(L($.$$.fragment,y),C=!0)},o(y){S($.$$.fragment,y),C=!1},d(y){y&&c(e),de($)}}}function nr(s){let e,t,l,r=s[5].t("{{user}}'s Chats",{user:s[1].name})+"",o,a,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,v,w,p,g,b,I,$,k,T;const C=[er,Xs],y=[];function E(H,A){return H[2].length>0?0:1}return b=E(s),I=y[b]=C[b](s),{c(){e=d("div"),t=d("div"),l=d("div"),o=Q(r),a=V(),i=d("button"),i.innerHTML=f,m=V(),v=d("hr"),w=V(),p=d("div"),g=d("div"),I.c(),this.h()},l(H){e=_(H,"DIV",{});var A=h(e);t=_(A,"DIV",{class:!0});var D=h(t);l=_(D,"DIV",{class:!0});var z=h(l);o=J(z,r),z.forEach(c),a=x(D),i=_(D,"BUTTON",{class:!0,"data-svelte-h":!0}),et(i)!=="svelte-745w2y"&&(i.innerHTML=f),D.forEach(c),m=x(A),v=_(A,"HR",{class:!0}),w=x(A),p=_(A,"DIV",{class:!0});var F=h(p);g=_(F,"DIV",{class:!0});var B=h(g);I.l(B),B.forEach(c),F.forEach(c),A.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center capitalize"),u(i,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),u(v,"class","dark:border-gray-850"),u(g,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(p,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(H,A){K(H,e,A),n(e,t),n(t,l),n(l,o),n(t,a),n(t,i),n(e,m),n(e,v),n(e,w),n(e,p),n(p,g),y[b].m(g,null),$=!0,k||(T=be(i,"click",s[9]),k=!0)},p(H,A){(!$||A&34)&&r!==(r=H[5].t("{{user}}'s Chats",{user:H[1].name})+"")&&ee(o,r);let D=b;b=E(H),b===D?y[b].p(H,A):(Se(),S(y[D],1,1,()=>{y[D]=null}),He(),I=y[b],I?I.p(H,A):(I=y[b]=C[b](H),I.c()),L(I,1),I.m(g,null))},i(H){$||(L(I),$=!0)},o(H){S(I),$=!1},d(H){H&&c(e),y[b].d(),k=!1,T()}}}function or(s){let e,t,l;function r(a){s[14](a)}let o={size:"lg",$$slots:{default:[nr]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new hl({props:o}),Pe.push(()=>je(e,"show",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,[i]){const f={};i&524351&&(f.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,f.show=a[0],ze(()=>t=!1)),e.$set(f)},i(a){l||(L(e.$$.fragment,a),l=!0)},o(a){S(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function ir(s,e,t){let l;El();const r=yt("i18n");ct(s,r,T=>t(5,l=T));let{show:o=!1}=e,{user:a}=e,i=[];const f=async T=>{await As(localStorage.token,T).catch(C=>{ot.error(C)}),t(2,i=await Wl(localStorage.token,a.id))};let m="updated_at",v="desc";function w(T){m===T?t(4,v=v==="asc"?"desc":"asc"):(t(3,m=T),t(4,v="asc"))}const p=()=>{t(0,o=!1)},g=()=>w("title"),b=()=>w("updated_at"),I=(T,C)=>T[m]<C[m]?v==="asc"?-1:1:T[m]>C[m]?v==="asc"?1:-1:0,$=async T=>{f(T.id)};function k(T){o=T,t(0,o)}return s.$$set=T=>{"show"in T&&t(0,o=T.show),"user"in T&&t(1,a=T.user)},s.$$.update=()=>{s.$$.dirty&3&&o&&(async()=>a.id&&t(2,i=await Wl(localStorage.token,a.id)))()},[o,a,i,m,v,l,r,f,w,p,g,b,I,$,k]}class ur extends dt{constructor(e){super(),_t(this,e,ir,or,it,{show:0,user:1})}}function fr(s){let e,t,l,r,o,a,i,f,m=s[5].t("Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role.")+"",v,w,p,g=s[5].t("Click here to download user import template file.")+"",b,I,$;function k(y,E){return y[3]?_r:dr}let T=k(s),C=T(s);return{c(){e=d("div"),t=d("div"),l=d("input"),r=V(),o=d("button"),C.c(),a=V(),i=d("div"),f=Q("ⓘ "),v=Q(m),w=V(),p=d("a"),b=Q(g),this.h()},l(y){e=_(y,"DIV",{});var E=h(e);t=_(E,"DIV",{class:!0});var H=h(t);l=_(H,"INPUT",{id:!0,type:!0,accept:!0,class:!0}),r=x(H),o=_(H,"BUTTON",{class:!0,type:!0});var A=h(o);C.l(A),A.forEach(c),H.forEach(c),a=x(E),i=_(E,"DIV",{class:!0});var D=h(i);f=J(D,"ⓘ "),v=J(D,m),w=x(D),p=_(D,"A",{class:!0,href:!0});var z=h(p);b=J(z,g),z.forEach(c),D.forEach(c),E.forEach(c),this.h()},h(){u(l,"id","upload-user-csv-input"),l.hidden=!0,u(l,"type","file"),u(l,"accept",".csv"),u(l,"class","svelte-1vx7r9s"),u(o,"class","w-full text-sm font-medium py-3 bg-transparent hover:bg-gray-100 border border-dashed dark:border-gray-800 dark:hover:bg-gray-850 text-center rounded-xl"),u(o,"type","button"),u(t,"class","mb-3 w-full"),u(p,"class","underline dark:text-gray-200"),u(p,"href",_l+"/static/user-import.csv"),u(i,"class","text-xs text-gray-500")},m(y,E){K(y,e,E),n(e,t),n(t,l),n(t,r),n(t,o),C.m(o,null),n(e,a),n(e,i),n(i,f),n(i,v),n(i,w),n(i,p),n(p,b),I||($=[be(l,"change",s[15]),be(o,"click",s[16])],I=!0)},p(y,E){T===(T=k(y))&&C?C.p(y,E):(C.d(1),C=T(y),C&&(C.c(),C.m(o,null))),E&32&&m!==(m=y[5].t("Ensure your CSV file includes 4 columns in this order: Name, Email, Password, Role.")+"")&&ee(v,m),E&32&&g!==(g=y[5].t("Click here to download user import template file.")+"")&&ee(b,g)},d(y){y&&c(e),C.d(),I=!1,Nt($)}}}function cr(s){let e,t,l=s[5].t("Role")+"",r,o,a,i,f,m=s[5].t("pending")+"",v,w,p,g=s[5].t("user")+"",b,I,$,k=s[5].t("admin")+"",T,C,y,E,H,A=s[5].t("Name")+"",D,z,F,B,Y,G,X,j,N,Z,le=s[5].t("Email")+"",oe,q,R,O,ie,pe,P,te,_e=s[5].t("Password")+"",M,W,me,ve,ye,Ee,ke;return{c(){e=d("div"),t=d("div"),r=Q(l),o=V(),a=d("div"),i=d("select"),f=d("option"),v=Q(m),w=V(),p=d("option"),b=Q(g),I=V(),$=d("option"),T=Q(k),y=V(),E=d("div"),H=d("div"),D=Q(A),z=V(),F=d("div"),B=d("input"),G=V(),X=d("hr"),j=V(),N=d("div"),Z=d("div"),oe=Q(le),q=V(),R=d("div"),O=d("input"),pe=V(),P=d("div"),te=d("div"),M=Q(_e),W=V(),me=d("div"),ve=d("input"),this.h()},l(re){e=_(re,"DIV",{class:!0});var se=h(e);t=_(se,"DIV",{class:!0});var $e=h(t);r=J($e,l),$e.forEach(c),o=x(se),a=_(se,"DIV",{class:!0});var xe=h(a);i=_(xe,"SELECT",{class:!0,placeholder:!0});var Ve=h(i);f=_(Ve,"OPTION",{});var Ge=h(f);v=J(Ge,m),w=x(Ge),Ge.forEach(c),p=_(Ve,"OPTION",{});var Me=h(p);b=J(Me,g),I=x(Me),Me.forEach(c),$=_(Ve,"OPTION",{});var Ue=h($);T=J(Ue,k),Ue.forEach(c),Ve.forEach(c),xe.forEach(c),se.forEach(c),y=x(re),E=_(re,"DIV",{class:!0});var Le=h(E);H=_(Le,"DIV",{class:!0});var Ce=h(H);D=J(Ce,A),Ce.forEach(c),z=x(Le),F=_(Le,"DIV",{class:!0});var Ne=h(F);B=_(Ne,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ne.forEach(c),Le.forEach(c),G=x(re),X=_(re,"HR",{class:!0}),j=x(re),N=_(re,"DIV",{class:!0});var Oe=h(N);Z=_(Oe,"DIV",{class:!0});var Ze=h(Z);oe=J(Ze,le),Ze.forEach(c),q=x(Oe),R=_(Oe,"DIV",{class:!0});var ae=h(R);O=_(ae,"INPUT",{class:!0,type:!0,placeholder:!0}),ae.forEach(c),Oe.forEach(c),pe=x(re),P=_(re,"DIV",{class:!0});var ge=h(P);te=_(ge,"DIV",{class:!0});var we=h(te);M=J(we,_e),we.forEach(c),W=x(ge),me=_(ge,"DIV",{class:!0});var De=h(me);ve=_(De,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),De.forEach(c),ge.forEach(c),this.h()},h(){u(t,"class","mb-1 text-xs text-gray-500"),f.__value="pending",Re(f,f.__value),p.__value="user",Re(p,p.__value),$.__value="admin",Re($,$.__value),u(i,"class","w-full capitalize rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none"),u(i,"placeholder",C=s[5].t("Enter Your Role")),i.required=!0,s[4].role===void 0&&Is(()=>s[11].call(i)),u(a,"class","flex-1"),u(e,"class","flex flex-col w-full"),u(H,"class","mb-1 text-xs text-gray-500"),u(B,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),u(B,"type","text"),u(B,"placeholder",Y=s[5].t("Enter Your Full Name")),u(B,"autocomplete","off"),B.required=!0,u(F,"class","flex-1"),u(E,"class","flex flex-col w-full mt-1"),u(X,"class","border-gray-50 dark:border-gray-850 my-2.5 w-full"),u(Z,"class","mb-1 text-xs text-gray-500"),u(O,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),u(O,"type","email"),u(O,"placeholder",ie=s[5].t("Enter Your Email")),O.required=!0,u(R,"class","flex-1"),u(N,"class","flex flex-col w-full"),u(te,"class","mb-1 text-xs text-gray-500"),u(ve,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),u(ve,"type","password"),u(ve,"placeholder",ye=s[5].t("Enter Your Password")),u(ve,"autocomplete","off"),u(me,"class","flex-1"),u(P,"class","flex flex-col w-full mt-1")},m(re,se){K(re,e,se),n(e,t),n(t,r),n(e,o),n(e,a),n(a,i),n(i,f),n(f,v),n(f,w),n(i,p),n(p,b),n(p,I),n(i,$),n($,T),Rl(i,s[4].role,!0),K(re,y,se),K(re,E,se),n(E,H),n(H,D),n(E,z),n(E,F),n(F,B),Re(B,s[4].name),K(re,G,se),K(re,X,se),K(re,j,se),K(re,N,se),n(N,Z),n(Z,oe),n(N,q),n(N,R),n(R,O),Re(O,s[4].email),K(re,pe,se),K(re,P,se),n(P,te),n(te,M),n(P,W),n(P,me),n(me,ve),Re(ve,s[4].password),Ee||(ke=[be(i,"change",s[11]),be(B,"input",s[12]),be(O,"input",s[13]),be(ve,"input",s[14])],Ee=!0)},p(re,se){se&32&&l!==(l=re[5].t("Role")+"")&&ee(r,l),se&32&&m!==(m=re[5].t("pending")+"")&&ee(v,m),se&32&&g!==(g=re[5].t("user")+"")&&ee(b,g),se&32&&k!==(k=re[5].t("admin")+"")&&ee(T,k),se&32&&C!==(C=re[5].t("Enter Your Role"))&&u(i,"placeholder",C),se&16&&Rl(i,re[4].role),se&32&&A!==(A=re[5].t("Name")+"")&&ee(D,A),se&32&&Y!==(Y=re[5].t("Enter Your Full Name"))&&u(B,"placeholder",Y),se&16&&B.value!==re[4].name&&Re(B,re[4].name),se&32&&le!==(le=re[5].t("Email")+"")&&ee(oe,le),se&32&&ie!==(ie=re[5].t("Enter Your Email"))&&u(O,"placeholder",ie),se&16&&O.value!==re[4].email&&Re(O,re[4].email),se&32&&_e!==(_e=re[5].t("Password")+"")&&ee(M,_e),se&32&&ye!==(ye=re[5].t("Enter Your Password"))&&u(ve,"placeholder",ye),se&16&&ve.value!==re[4].password&&Re(ve,re[4].password)},d(re){re&&(c(e),c(y),c(E),c(G),c(X),c(j),c(N),c(pe),c(P)),Ee=!1,Nt(ke)}}}function dr(s){let e=s[5].t("Click here to select a csv file.")+"",t;return{c(){t=Q(e)},l(l){t=J(l,e)},m(l,r){K(l,t,r)},p(l,r){r&32&&e!==(e=l[5].t("Click here to select a csv file.")+"")&&ee(t,e)},d(l){l&&c(t)}}}function _r(s){let e=s[3].length>0?`${s[3].length}`:"",t,l;return{c(){t=Q(e),l=Q(" document(s) selected.")},l(r){t=J(r,e),l=J(r," document(s) selected.")},m(r,o){K(r,t,o),K(r,l,o)},p(r,o){o&8&&e!==(e=r[3].length>0?`${r[3].length}`:"")&&ee(t,e)},d(r){r&&(c(t),c(l))}}}function Jl(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,r){K(l,e,r)},d(l){l&&c(e)}}}function mr(s){let e,t,l,r=s[5].t("Add User")+"",o,a,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,v,w,p,g,b,I=s[5].t("Form")+"",$,k,T,C,y=s[5].t("CSV Import")+"",E,H,A,D,z,F,B,Y=s[5].t("Save")+"",G,X,j,N,Z;function le(O,ie){if(O[2]==="")return cr;if(O[2]==="import")return fr}let oe=le(s),q=oe&&oe(s),R=s[1]&&Jl();return{c(){e=d("div"),t=d("div"),l=d("div"),o=Q(r),a=V(),i=d("button"),i.innerHTML=f,m=V(),v=d("div"),w=d("div"),p=d("form"),g=d("div"),b=d("button"),$=Q(I),T=V(),C=d("button"),E=Q(y),A=V(),D=d("div"),q&&q.c(),z=V(),F=d("div"),B=d("button"),G=Q(Y),X=V(),R&&R.c(),this.h()},l(O){e=_(O,"DIV",{});var ie=h(e);t=_(ie,"DIV",{class:!0});var pe=h(t);l=_(pe,"DIV",{class:!0});var P=h(l);o=J(P,r),P.forEach(c),a=x(pe),i=_(pe,"BUTTON",{class:!0,"data-svelte-h":!0}),et(i)!=="svelte-745w2y"&&(i.innerHTML=f),pe.forEach(c),m=x(ie),v=_(ie,"DIV",{class:!0});var te=h(v);w=_(te,"DIV",{class:!0});var _e=h(w);p=_(_e,"FORM",{class:!0});var M=h(p);g=_(M,"DIV",{class:!0});var W=h(g);b=_(W,"BUTTON",{class:!0,type:!0});var me=h(b);$=J(me,I),me.forEach(c),T=x(W),C=_(W,"BUTTON",{class:!0,type:!0});var ve=h(C);E=J(ve,y),ve.forEach(c),W.forEach(c),A=x(M),D=_(M,"DIV",{class:!0});var ye=h(D);q&&q.l(ye),ye.forEach(c),z=x(M),F=_(M,"DIV",{class:!0});var Ee=h(F);B=_(Ee,"BUTTON",{class:!0,type:!0});var ke=h(B);G=J(ke,Y),X=x(ke),R&&R.l(ke),ke.forEach(c),Ee.forEach(c),M.forEach(c),_e.forEach(c),te.forEach(c),ie.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center"),u(i,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),u(b,"class",k="w-full rounded-full p-1.5 "+(s[2]===""?"bg-gray-50 dark:bg-gray-850":"")),u(b,"type","button"),u(C,"class",H="w-full rounded-full p-1 "+(s[2]==="import"?"bg-gray-50 dark:bg-gray-850":"")),u(C,"type","button"),u(g,"class","flex text-center text-sm font-medium rounded-full bg-transparent/10 p-1 mb-2"),u(D,"class","px-1"),u(B,"class",j="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),u(B,"type","submit"),B.disabled=s[1],u(F,"class","flex justify-end pt-3 text-sm font-medium"),u(p,"class","flex flex-col w-full"),u(w,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(v,"class","flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200")},m(O,ie){K(O,e,ie),n(e,t),n(t,l),n(l,o),n(t,a),n(t,i),n(e,m),n(e,v),n(v,w),n(w,p),n(p,g),n(g,b),n(b,$),n(g,T),n(g,C),n(C,E),n(p,A),n(p,D),q&&q.m(D,null),n(p,z),n(p,F),n(F,B),n(B,G),n(B,X),R&&R.m(B,null),N||(Z=[be(i,"click",s[8]),be(b,"click",s[9]),be(C,"click",s[10]),be(p,"submit",ps(s[17]))],N=!0)},p(O,ie){ie&32&&r!==(r=O[5].t("Add User")+"")&&ee(o,r),ie&32&&I!==(I=O[5].t("Form")+"")&&ee($,I),ie&4&&k!==(k="w-full rounded-full p-1.5 "+(O[2]===""?"bg-gray-50 dark:bg-gray-850":""))&&u(b,"class",k),ie&32&&y!==(y=O[5].t("CSV Import")+"")&&ee(E,y),ie&4&&H!==(H="w-full rounded-full p-1 "+(O[2]==="import"?"bg-gray-50 dark:bg-gray-850":""))&&u(C,"class",H),oe===(oe=le(O))&&q?q.p(O,ie):(q&&q.d(1),q=oe&&oe(O),q&&(q.c(),q.m(D,null))),ie&32&&Y!==(Y=O[5].t("Save")+"")&&ee(G,Y),O[1]?R||(R=Jl(),R.c(),R.m(B,null)):R&&(R.d(1),R=null),ie&2&&j!==(j="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(O[1]?" cursor-not-allowed":""))&&u(B,"class",j),ie&2&&(B.disabled=O[1])},d(O){O&&c(e),q&&q.d(),R&&R.d(),N=!1,Nt(Z)}}}function hr(s){let e,t,l;function r(a){s[18](a)}let o={size:"sm",$$slots:{default:[mr]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new hl({props:o}),Pe.push(()=>je(e,"show",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,[i]){const f={};i&1048639&&(f.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,f.show=a[0],ze(()=>t=!1)),e.$set(f)},i(a){l||(L(e.$$.fragment,a),l=!0)},o(a){S(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function pr(s,e,t){let l;const r=yt("i18n");ct(s,r,A=>t(5,l=A));const o=El();let{show:a=!1}=e,i=!1,f="",m,v={name:"",email:"",password:"",role:"user"};const w=async()=>{const A=()=>{o("save"),t(1,i=!1)};if(f==="")t(1,i=!0),await ql(localStorage.token,v.name,v.email,v.password,v.role).catch(z=>{ot.error(z)})&&(A(),t(0,a=!1));else if(m){t(1,i=!0);const D=m[0],z=new FileReader;z.onload=async F=>{const Y=F.target.result.split(`
`);let G=0;for(const[j,N]of Y.entries()){const Z=N.split(",").map(le=>le.trim());console.log(j,Z),j>0&&(Z.length===4&&["admin","user","pending"].includes(Z[3].toLowerCase())?await ql(localStorage.token,Z[0],Z[1],Z[2],Z[3].toLowerCase()).catch(oe=>(ot.error(`Row ${j+1}: ${oe}`),null))&&(G=G+1):ot.error(`Row ${j+1}: invalid format.`))}ot.success(`Successfully imported ${G} users.`),t(3,m=null);const X=document.getElementById("upload-user-csv-input");X&&(X.value=null),A()},z.readAsText(D)}else ot.error(l.t("File not found."))},p=()=>{t(0,a=!1)},g=()=>{t(2,f="")},b=()=>{t(2,f="import")};function I(){v.role=Ds(this),t(4,v),t(0,a)}function $(){v.name=this.value,t(4,v),t(0,a)}function k(){v.email=this.value,t(4,v),t(0,a)}function T(){v.password=this.value,t(4,v),t(0,a)}function C(){m=this.files,t(3,m)}const y=()=>{var A;(A=document.getElementById("upload-user-csv-input"))==null||A.click()},E=()=>{w()};function H(A){a=A,t(0,a)}return s.$$set=A=>{"show"in A&&t(0,a=A.show)},s.$$.update=()=>{s.$$.dirty&1&&a&&t(4,v={name:"",email:"",password:"",role:"user"})},[a,i,f,m,v,l,r,w,p,g,b,I,$,k,T,C,y,E,H]}class vr extends dt{constructor(e){super(),_t(this,e,pr,hr,it,{show:0})}}function Xl(s,e,t){const l=s.slice();return l[38]=e[t],l[40]=t,l}function es(s){let e,t,l;function r(a){s[20](a)}let o={selectedUser:s[5],sessionUser:s[11]};return s[9]!==void 0&&(o.show=s[9]),e=new Js({props:o}),Pe.push(()=>je(e,"show",r)),e.$on("save",s[21]),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,i){const f={};i[0]&32&&(f.selectedUser=a[5]),i[0]&2048&&(f.sessionUser=a[11]),!t&&i[0]&512&&(t=!0,f.show=a[9],ze(()=>t=!1)),e.$set(f)},i(a){l||(L(e.$$.fragment,a),l=!0)},o(a){S(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function gr(s){let e,t,l,r,o;return t=new bs({props:{className:"size-3.5"}}),{c(){e=d("button"),ue(t.$$.fragment),this.h()},l(a){e=_(a,"BUTTON",{class:!0});var i=h(e);fe(t.$$.fragment,i),i.forEach(c),this.h()},h(){u(e,"class","p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1")},m(a,i){K(a,e,i),ce(t,e,null),l=!0,r||(o=be(e,"click",s[26]),r=!0)},p:Fe,i(a){l||(L(t.$$.fragment,a),l=!0)},o(a){S(t.$$.fragment,a),l=!1},d(a){a&&c(e),de(t),r=!1,o()}}}function wr(s){let e,t,l;return t=new Et({props:{className:"size-2"}}),{c(){e=d("span"),ue(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=h(e);fe(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,o){K(r,e,o),ce(t,e,null),l=!0},p:Fe,i(r){l||(L(t.$$.fragment,r),l=!0)},o(r){S(t.$$.fragment,r),l=!1},d(r){r&&c(e),de(t)}}}function br(s){let e,t,l,r;const o=[$r,kr],a=[];function i(f,m){return f[4]==="asc"?0:1}return t=i(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(f){e=_(f,"SPAN",{class:!0});var m=h(e);l.l(m),m.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(f,m){K(f,e,m),a[t].m(e,null),r=!0},p(f,m){let v=t;t=i(f),t!==v&&(Se(),S(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=o[t](f),l.c()),L(l,1),l.m(e,null))},i(f){r||(L(l),r=!0)},o(f){S(l),r=!1},d(f){f&&c(e),a[t].d()}}}function kr(s){let e,t;return e=new il({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function $r(s){let e,t;return e=new Et({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function yr(s){let e,t,l;return t=new Et({props:{className:"size-2"}}),{c(){e=d("span"),ue(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=h(e);fe(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,o){K(r,e,o),ce(t,e,null),l=!0},p:Fe,i(r){l||(L(t.$$.fragment,r),l=!0)},o(r){S(t.$$.fragment,r),l=!1},d(r){r&&c(e),de(t)}}}function Er(s){let e,t,l,r;const o=[Ir,Dr],a=[];function i(f,m){return f[4]==="asc"?0:1}return t=i(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(f){e=_(f,"SPAN",{class:!0});var m=h(e);l.l(m),m.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(f,m){K(f,e,m),a[t].m(e,null),r=!0},p(f,m){let v=t;t=i(f),t!==v&&(Se(),S(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=o[t](f),l.c()),L(l,1),l.m(e,null))},i(f){r||(L(l),r=!0)},o(f){S(l),r=!1},d(f){f&&c(e),a[t].d()}}}function Dr(s){let e,t;return e=new il({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Ir(s){let e,t;return e=new Et({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Vr(s){let e,t,l;return t=new Et({props:{className:"size-2"}}),{c(){e=d("span"),ue(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=h(e);fe(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,o){K(r,e,o),ce(t,e,null),l=!0},p:Fe,i(r){l||(L(t.$$.fragment,r),l=!0)},o(r){S(t.$$.fragment,r),l=!1},d(r){r&&c(e),de(t)}}}function xr(s){let e,t,l,r;const o=[Nr,Tr],a=[];function i(f,m){return f[4]==="asc"?0:1}return t=i(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(f){e=_(f,"SPAN",{class:!0});var m=h(e);l.l(m),m.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(f,m){K(f,e,m),a[t].m(e,null),r=!0},p(f,m){let v=t;t=i(f),t!==v&&(Se(),S(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=o[t](f),l.c()),L(l,1),l.m(e,null))},i(f){r||(L(l),r=!0)},o(f){S(l),r=!1},d(f){f&&c(e),a[t].d()}}}function Tr(s){let e,t;return e=new il({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Nr(s){let e,t;return e=new Et({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Mr(s){let e,t,l;return t=new Et({props:{className:"size-2"}}),{c(){e=d("span"),ue(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=h(e);fe(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,o){K(r,e,o),ce(t,e,null),l=!0},p:Fe,i(r){l||(L(t.$$.fragment,r),l=!0)},o(r){S(t.$$.fragment,r),l=!1},d(r){r&&c(e),de(t)}}}function Cr(s){let e,t,l,r;const o=[Lr,Ur],a=[];function i(f,m){return f[4]==="asc"?0:1}return t=i(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(f){e=_(f,"SPAN",{class:!0});var m=h(e);l.l(m),m.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(f,m){K(f,e,m),a[t].m(e,null),r=!0},p(f,m){let v=t;t=i(f),t!==v&&(Se(),S(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=o[t](f),l.c()),L(l,1),l.m(e,null))},i(f){r||(L(l),r=!0)},o(f){S(l),r=!1},d(f){f&&c(e),a[t].d()}}}function Ur(s){let e,t;return e=new il({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Lr(s){let e,t;return e=new Et({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Ar(s){let e,t,l;return t=new Et({props:{className:"size-2"}}),{c(){e=d("span"),ue(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=h(e);fe(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,o){K(r,e,o),ce(t,e,null),l=!0},p:Fe,i(r){l||(L(t.$$.fragment,r),l=!0)},o(r){S(t.$$.fragment,r),l=!1},d(r){r&&c(e),de(t)}}}function Br(s){let e,t,l,r;const o=[Hr,Sr],a=[];function i(f,m){return f[4]==="asc"?0:1}return t=i(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(f){e=_(f,"SPAN",{class:!0});var m=h(e);l.l(m),m.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(f,m){K(f,e,m),a[t].m(e,null),r=!0},p(f,m){let v=t;t=i(f),t!==v&&(Se(),S(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=o[t](f),l.c()),L(l,1),l.m(e,null))},i(f){r||(L(l),r=!0)},o(f){S(l),r=!1},d(f){f&&c(e),a[t].d()}}}function Sr(s){let e,t;return e=new il({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Hr(s){let e,t;return e=new Et({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Pr(s){let e,t,l;return t=new Et({props:{className:"size-2"}}),{c(){e=d("span"),ue(t.$$.fragment),this.h()},l(r){e=_(r,"SPAN",{class:!0});var o=h(e);fe(t.$$.fragment,o),o.forEach(c),this.h()},h(){u(e,"class","invisible")},m(r,o){K(r,e,o),ce(t,e,null),l=!0},p:Fe,i(r){l||(L(t.$$.fragment,r),l=!0)},o(r){S(t.$$.fragment,r),l=!1},d(r){r&&c(e),de(t)}}}function zr(s){let e,t,l,r;const o=[Gr,jr],a=[];function i(f,m){return f[4]==="asc"?0:1}return t=i(s),l=a[t]=o[t](s),{c(){e=d("span"),l.c(),this.h()},l(f){e=_(f,"SPAN",{class:!0});var m=h(e);l.l(m),m.forEach(c),this.h()},h(){u(e,"class","font-normal")},m(f,m){K(f,e,m),a[t].m(e,null),r=!0},p(f,m){let v=t;t=i(f),t!==v&&(Se(),S(a[v],1,1,()=>{a[v]=null}),He(),l=a[t],l||(l=a[t]=o[t](f),l.c()),L(l,1),l.m(e,null))},i(f){r||(L(l),r=!0)},o(f){S(l),r=!1},d(f){f&&c(e),a[t].d()}}}function jr(s){let e,t;return e=new il({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Gr(s){let e,t;return e=new Et({props:{className:"size-2"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function ts(s){let e,t;return e=new Yt({props:{content:s[12].t("Chats"),$$slots:{default:[Or]},$$scope:{ctx:s}}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const o={};r[0]&4096&&(o.content=l[12].t("Chats")),r[0]&1312|r[1]&1024&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Or(s){let e,t,l,r,o;t=new qs({});function a(){return s[34](s[38])}return{c(){e=d("button"),ue(t.$$.fragment),this.h()},l(i){e=_(i,"BUTTON",{class:!0});var f=h(e);fe(t.$$.fragment,f),f.forEach(c),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(i,f){K(i,e,f),ce(t,e,null),l=!0,r||(o=be(e,"click",a),r=!0)},p(i,f){s=i},i(i){l||(L(t.$$.fragment,i),l=!0)},o(i){S(t.$$.fragment,i),l=!1},d(i){i&&c(e),de(t),r=!1,o()}}}function Yr(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',l,r;function o(){return s[35](s[38])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-ow16l9"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(a,i){K(a,e,i),l||(r=be(e,"click",o),l=!0)},p(a,i){s=a},d(a){a&&c(e),l=!1,r()}}}function ls(s){let e,t;return e=new Yt({props:{content:s[12].t("Delete User"),$$slots:{default:[Rr]},$$scope:{ctx:s}}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const o={};r[0]&4096&&(o.content=l[12].t("Delete User")),r[0]&1120|r[1]&1024&&(o.$$scope={dirty:r,ctx:l}),e.$set(o)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Rr(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',l,r;function o(){return s[36](s[38])}return{c(){e=d("button"),e.innerHTML=t,this.h()},l(a){e=_(a,"BUTTON",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-8s8zkf"&&(e.innerHTML=t),this.h()},h(){u(e,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl")},m(a,i){K(a,e,i),l||(r=be(e,"click",o),l=!0)},p(a,i){s=a},d(a){a&&c(e),l=!1,r()}}}function ss(s){let e,t,l,r,o,a,i,f,m,v,w,p=s[38].name+"",g,b,I,$=s[38].email+"",k,T,C,y=Tt(s[38].last_active_at*1e3).fromNow()+"",E,H,A,D=Tt(s[38].created_at*1e3).format(s[12].t("MMMM DD, YYYY"))+"",z,F,B,Y=(s[38].oauth_sub??"")+"",G,X,j,N,Z,le,oe,q,R,O,ie;r=new ws({props:{type:s[38].role==="admin"?"info":s[38].role==="user"?"success":"muted",content:s[12].t(s[38].role)}});function pe(){return s[33](s[38])}let P=s[13].features.enable_admin_chat_access&&s[38].role!=="admin"&&ts(s);le=new Yt({props:{content:s[12].t("Edit User"),$$slots:{default:[Yr]},$$scope:{ctx:s}}});let te=s[38].role!=="admin"&&ls(s);return{c(){e=d("tr"),t=d("td"),l=d("button"),ue(r.$$.fragment),o=V(),a=d("td"),i=d("div"),f=d("img"),v=V(),w=d("div"),g=Q(p),b=V(),I=d("td"),k=Q($),T=V(),C=d("td"),E=Q(y),H=V(),A=d("td"),z=Q(D),F=V(),B=d("td"),G=Q(Y),X=V(),j=d("td"),N=d("div"),P&&P.c(),Z=V(),ue(le.$$.fragment),oe=V(),te&&te.c(),q=V(),this.h()},l(_e){e=_(_e,"TR",{class:!0});var M=h(e);t=_(M,"TD",{class:!0});var W=h(t);l=_(W,"BUTTON",{class:!0});var me=h(l);fe(r.$$.fragment,me),me.forEach(c),W.forEach(c),o=x(M),a=_(M,"TD",{class:!0});var ve=h(a);i=_(ve,"DIV",{class:!0});var ye=h(i);f=_(ye,"IMG",{class:!0,src:!0,alt:!0}),v=x(ye),w=_(ye,"DIV",{class:!0});var Ee=h(w);g=J(Ee,p),Ee.forEach(c),ye.forEach(c),ve.forEach(c),b=x(M),I=_(M,"TD",{class:!0});var ke=h(I);k=J(ke,$),ke.forEach(c),T=x(M),C=_(M,"TD",{class:!0});var re=h(C);E=J(re,y),re.forEach(c),H=x(M),A=_(M,"TD",{class:!0});var se=h(A);z=J(se,D),se.forEach(c),F=x(M),B=_(M,"TD",{class:!0});var $e=h(B);G=J($e,Y),$e.forEach(c),X=x(M),j=_(M,"TD",{class:!0});var xe=h(j);N=_(xe,"DIV",{class:!0});var Ve=h(N);P&&P.l(Ve),Z=x(Ve),fe(le.$$.fragment,Ve),oe=x(Ve),te&&te.l(Ve),Ve.forEach(c),xe.forEach(c),q=x(M),M.forEach(c),this.h()},h(){u(l,"class","translate-y-0.5"),u(t,"class","px-3 py-1 min-w-[7rem] w-28"),u(f,"class","rounded-full w-6 h-6 object-cover mr-2.5"),nl(f.src,m=s[38].profile_image_url.startsWith(_l)||s[38].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[38].profile_image_url.startsWith("data:")?s[38].profile_image_url:"/user.png")||u(f,"src",m),u(f,"alt","user"),u(w,"class","font-medium self-center"),u(i,"class","flex flex-row w-max"),u(a,"class","px-3 py-1 font-medium text-gray-900 dark:text-white w-max"),u(I,"class","px-3 py-1"),u(C,"class","px-3 py-1"),u(A,"class","px-3 py-1"),u(B,"class","px-3 py-1"),u(N,"class","flex justify-end w-full"),u(j,"class","px-3 py-1 text-right"),u(e,"class","bg-white dark:bg-gray-900 dark:border-gray-850 text-xs")},m(_e,M){K(_e,e,M),n(e,t),n(t,l),ce(r,l,null),n(e,o),n(e,a),n(a,i),n(i,f),n(i,v),n(i,w),n(w,g),n(e,b),n(e,I),n(I,k),n(e,T),n(e,C),n(C,E),n(e,H),n(e,A),n(A,z),n(e,F),n(e,B),n(B,G),n(e,X),n(e,j),n(j,N),P&&P.m(N,null),n(N,Z),ce(le,N,null),n(N,oe),te&&te.m(N,null),n(e,q),R=!0,O||(ie=be(l,"click",pe),O=!0)},p(_e,M){s=_e;const W={};M[0]&1024&&(W.type=s[38].role==="admin"?"info":s[38].role==="user"?"success":"muted"),M[0]&5120&&(W.content=s[12].t(s[38].role)),r.$set(W),(!R||M[0]&1024&&!nl(f.src,m=s[38].profile_image_url.startsWith(_l)||s[38].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[38].profile_image_url.startsWith("data:")?s[38].profile_image_url:"/user.png"))&&u(f,"src",m),(!R||M[0]&1024)&&p!==(p=s[38].name+"")&&ee(g,p),(!R||M[0]&1024)&&$!==($=s[38].email+"")&&ee(k,$),(!R||M[0]&1024)&&y!==(y=Tt(s[38].last_active_at*1e3).fromNow()+"")&&ee(E,y),(!R||M[0]&5120)&&D!==(D=Tt(s[38].created_at*1e3).format(s[12].t("MMMM DD, YYYY"))+"")&&ee(z,D),(!R||M[0]&1024)&&Y!==(Y=(s[38].oauth_sub??"")+"")&&ee(G,Y),s[13].features.enable_admin_chat_access&&s[38].role!=="admin"?P?(P.p(s,M),M[0]&9216&&L(P,1)):(P=ts(s),P.c(),L(P,1),P.m(N,Z)):P&&(Se(),S(P,1,1,()=>{P=null}),He());const me={};M[0]&4096&&(me.content=s[12].t("Edit User")),M[0]&1568|M[1]&1024&&(me.$$scope={dirty:M,ctx:s}),le.$set(me),s[38].role!=="admin"?te?(te.p(s,M),M[0]&1024&&L(te,1)):(te=ls(s),te.c(),L(te,1),te.m(N,null)):te&&(Se(),S(te,1,1,()=>{te=null}),He())},i(_e){R||(L(r.$$.fragment,_e),L(P),L(le.$$.fragment,_e),L(te),R=!0)},o(_e){S(r.$$.fragment,_e),S(P),S(le.$$.fragment,_e),S(te),R=!1},d(_e){_e&&c(e),de(r),P&&P.d(),de(le),te&&te.d(),O=!1,ie()}}}function Zr(s){let e,t,l,r=s[5],o,a,i,f,m,v,w,p,g,b=s[12].t("Users")+"",I,$,k,T,C,y=s[0].length+"",E,H,A,D,z,F,B='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',Y,G,X,j,N,Z,le,oe,q,R,O,ie,pe,P=s[12].t("Role")+"",te,_e,M,W,me,ve,ye,Ee=s[12].t("Name")+"",ke,re,se,$e,xe,Ve,Ge,Me=s[12].t("Email")+"",Ue,Le,Ce,Ne,Oe,Ze,ae,ge=s[12].t("Last Active")+"",we,De,Ae,Be,Je,lt,Ie,nt=s[12].t("Created at")+"",mt,wt,Ke,Qe,ut,st,ht,Dt=s[12].t("OAuth ID")+"",kt,Ct,rt,tt,Mt,he,Te,We,It,ft,Vt,bt=s[12].t("Click on the user role button to change a user's role.")+"",xt,$t,pt,qt,Ye,Ft,Rt;function pl(U){s[18](U)}let Zt={};s[6]!==void 0&&(Zt.show=s[6]),e=new Bs({props:Zt}),Pe.push(()=>je(e,"show",pl)),e.$on("confirm",s[19]);let vt=es(s);function Kt(U){s[22](U)}let ul={};s[7]!==void 0&&(ul.show=s[7]),a=new vr({props:ul}),Pe.push(()=>je(a,"show",Kt)),a.$on("save",s[23]);function Qt(U){s[24](U)}let fl={user:s[5]};s[8]!==void 0&&(fl.show=s[8]),m=new ur({props:fl}),Pe.push(()=>je(m,"show",Qt)),Z=new Yt({props:{content:s[12].t("Add User"),$$slots:{default:[gr]},$$scope:{ctx:s}}});const Vl=[br,wr],Ut=[];function xl(U,ne){return U[3]==="role"?0:1}M=xl(s),W=Ut[M]=Vl[M](s);const Tl=[Er,yr],Lt=[];function Nl(U,ne){return U[3]==="name"?0:1}se=Nl(s),$e=Lt[se]=Tl[se](s);const Ml=[xr,Vr],At=[];function Cl(U,ne){return U[3]==="email"?0:1}Ce=Cl(s),Ne=At[Ce]=Ml[Ce](s);const Ul=[Cr,Mr],Bt=[];function Ll(U,ne){return U[3]==="last_active_at"?0:1}Ae=Ll(s),Be=Bt[Ae]=Ul[Ae](s);const Al=[Br,Ar],St=[];function Bl(U,ne){return U[3]==="created_at"?0:1}Ke=Bl(s),Qe=St[Ke]=Al[Ke](s);const Sl=[zr,Pr],Ht=[];function Hl(U,ne){return U[3]==="oauth_sub"?0:1}rt=Hl(s),tt=Ht[rt]=Sl[rt](s);let Wt=Ot(s[10]),qe=[];for(let U=0;U<Wt.length;U+=1)qe[U]=ss(Xl(s,Wt,U));const ys=U=>S(qe[U],1,1,()=>{qe[U]=null});function Es(U){s[37](U)}let Pl={count:s[0].length};return s[2]!==void 0&&(Pl.page=s[2]),pt=new Ls({props:Pl}),Pe.push(()=>je(pt,"page",Es)),{c(){ue(e.$$.fragment),l=V(),vt.c(),o=V(),ue(a.$$.fragment),f=V(),ue(m.$$.fragment),w=V(),p=d("div"),g=d("div"),I=Q(b),$=V(),k=d("div"),T=V(),C=d("span"),E=Q(y),H=V(),A=d("div"),D=d("div"),z=d("div"),F=d("div"),F.innerHTML=B,Y=V(),G=d("input"),j=V(),N=d("div"),ue(Z.$$.fragment),le=V(),oe=d("div"),q=d("table"),R=d("thead"),O=d("tr"),ie=d("th"),pe=d("div"),te=Q(P),_e=V(),W.c(),me=V(),ve=d("th"),ye=d("div"),ke=Q(Ee),re=V(),$e.c(),xe=V(),Ve=d("th"),Ge=d("div"),Ue=Q(Me),Le=V(),Ne.c(),Oe=V(),Ze=d("th"),ae=d("div"),we=Q(ge),De=V(),Be.c(),Je=V(),lt=d("th"),Ie=d("div"),mt=Q(nt),wt=V(),Qe.c(),ut=V(),st=d("th"),ht=d("div"),kt=Q(Dt),Ct=V(),tt.c(),Mt=V(),he=d("th"),Te=V(),We=d("tbody");for(let U=0;U<qe.length;U+=1)qe[U].c();It=V(),ft=d("div"),Vt=Q("ⓘ "),xt=Q(bt),$t=V(),ue(pt.$$.fragment),this.h()},l(U){fe(e.$$.fragment,U),l=x(U),vt.l(U),o=x(U),fe(a.$$.fragment,U),f=x(U),fe(m.$$.fragment,U),w=x(U),p=_(U,"DIV",{class:!0});var ne=h(p);g=_(ne,"DIV",{class:!0});var gt=h(g);I=J(gt,b),$=x(gt),k=_(gt,"DIV",{class:!0}),h(k).forEach(c),T=x(gt),C=_(gt,"SPAN",{class:!0});var cl=h(C);E=J(cl,y),cl.forEach(c),gt.forEach(c),H=x(ne),A=_(ne,"DIV",{class:!0});var Jt=h(A);D=_(Jt,"DIV",{class:!0});var Pt=h(D);z=_(Pt,"DIV",{class:!0});var zt=h(z);F=_(zt,"DIV",{class:!0,"data-svelte-h":!0}),et(F)!=="svelte-8l37wj"&&(F.innerHTML=B),Y=x(zt),G=_(zt,"INPUT",{class:!0,placeholder:!0}),zt.forEach(c),j=x(Pt),N=_(Pt,"DIV",{});var Xt=h(N);fe(Z.$$.fragment,Xt),Xt.forEach(c),Pt.forEach(c),Jt.forEach(c),ne.forEach(c),le=x(U),oe=_(U,"DIV",{class:!0});var el=h(oe);q=_(el,"TABLE",{class:!0});var jt=h(q);R=_(jt,"THEAD",{class:!0});var tl=h(R);O=_(tl,"TR",{class:!0});var at=h(O);ie=_(at,"TH",{scope:!0,class:!0});var ll=h(ie);pe=_(ll,"DIV",{class:!0});var Xe=h(pe);te=J(Xe,P),_e=x(Xe),W.l(Xe),Xe.forEach(c),ll.forEach(c),me=x(at),ve=_(at,"TH",{scope:!0,class:!0});var dl=h(ve);ye=_(dl,"DIV",{class:!0});var vl=h(ye);ke=J(vl,Ee),re=x(vl),$e.l(vl),vl.forEach(c),dl.forEach(c),xe=x(at),Ve=_(at,"TH",{scope:!0,class:!0});var zl=h(Ve);Ge=_(zl,"DIV",{class:!0});var gl=h(Ge);Ue=J(gl,Me),Le=x(gl),Ne.l(gl),gl.forEach(c),zl.forEach(c),Oe=x(at),Ze=_(at,"TH",{scope:!0,class:!0});var jl=h(Ze);ae=_(jl,"DIV",{class:!0});var wl=h(ae);we=J(wl,ge),De=x(wl),Be.l(wl),wl.forEach(c),jl.forEach(c),Je=x(at),lt=_(at,"TH",{scope:!0,class:!0});var Gl=h(lt);Ie=_(Gl,"DIV",{class:!0});var bl=h(Ie);mt=J(bl,nt),wt=x(bl),Qe.l(bl),bl.forEach(c),Gl.forEach(c),ut=x(at),st=_(at,"TH",{scope:!0,class:!0});var Ol=h(st);ht=_(Ol,"DIV",{class:!0});var kl=h(ht);kt=J(kl,Dt),Ct=x(kl),tt.l(kl),kl.forEach(c),Ol.forEach(c),Mt=x(at),he=_(at,"TH",{scope:!0,class:!0}),h(he).forEach(c),at.forEach(c),tl.forEach(c),Te=x(jt),We=_(jt,"TBODY",{class:!0});var Yl=h(We);for(let yl=0;yl<qe.length;yl+=1)qe[yl].l(Yl);Yl.forEach(c),jt.forEach(c),el.forEach(c),It=x(U),ft=_(U,"DIV",{class:!0});var $l=h(ft);Vt=J($l,"ⓘ "),xt=J($l,bt),$l.forEach(c),$t=x(U),fe(pt.$$.fragment,U),this.h()},h(){u(k,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),u(C,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),u(g,"class","flex md:self-center text-lg font-medium px-0.5"),u(F,"class","self-center ml-1 mr-3"),u(G,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),u(G,"placeholder",X=s[12].t("Search")),u(z,"class","flex flex-1"),u(D,"class","flex w-full space-x-2"),u(A,"class","flex gap-1"),u(p,"class","mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between"),u(pe,"class","flex gap-1.5 items-center"),u(ie,"scope","col"),u(ie,"class","px-3 py-1.5 cursor-pointer select-none"),u(ye,"class","flex gap-1.5 items-center"),u(ve,"scope","col"),u(ve,"class","px-3 py-1.5 cursor-pointer select-none"),u(Ge,"class","flex gap-1.5 items-center"),u(Ve,"scope","col"),u(Ve,"class","px-3 py-1.5 cursor-pointer select-none"),u(ae,"class","flex gap-1.5 items-center"),u(Ze,"scope","col"),u(Ze,"class","px-3 py-1.5 cursor-pointer select-none"),u(Ie,"class","flex gap-1.5 items-center"),u(lt,"scope","col"),u(lt,"class","px-3 py-1.5 cursor-pointer select-none"),u(ht,"class","flex gap-1.5 items-center"),u(st,"scope","col"),u(st,"class","px-3 py-1.5 cursor-pointer select-none"),u(he,"scope","col"),u(he,"class","px-3 py-2 text-right"),u(O,"class",""),u(R,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-850 dark:text-gray-400 -translate-y-0.5"),u(We,"class",""),u(q,"class","w-full text-sm text-left text-gray-500 dark:text-gray-400 table-auto max-w-full rounded"),u(oe,"class","scrollbar-hidden relative whitespace-nowrap overflow-x-auto max-w-full rounded pt-0.5"),u(ft,"class","text-gray-500 text-xs mt-1.5 text-right")},m(U,ne){ce(e,U,ne),K(U,l,ne),vt.m(U,ne),K(U,o,ne),ce(a,U,ne),K(U,f,ne),ce(m,U,ne),K(U,w,ne),K(U,p,ne),n(p,g),n(g,I),n(g,$),n(g,k),n(g,T),n(g,C),n(C,E),n(p,H),n(p,A),n(A,D),n(D,z),n(z,F),n(z,Y),n(z,G),Re(G,s[1]),n(D,j),n(D,N),ce(Z,N,null),K(U,le,ne),K(U,oe,ne),n(oe,q),n(q,R),n(R,O),n(O,ie),n(ie,pe),n(pe,te),n(pe,_e),Ut[M].m(pe,null),n(O,me),n(O,ve),n(ve,ye),n(ye,ke),n(ye,re),Lt[se].m(ye,null),n(O,xe),n(O,Ve),n(Ve,Ge),n(Ge,Ue),n(Ge,Le),At[Ce].m(Ge,null),n(O,Oe),n(O,Ze),n(Ze,ae),n(ae,we),n(ae,De),Bt[Ae].m(ae,null),n(O,Je),n(O,lt),n(lt,Ie),n(Ie,mt),n(Ie,wt),St[Ke].m(Ie,null),n(O,ut),n(O,st),n(st,ht),n(ht,kt),n(ht,Ct),Ht[rt].m(ht,null),n(O,Mt),n(O,he),n(q,Te),n(q,We);for(let gt=0;gt<qe.length;gt+=1)qe[gt]&&qe[gt].m(We,null);K(U,It,ne),K(U,ft,ne),n(ft,Vt),n(ft,xt),K(U,$t,ne),ce(pt,U,ne),Ye=!0,Ft||(Rt=[be(G,"input",s[25]),be(ie,"click",s[27]),be(ve,"click",s[28]),be(Ve,"click",s[29]),be(Ze,"click",s[30]),be(lt,"click",s[31]),be(st,"click",s[32])],Ft=!0)},p(U,ne){const gt={};!t&&ne[0]&64&&(t=!0,gt.show=U[6],ze(()=>t=!1)),e.$set(gt),ne[0]&32&&it(r,r=U[5])?(Se(),S(vt,1,1,Fe),He(),vt=es(U),vt.c(),L(vt,1),vt.m(o.parentNode,o)):vt.p(U,ne);const cl={};!i&&ne[0]&128&&(i=!0,cl.show=U[7],ze(()=>i=!1)),a.$set(cl);const Jt={};ne[0]&32&&(Jt.user=U[5]),!v&&ne[0]&256&&(v=!0,Jt.show=U[8],ze(()=>v=!1)),m.$set(Jt),(!Ye||ne[0]&4096)&&b!==(b=U[12].t("Users")+"")&&ee(I,b),(!Ye||ne[0]&1)&&y!==(y=U[0].length+"")&&ee(E,y),(!Ye||ne[0]&4096&&X!==(X=U[12].t("Search")))&&u(G,"placeholder",X),ne[0]&2&&G.value!==U[1]&&Re(G,U[1]);const Pt={};ne[0]&4096&&(Pt.content=U[12].t("Add User")),ne[0]&128|ne[1]&1024&&(Pt.$$scope={dirty:ne,ctx:U}),Z.$set(Pt),(!Ye||ne[0]&4096)&&P!==(P=U[12].t("Role")+"")&&ee(te,P);let zt=M;M=xl(U),M===zt?Ut[M].p(U,ne):(Se(),S(Ut[zt],1,1,()=>{Ut[zt]=null}),He(),W=Ut[M],W?W.p(U,ne):(W=Ut[M]=Vl[M](U),W.c()),L(W,1),W.m(pe,null)),(!Ye||ne[0]&4096)&&Ee!==(Ee=U[12].t("Name")+"")&&ee(ke,Ee);let Xt=se;se=Nl(U),se===Xt?Lt[se].p(U,ne):(Se(),S(Lt[Xt],1,1,()=>{Lt[Xt]=null}),He(),$e=Lt[se],$e?$e.p(U,ne):($e=Lt[se]=Tl[se](U),$e.c()),L($e,1),$e.m(ye,null)),(!Ye||ne[0]&4096)&&Me!==(Me=U[12].t("Email")+"")&&ee(Ue,Me);let el=Ce;Ce=Cl(U),Ce===el?At[Ce].p(U,ne):(Se(),S(At[el],1,1,()=>{At[el]=null}),He(),Ne=At[Ce],Ne?Ne.p(U,ne):(Ne=At[Ce]=Ml[Ce](U),Ne.c()),L(Ne,1),Ne.m(Ge,null)),(!Ye||ne[0]&4096)&&ge!==(ge=U[12].t("Last Active")+"")&&ee(we,ge);let jt=Ae;Ae=Ll(U),Ae===jt?Bt[Ae].p(U,ne):(Se(),S(Bt[jt],1,1,()=>{Bt[jt]=null}),He(),Be=Bt[Ae],Be?Be.p(U,ne):(Be=Bt[Ae]=Ul[Ae](U),Be.c()),L(Be,1),Be.m(ae,null)),(!Ye||ne[0]&4096)&&nt!==(nt=U[12].t("Created at")+"")&&ee(mt,nt);let tl=Ke;Ke=Bl(U),Ke===tl?St[Ke].p(U,ne):(Se(),S(St[tl],1,1,()=>{St[tl]=null}),He(),Qe=St[Ke],Qe?Qe.p(U,ne):(Qe=St[Ke]=Al[Ke](U),Qe.c()),L(Qe,1),Qe.m(Ie,null)),(!Ye||ne[0]&4096)&&Dt!==(Dt=U[12].t("OAuth ID")+"")&&ee(kt,Dt);let at=rt;if(rt=Hl(U),rt===at?Ht[rt].p(U,ne):(Se(),S(Ht[at],1,1,()=>{Ht[at]=null}),He(),tt=Ht[rt],tt?tt.p(U,ne):(tt=Ht[rt]=Sl[rt](U),tt.c()),L(tt,1),tt.m(ht,null)),ne[0]&46944){Wt=Ot(U[10]);let Xe;for(Xe=0;Xe<Wt.length;Xe+=1){const dl=Xl(U,Wt,Xe);qe[Xe]?(qe[Xe].p(dl,ne),L(qe[Xe],1)):(qe[Xe]=ss(dl),qe[Xe].c(),L(qe[Xe],1),qe[Xe].m(We,null))}for(Se(),Xe=Wt.length;Xe<qe.length;Xe+=1)ys(Xe);He()}(!Ye||ne[0]&4096)&&bt!==(bt=U[12].t("Click on the user role button to change a user's role.")+"")&&ee(xt,bt);const ll={};ne[0]&1&&(ll.count=U[0].length),!qt&&ne[0]&4&&(qt=!0,ll.page=U[2],ze(()=>qt=!1)),pt.$set(ll)},i(U){if(!Ye){L(e.$$.fragment,U),L(vt),L(a.$$.fragment,U),L(m.$$.fragment,U),L(Z.$$.fragment,U),L(W),L($e),L(Ne),L(Be),L(Qe),L(tt);for(let ne=0;ne<Wt.length;ne+=1)L(qe[ne]);L(pt.$$.fragment,U),Ye=!0}},o(U){S(e.$$.fragment,U),S(vt),S(a.$$.fragment,U),S(m.$$.fragment,U),S(Z.$$.fragment,U),S(W),S($e),S(Ne),S(Be),S(Qe),S(tt),qe=qe.filter(Boolean);for(let ne=0;ne<qe.length;ne+=1)S(qe[ne]);S(pt.$$.fragment,U),Ye=!1},d(U){U&&(c(l),c(o),c(f),c(w),c(p),c(le),c(oe),c(It),c(ft),c($t)),de(e,U),vt.d(U),de(a,U),de(m,U),de(Z),Ut[M].d(),Lt[se].d(),At[Ce].d(),Bt[Ae].d(),St[Ke].d(),Ht[rt].d(),Dl(qe,U),de(pt,U),Ft=!1,Nt(Rt)}}}function Wr(s,e,t){let l,r,o;ct(s,Il,P=>t(11,l=P)),ct(s,Vs,P=>t(13,o=P)),Tt.extend(gs);const a=yt("i18n");ct(s,a,P=>t(12,r=P));let{users:i=[]}=e,f="",m=null,v=1,w=!1,p=!1,g=!1,b=!1;const I=async(P,te)=>{await Ts(localStorage.token,P,te).catch(M=>(ot.error(M),null))&&t(0,i=await sl(localStorage.token))},$=async P=>{await Ns(localStorage.token,P).catch(_e=>(ot.error(_e),null))&&t(0,i=await sl(localStorage.token))};let k="created_at",T="asc";function C(P){k===P?t(4,T=T==="asc"?"desc":"asc"):(t(3,k=P),t(4,T="asc"))}let y;function E(P){w=P,t(6,w)}const H=()=>{$(m.id)};function A(P){b=P,t(9,b)}const D=async()=>{t(0,i=await sl(localStorage.token))};function z(P){p=P,t(7,p)}const F=async()=>{t(0,i=await sl(localStorage.token))};function B(P){g=P,t(8,g)}function Y(){f=this.value,t(1,f)}const G=()=>{t(7,p=!p)},X=()=>C("role"),j=()=>C("name"),N=()=>C("email"),Z=()=>C("last_active_at"),le=()=>C("created_at"),oe=()=>C("oauth_sub"),q=P=>{P.role==="user"?I(P.id,"admin"):P.role==="pending"?I(P.id,"user"):I(P.id,"pending")},R=async P=>{t(8,g=!g),t(5,m=P)},O=async P=>{t(9,b=!b),t(5,m=P)},ie=async P=>{t(6,w=!0),t(5,m=P)};function pe(P){v=P,t(2,v)}return s.$$set=P=>{"users"in P&&t(0,i=P.users)},s.$$.update=()=>{s.$$.dirty[0]&31&&t(10,y=i.filter(P=>{if(f==="")return!0;{let te=P.name.toLowerCase();const _e=f.toLowerCase();return te.includes(_e)}}).sort((P,te)=>P[k]<te[k]?T==="asc"?-1:1:P[k]>te[k]?T==="asc"?1:-1:0).slice((v-1)*20,v*20))},[i,f,v,k,T,m,w,p,g,b,y,l,r,o,a,I,$,C,E,H,A,D,z,F,B,Y,G,X,j,N,Z,le,oe,q,R,O,ie,pe]}class qr extends dt{constructor(e){super(),_t(this,e,Wr,Zr,it,{users:0},null,[-1,-1])}}function Fr(s){let e,t;return{c(){e=rl("svg"),t=rl("path"),this.h()},l(l){e=al(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=h(e);t=al(r,"path",{d:!0}),h(t).forEach(c),r.forEach(c),this.h()},h(){u(t,"d","M4.5 6.375a4.125 4.125 0 1 1 8.25 0 4.125 4.125 0 0 1-8.25 0ZM14.25 8.625a3.375 3.375 0 1 1 6.75 0 3.375 3.375 0 0 1-6.75 0ZM1.5 19.125a7.125 7.125 0 0 1 14.25 0v.003l-.001.119a.75.75 0 0 1-.363.63 13.067 13.067 0 0 1-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 0 1-.364-.63l-.001-.122ZM17.25 19.128l-.001.144a2.25 2.25 0 0 1-.233.96 10.088 10.088 0 0 0 5.06-1.01.75.75 0 0 0 .42-.643 4.875 4.875 0 0 0-6.957-4.611 8.586 8.586 0 0 1 1.71 5.157v.003Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 24 24"),u(e,"fill","currentColor"),u(e,"class",s[0])},m(l,r){K(l,e,r),n(e,t)},p(l,[r]){r&1&&u(e,"class",l[0])},i:Fe,o:Fe,d(l){l&&c(e)}}}function Kr(s,e,t){let{className:l="size-4"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className)},[l]}class Qr extends dt{constructor(e){super(),_t(this,e,Kr,Fr,it,{className:0})}}function Jr(s){let e,t,l,r=s[2].t("Name")+"",o,a,i,f,m,v,w,p,g=s[2].t("Description")+"",b,I,$,k,T,C,y,E;function H(D){s[6](D)}let A={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none resize-none",rows:4,placeholder:s[2].t("Group Description")};return s[1]!==void 0&&(A.value=s[1]),k=new ks({props:A}),Pe.push(()=>je(k,"value",H)),{c(){e=d("div"),t=d("div"),l=d("div"),o=Q(r),a=V(),i=d("div"),f=d("input"),v=V(),w=d("div"),p=d("div"),b=Q(g),I=V(),$=d("div"),ue(k.$$.fragment),this.h()},l(D){e=_(D,"DIV",{class:!0});var z=h(e);t=_(z,"DIV",{class:!0});var F=h(t);l=_(F,"DIV",{class:!0});var B=h(l);o=J(B,r),B.forEach(c),a=x(F),i=_(F,"DIV",{class:!0});var Y=h(i);f=_(Y,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Y.forEach(c),F.forEach(c),z.forEach(c),v=x(D),w=_(D,"DIV",{class:!0});var G=h(w);p=_(G,"DIV",{class:!0});var X=h(p);b=J(X,g),X.forEach(c),I=x(G),$=_(G,"DIV",{class:!0});var j=h($);fe(k.$$.fragment,j),j.forEach(c),G.forEach(c),this.h()},h(){u(l,"class","mb-0.5 text-xs text-gray-500"),u(f,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),u(f,"type","text"),u(f,"placeholder",m=s[2].t("Group Name")),u(f,"autocomplete","off"),f.required=!0,u(i,"class","flex-1"),u(t,"class","flex flex-col w-full"),u(e,"class","flex gap-2"),u(p,"class","mb-1 text-xs text-gray-500"),u($,"class","flex-1"),u(w,"class","flex flex-col w-full mt-2")},m(D,z){K(D,e,z),n(e,t),n(t,l),n(l,o),n(t,a),n(t,i),n(i,f),Re(f,s[0]),K(D,v,z),K(D,w,z),n(w,p),n(p,b),n(w,I),n(w,$),ce(k,$,null),C=!0,y||(E=be(f,"input",s[5]),y=!0)},p(D,[z]){(!C||z&4)&&r!==(r=D[2].t("Name")+"")&&ee(o,r),(!C||z&4&&m!==(m=D[2].t("Group Name")))&&u(f,"placeholder",m),z&1&&f.value!==D[0]&&Re(f,D[0]),(!C||z&4)&&g!==(g=D[2].t("Description")+"")&&ee(b,g);const F={};z&4&&(F.placeholder=D[2].t("Group Description")),!T&&z&2&&(T=!0,F.value=D[1],ze(()=>T=!1)),k.$set(F)},i(D){C||(L(k.$$.fragment,D),C=!0)},o(D){S(k.$$.fragment,D),C=!1},d(D){D&&(c(e),c(v),c(w)),de(k),y=!1,E()}}}function Xr(s,e,t){let l;const r=yt("i18n");ct(s,r,v=>t(2,l=v));let{name:o=""}=e,{color:a=""}=e,{description:i=""}=e;function f(){o=this.value,t(0,o)}function m(v){i=v,t(1,i)}return s.$$set=v=>{"name"in v&&t(0,o=v.name),"color"in v&&t(4,a=v.color),"description"in v&&t(1,i=v.description)},[o,i,l,r,a,f,m]}class ea extends dt{constructor(e){super(),_t(this,e,Xr,Jr,it,{name:0,color:4,description:1})}}function ta(s){let e,t=s[1].t("Tools Access")+"",l,r,o,a,i;function f(v){s[6](v)}let m={};return s[0].workspace.tools!==void 0&&(m.state=s[0].workspace.tools),o=new Gt({props:m}),Pe.push(()=>je(o,"state",f)),{c(){e=d("div"),l=Q(t),r=V(),ue(o.$$.fragment),this.h()},l(v){e=_(v,"DIV",{class:!0});var w=h(e);l=J(w,t),w.forEach(c),r=x(v),fe(o.$$.fragment,v),this.h()},h(){u(e,"class","self-center text-xs font-medium")},m(v,w){K(v,e,w),n(e,l),K(v,r,w),ce(o,v,w),i=!0},p(v,w){(!i||w&2)&&t!==(t=v[1].t("Tools Access")+"")&&ee(l,t);const p={};!a&&w&1&&(a=!0,p.state=v[0].workspace.tools,ze(()=>a=!1)),o.$set(p)},i(v){i||(L(o.$$.fragment,v),i=!0)},o(v){S(o.$$.fragment,v),i=!1},d(v){v&&(c(e),c(r)),de(o,v)}}}function la(s){let e,t,l,r=s[1].t("Workspace Permissions")+"",o,a,i,f,m=s[1].t("Models Access")+"",v,w,p,g,b,I,$,k=s[1].t("Knowledge Access")+"",T,C,y,E,H,A,D,z=s[1].t("Prompts Access")+"",F,B,Y,G,X,j,N,Z,le,oe,q,R,O=s[1].t("Chat Permissions")+"",ie,pe,P,te,_e=s[1].t("Allow File Upload")+"",M,W,me,ve,ye,Ee,ke,re=s[1].t("Allow Chat Delete")+"",se,$e,xe,Ve,Ge,Me,Ue,Le=s[1].t("Allow Chat Edit")+"",Ce,Ne,Oe,Ze,ae,ge,we,De=s[1].t("Allow Temporary Chat")+"",Ae,Be,Je,lt,Ie;function nt(he){s[3](he)}let mt={};s[0].workspace.models!==void 0&&(mt.state=s[0].workspace.models),p=new Gt({props:mt}),Pe.push(()=>je(p,"state",nt));function wt(he){s[4](he)}let Ke={};s[0].workspace.knowledge!==void 0&&(Ke.state=s[0].workspace.knowledge),y=new Gt({props:Ke}),Pe.push(()=>je(y,"state",wt));function Qe(he){s[5](he)}let ut={};s[0].workspace.prompts!==void 0&&(ut.state=s[0].workspace.prompts),Y=new Gt({props:ut}),Pe.push(()=>je(Y,"state",Qe)),N=new Yt({props:{className:" flex w-full justify-between my-2 pr-2",content:s[1].t("Warning: Enabling this will allow users to upload arbitrary code on the server."),placement:"top-start",$$slots:{default:[ta]},$$scope:{ctx:s}}});function st(he){s[7](he)}let ht={};s[0].chat.file_upload!==void 0&&(ht.state=s[0].chat.file_upload),me=new Gt({props:ht}),Pe.push(()=>je(me,"state",st));function Dt(he){s[8](he)}let kt={};s[0].chat.delete!==void 0&&(kt.state=s[0].chat.delete),xe=new Gt({props:kt}),Pe.push(()=>je(xe,"state",Dt));function Ct(he){s[9](he)}let rt={};s[0].chat.edit!==void 0&&(rt.state=s[0].chat.edit),Oe=new Gt({props:rt}),Pe.push(()=>je(Oe,"state",Ct));function tt(he){s[10](he)}let Mt={};return s[0].chat.temporary!==void 0&&(Mt.state=s[0].chat.temporary),Je=new Gt({props:Mt}),Pe.push(()=>je(Je,"state",tt)),{c(){e=d("div"),t=d("div"),l=d("div"),o=Q(r),a=V(),i=d("div"),f=d("div"),v=Q(m),w=V(),ue(p.$$.fragment),b=V(),I=d("div"),$=d("div"),T=Q(k),C=V(),ue(y.$$.fragment),H=V(),A=d("div"),D=d("div"),F=Q(z),B=V(),ue(Y.$$.fragment),X=V(),j=d("div"),ue(N.$$.fragment),Z=V(),le=d("hr"),oe=V(),q=d("div"),R=d("div"),ie=Q(O),pe=V(),P=d("div"),te=d("div"),M=Q(_e),W=V(),ue(me.$$.fragment),ye=V(),Ee=d("div"),ke=d("div"),se=Q(re),$e=V(),ue(xe.$$.fragment),Ge=V(),Me=d("div"),Ue=d("div"),Ce=Q(Le),Ne=V(),ue(Oe.$$.fragment),ae=V(),ge=d("div"),we=d("div"),Ae=Q(De),Be=V(),ue(Je.$$.fragment),this.h()},l(he){e=_(he,"DIV",{});var Te=h(e);t=_(Te,"DIV",{});var We=h(t);l=_(We,"DIV",{class:!0});var It=h(l);o=J(It,r),It.forEach(c),a=x(We),i=_(We,"DIV",{class:!0});var ft=h(i);f=_(ft,"DIV",{class:!0});var Vt=h(f);v=J(Vt,m),Vt.forEach(c),w=x(ft),fe(p.$$.fragment,ft),ft.forEach(c),b=x(We),I=_(We,"DIV",{class:!0});var bt=h(I);$=_(bt,"DIV",{class:!0});var xt=h($);T=J(xt,k),xt.forEach(c),C=x(bt),fe(y.$$.fragment,bt),bt.forEach(c),H=x(We),A=_(We,"DIV",{class:!0});var $t=h(A);D=_($t,"DIV",{class:!0});var pt=h(D);F=J(pt,z),pt.forEach(c),B=x($t),fe(Y.$$.fragment,$t),$t.forEach(c),X=x(We),j=_(We,"DIV",{class:!0});var qt=h(j);fe(N.$$.fragment,qt),qt.forEach(c),We.forEach(c),Z=x(Te),le=_(Te,"HR",{class:!0}),oe=x(Te),q=_(Te,"DIV",{});var Ye=h(q);R=_(Ye,"DIV",{class:!0});var Ft=h(R);ie=J(Ft,O),Ft.forEach(c),pe=x(Ye),P=_(Ye,"DIV",{class:!0});var Rt=h(P);te=_(Rt,"DIV",{class:!0});var pl=h(te);M=J(pl,_e),pl.forEach(c),W=x(Rt),fe(me.$$.fragment,Rt),Rt.forEach(c),ye=x(Ye),Ee=_(Ye,"DIV",{class:!0});var Zt=h(Ee);ke=_(Zt,"DIV",{class:!0});var vt=h(ke);se=J(vt,re),vt.forEach(c),$e=x(Zt),fe(xe.$$.fragment,Zt),Zt.forEach(c),Ge=x(Ye),Me=_(Ye,"DIV",{class:!0});var Kt=h(Me);Ue=_(Kt,"DIV",{class:!0});var ul=h(Ue);Ce=J(ul,Le),ul.forEach(c),Ne=x(Kt),fe(Oe.$$.fragment,Kt),Kt.forEach(c),ae=x(Ye),ge=_(Ye,"DIV",{class:!0});var Qt=h(ge);we=_(Qt,"DIV",{class:!0});var fl=h(we);Ae=J(fl,De),fl.forEach(c),Be=x(Qt),fe(Je.$$.fragment,Qt),Qt.forEach(c),Ye.forEach(c),Te.forEach(c),this.h()},h(){u(l,"class","mb-2 text-sm font-medium"),u(f,"class","self-center text-xs font-medium"),u(i,"class","flex w-full justify-between my-2 pr-2"),u($,"class","self-center text-xs font-medium"),u(I,"class","flex w-full justify-between my-2 pr-2"),u(D,"class","self-center text-xs font-medium"),u(A,"class","flex w-full justify-between my-2 pr-2"),u(j,"class",""),u(le,"class","border-gray-50 dark:border-gray-850 my-2"),u(R,"class","mb-2 text-sm font-medium"),u(te,"class","self-center text-xs font-medium"),u(P,"class","flex w-full justify-between my-2 pr-2"),u(ke,"class","self-center text-xs font-medium"),u(Ee,"class","flex w-full justify-between my-2 pr-2"),u(Ue,"class","self-center text-xs font-medium"),u(Me,"class","flex w-full justify-between my-2 pr-2"),u(we,"class","self-center text-xs font-medium"),u(ge,"class","flex w-full justify-between my-2 pr-2")},m(he,Te){K(he,e,Te),n(e,t),n(t,l),n(l,o),n(t,a),n(t,i),n(i,f),n(f,v),n(i,w),ce(p,i,null),n(t,b),n(t,I),n(I,$),n($,T),n(I,C),ce(y,I,null),n(t,H),n(t,A),n(A,D),n(D,F),n(A,B),ce(Y,A,null),n(t,X),n(t,j),ce(N,j,null),n(e,Z),n(e,le),n(e,oe),n(e,q),n(q,R),n(R,ie),n(q,pe),n(q,P),n(P,te),n(te,M),n(P,W),ce(me,P,null),n(q,ye),n(q,Ee),n(Ee,ke),n(ke,se),n(Ee,$e),ce(xe,Ee,null),n(q,Ge),n(q,Me),n(Me,Ue),n(Ue,Ce),n(Me,Ne),ce(Oe,Me,null),n(q,ae),n(q,ge),n(ge,we),n(we,Ae),n(ge,Be),ce(Je,ge,null),Ie=!0},p(he,[Te]){(!Ie||Te&2)&&r!==(r=he[1].t("Workspace Permissions")+"")&&ee(o,r),(!Ie||Te&2)&&m!==(m=he[1].t("Models Access")+"")&&ee(v,m);const We={};!g&&Te&1&&(g=!0,We.state=he[0].workspace.models,ze(()=>g=!1)),p.$set(We),(!Ie||Te&2)&&k!==(k=he[1].t("Knowledge Access")+"")&&ee(T,k);const It={};!E&&Te&1&&(E=!0,It.state=he[0].workspace.knowledge,ze(()=>E=!1)),y.$set(It),(!Ie||Te&2)&&z!==(z=he[1].t("Prompts Access")+"")&&ee(F,z);const ft={};!G&&Te&1&&(G=!0,ft.state=he[0].workspace.prompts,ze(()=>G=!1)),Y.$set(ft);const Vt={};Te&2&&(Vt.content=he[1].t("Warning: Enabling this will allow users to upload arbitrary code on the server.")),Te&2051&&(Vt.$$scope={dirty:Te,ctx:he}),N.$set(Vt),(!Ie||Te&2)&&O!==(O=he[1].t("Chat Permissions")+"")&&ee(ie,O),(!Ie||Te&2)&&_e!==(_e=he[1].t("Allow File Upload")+"")&&ee(M,_e);const bt={};!ve&&Te&1&&(ve=!0,bt.state=he[0].chat.file_upload,ze(()=>ve=!1)),me.$set(bt),(!Ie||Te&2)&&re!==(re=he[1].t("Allow Chat Delete")+"")&&ee(se,re);const xt={};!Ve&&Te&1&&(Ve=!0,xt.state=he[0].chat.delete,ze(()=>Ve=!1)),xe.$set(xt),(!Ie||Te&2)&&Le!==(Le=he[1].t("Allow Chat Edit")+"")&&ee(Ce,Le);const $t={};!Ze&&Te&1&&(Ze=!0,$t.state=he[0].chat.edit,ze(()=>Ze=!1)),Oe.$set($t),(!Ie||Te&2)&&De!==(De=he[1].t("Allow Temporary Chat")+"")&&ee(Ae,De);const pt={};!lt&&Te&1&&(lt=!0,pt.state=he[0].chat.temporary,ze(()=>lt=!1)),Je.$set(pt)},i(he){Ie||(L(p.$$.fragment,he),L(y.$$.fragment,he),L(Y.$$.fragment,he),L(N.$$.fragment,he),L(me.$$.fragment,he),L(xe.$$.fragment,he),L(Oe.$$.fragment,he),L(Je.$$.fragment,he),Ie=!0)},o(he){S(p.$$.fragment,he),S(y.$$.fragment,he),S(Y.$$.fragment,he),S(N.$$.fragment,he),S(me.$$.fragment,he),S(xe.$$.fragment,he),S(Oe.$$.fragment,he),S(Je.$$.fragment,he),Ie=!1},d(he){he&&c(e),de(p),de(y),de(Y),de(N),de(me),de(xe),de(Oe),de(Je)}}}function sa(s,e,t){let l;const r=yt("i18n");ct(s,r,b=>t(1,l=b));let{permissions:o={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{delete:!0,edit:!0,temporary:!0,file_upload:!0}}}=e;function a(b){s.$$.not_equal(o.workspace.models,b)&&(o.workspace.models=b,t(0,o))}function i(b){s.$$.not_equal(o.workspace.knowledge,b)&&(o.workspace.knowledge=b,t(0,o))}function f(b){s.$$.not_equal(o.workspace.prompts,b)&&(o.workspace.prompts=b,t(0,o))}function m(b){s.$$.not_equal(o.workspace.tools,b)&&(o.workspace.tools=b,t(0,o))}function v(b){s.$$.not_equal(o.chat.file_upload,b)&&(o.chat.file_upload=b,t(0,o))}function w(b){s.$$.not_equal(o.chat.delete,b)&&(o.chat.delete=b,t(0,o))}function p(b){s.$$.not_equal(o.chat.edit,b)&&(o.chat.edit=b,t(0,o))}function g(b){s.$$.not_equal(o.chat.temporary,b)&&(o.chat.temporary=b,t(0,o))}return s.$$set=b=>{"permissions"in b&&t(0,o=b.permissions)},[o,l,r,a,i,f,m,v,w,p,g]}class ra extends dt{constructor(e){super(),_t(this,e,sa,la,it,{permissions:0})}}function rs(s,e,t){const l=s.slice();return l[8]=e[t],l[10]=t,l}function aa(s){let e,t=s[3].t("No users were found.")+"",l;return{c(){e=d("div"),l=Q(t),this.h()},l(r){e=_(r,"DIV",{class:!0});var o=h(e);l=J(o,t),o.forEach(c),this.h()},h(){u(e,"class","text-gray-500 text-xs text-center py-2 px-10")},m(r,o){K(r,e,o),n(e,l)},p(r,o){o&8&&t!==(t=r[3].t("No users were found.")+"")&&ee(l,t)},i:Fe,o:Fe,d(r){r&&c(e)}}}function na(s){let e=[],t=new Map,l,r,o=Ot(s[2]);const a=i=>i[8].id;for(let i=0;i<o.length;i+=1){let f=rs(s,o,i),m=a(f);t.set(m,e[i]=ns(m,f))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=ol()},l(i){for(let f=0;f<e.length;f+=1)e[f].l(i);l=ol()},m(i,f){for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(i,f);K(i,l,f),r=!0},p(i,f){f&5&&(o=Ot(i[2]),Se(),e=Cs(e,f,a,1,i,o,t,l.parentNode,Us,ns,l,rs),He())},i(i){if(!r){for(let f=0;f<o.length;f+=1)L(e[f]);r=!0}},o(i){for(let f=0;f<e.length;f+=1)S(e[f]);r=!1},d(i){i&&c(l);for(let f=0;f<e.length;f+=1)e[f].d(i)}}}function oa(s){let e,t,l,r,o,a=s[8].name+"",i;return{c(){e=d("div"),t=d("img"),r=V(),o=d("div"),i=Q(a),this.h()},l(f){e=_(f,"DIV",{class:!0});var m=h(e);t=_(m,"IMG",{class:!0,src:!0,alt:!0}),r=x(m),o=_(m,"DIV",{class:!0});var v=h(o);i=J(v,a),v.forEach(c),m.forEach(c),this.h()},h(){u(t,"class","rounded-full size-5 object-cover mr-2.5"),nl(t.src,l=s[8].profile_image_url.startsWith(_l)||s[8].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||s[8].profile_image_url.startsWith("data:")?s[8].profile_image_url:"/user.png")||u(t,"src",l),u(t,"alt","user"),u(o,"class","font-medium self-center"),u(e,"class","flex")},m(f,m){K(f,e,m),n(e,t),n(e,r),n(e,o),n(o,i)},p(f,m){m&4&&!nl(t.src,l=f[8].profile_image_url.startsWith(_l)||f[8].profile_image_url.startsWith("https://www.gravatar.com/avatar/")||f[8].profile_image_url.startsWith("data:")?f[8].profile_image_url:"/user.png")&&u(t,"src",l),m&4&&a!==(a=f[8].name+"")&&ee(i,a)},d(f){f&&c(e)}}}function as(s){let e,t;return e=new ws({props:{type:"success",content:"member"}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function ns(s,e){let t,l,r,o,a,i,f,m=e[0].includes(e[8].id),v,w;function p(...b){return e[7](e[8],...b)}r=new Hs({props:{state:e[0].includes(e[8].id)?"checked":"unchecked"}}),r.$on("change",p),i=new Yt({props:{content:e[8].email,placement:"top-start",$$slots:{default:[oa]},$$scope:{ctx:e}}});let g=m&&as();return{key:s,first:null,c(){t=d("div"),l=d("div"),ue(r.$$.fragment),o=V(),a=d("div"),ue(i.$$.fragment),f=V(),g&&g.c(),v=V(),this.h()},l(b){t=_(b,"DIV",{class:!0});var I=h(t);l=_(I,"DIV",{class:!0});var $=h(l);fe(r.$$.fragment,$),$.forEach(c),o=x(I),a=_(I,"DIV",{class:!0});var k=h(a);fe(i.$$.fragment,k),f=x(k),g&&g.l(k),k.forEach(c),v=x(I),I.forEach(c),this.h()},h(){u(l,"class","flex items-center"),u(a,"class","flex w-full items-center justify-between"),u(t,"class","flex flex-row items-center gap-3 w-full text-sm"),this.first=t},m(b,I){K(b,t,I),n(t,l),ce(r,l,null),n(t,o),n(t,a),ce(i,a,null),n(a,f),g&&g.m(a,null),n(t,v),w=!0},p(b,I){e=b;const $={};I&5&&($.state=e[0].includes(e[8].id)?"checked":"unchecked"),r.$set($);const k={};I&4&&(k.content=e[8].email),I&2052&&(k.$$scope={dirty:I,ctx:e}),i.$set(k),I&5&&(m=e[0].includes(e[8].id)),m?g?I&5&&L(g,1):(g=as(),g.c(),L(g,1),g.m(a,null)):g&&(Se(),S(g,1,1,()=>{g=null}),He())},i(b){w||(L(r.$$.fragment,b),L(i.$$.fragment,b),L(g),w=!0)},o(b){S(r.$$.fragment,b),S(i.$$.fragment,b),S(g),w=!1},d(b){b&&c(t),de(r),de(i),g&&g.d()}}}function ia(s){let e,t,l,r,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',a,i,f,m,v,w,p,g,b,I,$;const k=[na,aa],T=[];function C(y,E){return y[2].length>0?0:1}return p=C(s),g=T[p]=k[p](s),{c(){e=d("div"),t=d("div"),l=d("div"),r=d("div"),r.innerHTML=o,a=V(),i=d("input"),m=V(),v=d("div"),w=d("div"),g.c(),this.h()},l(y){e=_(y,"DIV",{});var E=h(e);t=_(E,"DIV",{class:!0});var H=h(t);l=_(H,"DIV",{class:!0});var A=h(l);r=_(A,"DIV",{class:!0,"data-svelte-h":!0}),et(r)!=="svelte-r4ce5j"&&(r.innerHTML=o),a=x(A),i=_(A,"INPUT",{class:!0,placeholder:!0}),A.forEach(c),H.forEach(c),m=x(E),v=_(E,"DIV",{class:!0});var D=h(v);w=_(D,"DIV",{class:!0});var z=h(w);g.l(z),z.forEach(c),D.forEach(c),E.forEach(c),this.h()},h(){u(r,"class","self-center mr-3"),u(i,"class","w-full text-sm pr-4 rounded-r-xl outline-none bg-transparent"),u(i,"placeholder",f=s[3].t("Search")),u(l,"class","flex flex-1"),u(t,"class","flex w-full"),u(w,"class","flex flex-col gap-2.5"),u(v,"class","mt-3 max-h-[22rem] overflow-y-auto scrollbar-hidden")},m(y,E){K(y,e,E),n(e,t),n(t,l),n(l,r),n(l,a),n(l,i),Re(i,s[1]),n(e,m),n(e,v),n(v,w),T[p].m(w,null),b=!0,I||($=be(i,"input",s[6]),I=!0)},p(y,[E]){(!b||E&8&&f!==(f=y[3].t("Search")))&&u(i,"placeholder",f),E&2&&i.value!==y[1]&&Re(i,y[1]);let H=p;p=C(y),p===H?T[p].p(y,E):(Se(),S(T[H],1,1,()=>{T[H]=null}),He(),g=T[p],g?g.p(y,E):(g=T[p]=k[p](y),g.c()),L(g,1),g.m(w,null))},i(y){b||(L(g),b=!0)},o(y){S(g),b=!1},d(y){y&&c(e),T[p].d(),I=!1,$()}}}function ua(s,e,t){let l;const r=yt("i18n");ct(s,r,w=>t(3,l=w));let{users:o=[]}=e,{userIds:a=[]}=e,i=[],f="";function m(){f=this.value,t(1,f)}const v=(w,p)=>{p.detail==="checked"?t(0,a=[...a,w.id]):t(0,a=a.filter(g=>g!==w.id))};return s.$$set=w=>{"users"in w&&t(5,o=w.users),"userIds"in w&&t(0,a=w.userIds)},s.$$.update=()=>{s.$$.dirty&35&&t(2,i=o.filter(w=>(w==null?void 0:w.role)==="admin"?!1:f===""?!0:w.name.toLowerCase().includes(f.toLowerCase())||w.email.toLowerCase().includes(f.toLowerCase())).sort((w,p)=>{const g=a.indexOf(w.id),b=a.indexOf(p.id);return g!==-1&&b===-1?-1:b!==-1&&g===-1?1:g!==-1&&b!==-1?g-b:w.name.localeCompare(p.name)}))},[a,f,i,l,r,o,m,v]}let fa=class extends dt{constructor(e){super(),_t(this,e,ua,ia,it,{users:5,userIds:0})}};function ca(s){let e,t;return{c(){e=rl("svg"),t=rl("path"),this.h()},l(l){e=al(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=h(e);t=al(r,"path",{d:!0}),h(t).forEach(c),r.forEach(c),this.h()},h(){u(t,"d","M10 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM1.615 16.428a1.224 1.224 0 0 1-.569-1.175 6.002 6.002 0 0 1 11.908 0c.058.467-.172.92-.57 1.174A9.953 9.953 0 0 1 7 18a9.953 9.953 0 0 1-5.385-1.572ZM16.25 5.75a.75.75 0 0 0-1.5 0v2h-2a.75.75 0 0 0 0 1.5h2v2a.75.75 0 0 0 1.5 0v-2h2a.75.75 0 0 0 0-1.5h-2v-2Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 20 20"),u(e,"fill","currentColor"),u(e,"class",s[0])},m(l,r){K(l,e,r),n(e,t)},p(l,[r]){r&1&&u(e,"class",l[0])},i:Fe,o:Fe,d(l){l&&c(e)}}}function da(s,e,t){let{className:l="size-4"}=e;return s.$$set=r=>{"className"in r&&t(0,l=r.className)},[l]}class _a extends dt{constructor(e){super(),_t(this,e,da,ca,it,{className:0})}}function ma(s){let e=s[12].t("Edit Default Permissions")+"",t;return{c(){t=Q(e)},l(l){t=J(l,e)},m(l,r){K(l,t,r)},p(l,r){r&4096&&e!==(e=l[12].t("Edit Default Permissions")+"")&&ee(t,e)},d(l){l&&c(t)}}}function ha(s){let e;function t(o,a){return o[6]?va:pa}let l=t(s),r=l(s);return{c(){r.c(),e=ol()},l(o){r.l(o),e=ol()},m(o,a){r.m(o,a),K(o,e,a)},p(o,a){l===(l=t(o))&&r?r.p(o,a):(r.d(1),r=l(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&c(e),r.d(o)}}}function pa(s){let e=s[12].t("Add User Group")+"",t;return{c(){t=Q(e)},l(l){t=J(l,e)},m(l,r){K(l,t,r)},p(l,r){r&4096&&e!==(e=l[12].t("Add User Group")+"")&&ee(t,e)},d(l){l&&c(t)}}}function va(s){let e=s[12].t("Edit User Group")+"",t;return{c(){t=Q(e)},l(l){t=J(l,e)},m(l,r){K(l,t,r)},p(l,r){r&4096&&e!==(e=l[12].t("Edit User Group")+"")&&ee(t,e)},d(l){l&&c(t)}}}function os(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',r,o,a=s[12].t("General")+"",i,f,m,v;return{c(){e=d("button"),t=d("div"),t.innerHTML=l,r=V(),o=d("div"),i=Q(a),this.h()},l(w){e=_(w,"BUTTON",{class:!0,type:!0});var p=h(e);t=_(p,"DIV",{class:!0,"data-svelte-h":!0}),et(t)!=="svelte-15gnf02"&&(t.innerHTML=l),r=x(p),o=_(p,"DIV",{class:!0});var g=h(o);i=J(g,a),g.forEach(c),p.forEach(c),this.h()},h(){u(t,"class","self-center mr-2"),u(o,"class","self-center"),u(e,"class",f="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(e,"type","button")},m(w,p){K(w,e,p),n(e,t),n(e,r),n(e,o),n(o,i),m||(v=be(e,"click",s[18]),m=!0)},p(w,p){p&4096&&a!==(a=w[12].t("General")+"")&&ee(i,a),p&1024&&f!==(f="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(w[10]==="general"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white"))&&u(e,"class",f)},d(w){w&&c(e),m=!1,v()}}}function is(s){let e,t,l,r,o,a=s[12].t("Permissions")+"",i,f,m,v,w;return l=new Ps({}),{c(){e=d("button"),t=d("div"),ue(l.$$.fragment),r=V(),o=d("div"),i=Q(a),this.h()},l(p){e=_(p,"BUTTON",{class:!0,type:!0});var g=h(e);t=_(g,"DIV",{class:!0});var b=h(t);fe(l.$$.fragment,b),b.forEach(c),r=x(g),o=_(g,"DIV",{class:!0});var I=h(o);i=J(I,a),I.forEach(c),g.forEach(c),this.h()},h(){u(t,"class","self-center mr-2"),u(o,"class","self-center"),u(e,"class",f="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="permissions"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(e,"type","button")},m(p,g){K(p,e,g),n(e,t),ce(l,t,null),n(e,r),n(e,o),n(o,i),m=!0,v||(w=be(e,"click",s[19]),v=!0)},p(p,g){(!m||g&4096)&&a!==(a=p[12].t("Permissions")+"")&&ee(i,a),(!m||g&1024&&f!==(f="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(p[10]==="permissions"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(e,"class",f)},i(p){m||(L(l.$$.fragment,p),m=!0)},o(p){S(l.$$.fragment,p),m=!1},d(p){p&&c(e),de(l),v=!1,w()}}}function us(s){let e,t,l,r,o,a=s[12].t("Users")+"",i,f,m=s[4].length+"",v,w,p,g,b,I;return l=new _a({}),{c(){e=d("button"),t=d("div"),ue(l.$$.fragment),r=V(),o=d("div"),i=Q(a),f=Q(" ("),v=Q(m),w=Q(")"),this.h()},l($){e=_($,"BUTTON",{class:!0,type:!0});var k=h(e);t=_(k,"DIV",{class:!0});var T=h(t);fe(l.$$.fragment,T),T.forEach(c),r=x(k),o=_(k,"DIV",{class:!0});var C=h(o);i=J(C,a),f=J(C," ("),v=J(C,m),w=J(C,")"),C.forEach(c),k.forEach(c),this.h()},h(){u(t,"class","self-center mr-2"),u(o,"class","self-center"),u(e,"class",p="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+(s[10]==="users"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(e,"type","button")},m($,k){K($,e,k),n(e,t),ce(l,t,null),n(e,r),n(e,o),n(o,i),n(o,f),n(o,v),n(o,w),g=!0,b||(I=be(e,"click",s[20]),b=!0)},p($,k){(!g||k&4096)&&a!==(a=$[12].t("Users")+"")&&ee(i,a),(!g||k&16)&&m!==(m=$[4].length+"")&&ee(v,m),(!g||k&1024&&p!==(p="px-0.5 py-1 max-w-fit w-fit rounded-lg flex-1 lg:flex-none flex text-right transition "+($[10]==="users"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(e,"class",p)},i($){g||(L(l.$$.fragment,$),g=!0)},o($){S(l.$$.fragment,$),g=!1},d($){$&&c(e),de(l),b=!1,I()}}}function ga(s){let e,t,l;function r(a){s[24](a)}let o={users:s[7]};return s[4]!==void 0&&(o.userIds=s[4]),e=new fa({props:o}),Pe.push(()=>je(e,"userIds",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,i){const f={};i&128&&(f.users=a[7]),!t&&i&16&&(t=!0,f.userIds=a[4],ze(()=>t=!1)),e.$set(f)},i(a){l||(L(e.$$.fragment,a),l=!0)},o(a){S(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function wa(s){let e,t,l;function r(a){s[23](a)}let o={};return s[3]!==void 0&&(o.permissions=s[3]),e=new ra({props:o}),Pe.push(()=>je(e,"permissions",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,i){const f={};!t&&i&8&&(t=!0,f.permissions=a[3],ze(()=>t=!1)),e.$set(f)},i(a){l||(L(e.$$.fragment,a),l=!0)},o(a){S(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function ba(s){let e,t,l,r;function o(f){s[21](f)}function a(f){s[22](f)}let i={};return s[1]!==void 0&&(i.name=s[1]),s[2]!==void 0&&(i.description=s[2]),e=new ea({props:i}),Pe.push(()=>je(e,"name",o)),Pe.push(()=>je(e,"description",a)),{c(){ue(e.$$.fragment)},l(f){fe(e.$$.fragment,f)},m(f,m){ce(e,f,m),r=!0},p(f,m){const v={};!t&&m&2&&(t=!0,v.name=f[1],ze(()=>t=!1)),!l&&m&4&&(l=!0,v.description=f[2],ze(()=>l=!1)),e.$set(v)},i(f){r||(L(e.$$.fragment,f),r=!0)},o(f){S(e.$$.fragment,f),r=!1},d(f){de(e,f)}}}function fs(s){let e,t=s[12].t("Delete")+"",l,r,o;return{c(){e=d("button"),l=Q(t),this.h()},l(a){e=_(a,"BUTTON",{class:!0,type:!0});var i=h(e);l=J(i,t),i.forEach(c),this.h()},h(){u(e,"class","px-3.5 py-1.5 text-sm font-medium dark:bg-black dark:hover:bg-gray-900 dark:text-white bg-white text-black hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center"),u(e,"type","button")},m(a,i){K(a,e,i),n(e,l),r||(o=be(e,"click",s[25]),r=!0)},p(a,i){i&4096&&t!==(t=a[12].t("Delete")+"")&&ee(l,t)},d(a){a&&c(e),r=!1,o()}}}function cs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,r){K(l,e,r)},d(l){l&&c(e)}}}function ka(s){let e,t,l,r,o,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',i,f,m,v,w,p,g=s[9].includes("general"),b,I=s[9].includes("permissions"),$,k=s[9].includes("users"),T,C,y,E,H,A,D,z,F=s[12].t("Save")+"",B,Y,G,X,j,N;function Z(M,W){return M[8]?ha:ma}let le=Z(s),oe=le(s),q=g&&os(s),R=I&&is(s),O=k&&us(s);const ie=[ba,wa,ga],pe=[];function P(M,W){return M[10]=="general"?0:M[10]=="permissions"?1:M[10]=="users"?2:-1}~(y=P(s))&&(E=pe[y]=ie[y](s));let te=s[6]&&fs(s),_e=s[11]&&cs();return{c(){e=d("div"),t=d("div"),l=d("div"),oe.c(),r=V(),o=d("button"),o.innerHTML=a,i=V(),f=d("div"),m=d("div"),v=d("form"),w=d("div"),p=d("div"),q&&q.c(),b=V(),R&&R.c(),$=V(),O&&O.c(),T=V(),C=d("div"),E&&E.c(),H=V(),A=d("div"),te&&te.c(),D=V(),z=d("button"),B=Q(F),Y=V(),_e&&_e.c(),this.h()},l(M){e=_(M,"DIV",{});var W=h(e);t=_(W,"DIV",{class:!0});var me=h(t);l=_(me,"DIV",{class:!0});var ve=h(l);oe.l(ve),ve.forEach(c),r=x(me),o=_(me,"BUTTON",{class:!0,"data-svelte-h":!0}),et(o)!=="svelte-745w2y"&&(o.innerHTML=a),me.forEach(c),i=x(W),f=_(W,"DIV",{class:!0});var ye=h(f);m=_(ye,"DIV",{class:!0});var Ee=h(m);v=_(Ee,"FORM",{class:!0});var ke=h(v);w=_(ke,"DIV",{class:!0});var re=h(w);p=_(re,"DIV",{id:!0,class:!0});var se=h(p);q&&q.l(se),b=x(se),R&&R.l(se),$=x(se),O&&O.l(se),se.forEach(c),T=x(re),C=_(re,"DIV",{class:!0});var $e=h(C);E&&E.l($e),$e.forEach(c),re.forEach(c),H=x(ke),A=_(ke,"DIV",{class:!0});var xe=h(A);te&&te.l(xe),D=x(xe),z=_(xe,"BUTTON",{class:!0,type:!0});var Ve=h(z);B=J(Ve,F),Y=x(Ve),_e&&_e.l(Ve),Ve.forEach(c),xe.forEach(c),ke.forEach(c),Ee.forEach(c),ye.forEach(c),W.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center font-primary"),u(o,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 mb-1.5"),u(p,"id","admin-settings-tabs-container"),u(p,"class","tabs flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),u(C,"class","flex-1 mt-1 lg:mt-1 lg:h-[22rem] lg:max-h-[22rem] overflow-y-auto scrollbar-hidden"),u(w,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4"),u(z,"class",G="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[11]?" cursor-not-allowed":"")),u(z,"type","submit"),z.disabled=s[11],u(A,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),u(v,"class","flex flex-col w-full"),u(m,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(f,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(M,W){K(M,e,W),n(e,t),n(t,l),oe.m(l,null),n(t,r),n(t,o),n(e,i),n(e,f),n(f,m),n(m,v),n(v,w),n(w,p),q&&q.m(p,null),n(p,b),R&&R.m(p,null),n(p,$),O&&O.m(p,null),n(w,T),n(w,C),~y&&pe[y].m(C,null),n(v,H),n(v,A),te&&te.m(A,null),n(A,D),n(A,z),n(z,B),n(z,Y),_e&&_e.m(z,null),X=!0,j||(N=[be(o,"click",s[17]),be(v,"submit",s[26])],j=!0)},p(M,W){le===(le=Z(M))&&oe?oe.p(M,W):(oe.d(1),oe=le(M),oe&&(oe.c(),oe.m(l,null))),W&512&&(g=M[9].includes("general")),g?q?q.p(M,W):(q=os(M),q.c(),q.m(p,b)):q&&(q.d(1),q=null),W&512&&(I=M[9].includes("permissions")),I?R?(R.p(M,W),W&512&&L(R,1)):(R=is(M),R.c(),L(R,1),R.m(p,$)):R&&(Se(),S(R,1,1,()=>{R=null}),He()),W&512&&(k=M[9].includes("users")),k?O?(O.p(M,W),W&512&&L(O,1)):(O=us(M),O.c(),L(O,1),O.m(p,null)):O&&(Se(),S(O,1,1,()=>{O=null}),He());let me=y;y=P(M),y===me?~y&&pe[y].p(M,W):(E&&(Se(),S(pe[me],1,1,()=>{pe[me]=null}),He()),~y?(E=pe[y],E?E.p(M,W):(E=pe[y]=ie[y](M),E.c()),L(E,1),E.m(C,null)):E=null),M[6]?te?te.p(M,W):(te=fs(M),te.c(),te.m(A,D)):te&&(te.d(1),te=null),(!X||W&4096)&&F!==(F=M[12].t("Save")+"")&&ee(B,F),M[11]?_e||(_e=cs(),_e.c(),_e.m(z,null)):_e&&(_e.d(1),_e=null),(!X||W&2048&&G!==(G="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(M[11]?" cursor-not-allowed":"")))&&u(z,"class",G),(!X||W&2048)&&(z.disabled=M[11])},i(M){X||(L(R),L(O),L(E),X=!0)},o(M){S(R),S(O),S(E),X=!1},d(M){M&&c(e),oe.d(),q&&q.d(),R&&R.d(),O&&O.d(),~y&&pe[y].d(),te&&te.d(),_e&&_e.d(),j=!1,Nt(N)}}}function $a(s){let e,t,l;function r(a){s[27](a)}let o={size:"md",$$slots:{default:[ka]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new hl({props:o}),Pe.push(()=>je(e,"show",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,[i]){const f={};i&536879103&&(f.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,f.show=a[0],ze(()=>t=!1)),e.$set(f)},i(a){l||(L(e.$$.fragment,a),l=!0)},o(a){S(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function ya(s,e,t){let l;const r=yt("i18n");ct(s,r,N=>t(12,l=N));let{onSubmit:o=()=>{}}=e,{onDelete:a=()=>{}}=e,{show:i=!1}=e,{edit:f=!1}=e,{users:m=[]}=e,{group:v=null}=e,{custom:w=!0}=e,{tabs:p=["general","permissions","users"]}=e,g="general",b=!1,{name:I=""}=e,{description:$=""}=e,{permissions:k={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{file_upload:!0,delete:!0,edit:!0,temporary:!0}}}=e,{userIds:T=[]}=e;const C=async()=>{t(11,b=!0),await o({name:I,description:$,permissions:k,user_ids:T}),t(11,b=!1),t(0,i=!1)},y=()=>{v&&(t(1,I=v.name),t(2,$=v.description),t(3,k=(v==null?void 0:v.permissions)??{workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{file_upload:!0,delete:!0,edit:!0,temporary:!0}}),t(4,T=(v==null?void 0:v.user_ids)??[]))};ml(()=>{console.log(p),t(10,g=p[0]),y()});const E=()=>{t(0,i=!1)},H=()=>{t(10,g="general")},A=()=>{t(10,g="permissions")},D=()=>{t(10,g="users")};function z(N){I=N,t(1,I)}function F(N){$=N,t(2,$)}function B(N){k=N,t(3,k)}function Y(N){T=N,t(4,T)}const G=()=>{a(),t(0,i=!1)},X=N=>{N.preventDefault(),C()};function j(N){i=N,t(0,i)}return s.$$set=N=>{"onSubmit"in N&&t(15,o=N.onSubmit),"onDelete"in N&&t(5,a=N.onDelete),"show"in N&&t(0,i=N.show),"edit"in N&&t(6,f=N.edit),"users"in N&&t(7,m=N.users),"group"in N&&t(16,v=N.group),"custom"in N&&t(8,w=N.custom),"tabs"in N&&t(9,p=N.tabs),"name"in N&&t(1,I=N.name),"description"in N&&t(2,$=N.description),"permissions"in N&&t(3,k=N.permissions),"userIds"in N&&t(4,T=N.userIds)},s.$$.update=()=>{s.$$.dirty&1&&i&&y()},[i,I,$,k,T,a,f,m,w,p,g,b,l,r,C,o,v,E,H,A,D,z,F,B,Y,G,X,j]}class $s extends dt{constructor(e){super(),_t(this,e,ya,$a,it,{onSubmit:15,onDelete:5,show:0,edit:6,users:7,group:16,custom:8,tabs:9,name:1,description:2,permissions:3,userIds:4})}}function Ea(s){let e,t,l,r,o,a,i,f,m=s[1].name+"",v,w,p,g=s[1].user_ids.length+"",b,I,$,k,T,C,y,E,H,A,D;function z(B){s[7](B)}let F={edit:!0,users:s[0],group:s[1],onSubmit:s[4],onDelete:s[5]};return s[2]!==void 0&&(F.show=s[2]),e=new $s({props:F}),Pe.push(()=>je(e,"show",z)),i=new zs({props:{className:"size-4"}}),k=new Rs({props:{className:"size-3.5"}}),E=new Ys({props:{className:"size-3.5"}}),{c(){ue(e.$$.fragment),l=V(),r=d("button"),o=d("div"),a=d("div"),ue(i.$$.fragment),f=V(),v=Q(m),w=V(),p=d("div"),b=Q(g),I=V(),$=d("div"),ue(k.$$.fragment),T=V(),C=d("div"),y=d("div"),ue(E.$$.fragment),this.h()},l(B){fe(e.$$.fragment,B),l=x(B),r=_(B,"BUTTON",{class:!0});var Y=h(r);o=_(Y,"DIV",{class:!0});var G=h(o);a=_(G,"DIV",{});var X=h(a);fe(i.$$.fragment,X),X.forEach(c),f=x(G),v=J(G,m),G.forEach(c),w=x(Y),p=_(Y,"DIV",{class:!0});var j=h(p);b=J(j,g),I=x(j),$=_(j,"DIV",{});var N=h($);fe(k.$$.fragment,N),N.forEach(c),j.forEach(c),T=x(Y),C=_(Y,"DIV",{class:!0});var Z=h(C);y=_(Z,"DIV",{class:!0});var le=h(y);fe(E.$$.fragment,le),le.forEach(c),Z.forEach(c),Y.forEach(c),this.h()},h(){u(o,"class","flex items-center gap-1.5 w-full font-medium"),u(p,"class","flex items-center gap-1.5 w-full font-medium"),u(y,"class","rounded-lg p-1 hover:bg-gray-100 dark:hover:bg-gray-850 transition"),u(C,"class","w-full flex justify-end"),u(r,"class","flex items-center gap-3 justify-between px-1 text-xs w-full transition")},m(B,Y){ce(e,B,Y),K(B,l,Y),K(B,r,Y),n(r,o),n(o,a),ce(i,a,null),n(o,f),n(o,v),n(r,w),n(r,p),n(p,b),n(p,I),n(p,$),ce(k,$,null),n(r,T),n(r,C),n(C,y),ce(E,y,null),H=!0,A||(D=be(r,"click",s[8]),A=!0)},p(B,[Y]){const G={};Y&1&&(G.users=B[0]),Y&2&&(G.group=B[1]),!t&&Y&4&&(t=!0,G.show=B[2],ze(()=>t=!1)),e.$set(G),(!H||Y&2)&&m!==(m=B[1].name+"")&&ee(v,m),(!H||Y&2)&&g!==(g=B[1].user_ids.length+"")&&ee(b,g)},i(B){H||(L(e.$$.fragment,B),L(i.$$.fragment,B),L(k.$$.fragment,B),L(E.$$.fragment,B),H=!0)},o(B){S(e.$$.fragment,B),S(i.$$.fragment,B),S(k.$$.fragment,B),S(E.$$.fragment,B),H=!1},d(B){B&&(c(l),c(r)),de(e,B),de(i),de(k),de(E),A=!1,D()}}}function Da(s,e,t){let l;const r=yt("i18n");ct(s,r,g=>t(9,l=g));let{users:o=[]}=e,{group:a={name:"Admins",user_ids:[1,2,3]}}=e,{setGroups:i=()=>{}}=e,f=!1;const m=async g=>{await js(localStorage.token,a.id,g).catch(I=>(ot.error(I),null))&&(ot.success(l.t("Group updated successfully")),i())},v=async()=>{await Gs(localStorage.token,a.id).catch(b=>(ot.error(b),null))&&(ot.success(l.t("Group deleted successfully")),i())};function w(g){f=g,t(2,f)}const p=()=>{t(2,f=!0)};return s.$$set=g=>{"users"in g&&t(0,o=g.users),"group"in g&&t(1,a=g.group),"setGroups"in g&&t(6,i=g.setGroups)},[o,a,f,r,m,v,i,w,p]}class Ia extends dt{constructor(e){super(),_t(this,e,Da,Ea,it,{users:0,group:1,setGroups:6})}}function ds(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),et(e)!=="svelte-1vuzrxa"&&(e.innerHTML=t),this.h()},h(){u(e,"class","ml-2 self-center")},m(l,r){K(l,e,r)},d(l){l&&c(e)}}}function Va(s){let e,t,l,r=s[4].t("Add User Group")+"",o,a,i,f='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,v,w,p,g,b,I,$,k=s[4].t("Name")+"",T,C,y,E,H,A,D,z,F=s[4].t("Description")+"",B,Y,G,X,j,N,Z,le,oe=s[4].t("Create")+"",q,R,O,ie,pe,P;function te(W){s[10](W)}let _e={className:"w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none resize-none",rows:2,placeholder:s[4].t("Group Description")};s[2]!==void 0&&(_e.value=s[2]),X=new ks({props:_e}),Pe.push(()=>je(X,"value",te));let M=s[3]&&ds();return{c(){e=d("div"),t=d("div"),l=d("div"),o=Q(r),a=V(),i=d("button"),i.innerHTML=f,m=V(),v=d("div"),w=d("div"),p=d("form"),g=d("div"),b=d("div"),I=d("div"),$=d("div"),T=Q(k),C=V(),y=d("div"),E=d("input"),A=V(),D=d("div"),z=d("div"),B=Q(F),Y=V(),G=d("div"),ue(X.$$.fragment),N=V(),Z=d("div"),le=d("button"),q=Q(oe),R=V(),M&&M.c(),this.h()},l(W){e=_(W,"DIV",{});var me=h(e);t=_(me,"DIV",{class:!0});var ve=h(t);l=_(ve,"DIV",{class:!0});var ye=h(l);o=J(ye,r),ye.forEach(c),a=x(ve),i=_(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),et(i)!=="svelte-745w2y"&&(i.innerHTML=f),ve.forEach(c),m=x(me),v=_(me,"DIV",{class:!0});var Ee=h(v);w=_(Ee,"DIV",{class:!0});var ke=h(w);p=_(ke,"FORM",{class:!0});var re=h(p);g=_(re,"DIV",{class:!0});var se=h(g);b=_(se,"DIV",{class:!0});var $e=h(b);I=_($e,"DIV",{class:!0});var xe=h(I);$=_(xe,"DIV",{class:!0});var Ve=h($);T=J(Ve,k),Ve.forEach(c),C=x(xe),y=_(xe,"DIV",{class:!0});var Ge=h(y);E=_(Ge,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0}),Ge.forEach(c),xe.forEach(c),$e.forEach(c),A=x(se),D=_(se,"DIV",{class:!0});var Me=h(D);z=_(Me,"DIV",{class:!0});var Ue=h(z);B=J(Ue,F),Ue.forEach(c),Y=x(Me),G=_(Me,"DIV",{class:!0});var Le=h(G);fe(X.$$.fragment,Le),Le.forEach(c),Me.forEach(c),se.forEach(c),N=x(re),Z=_(re,"DIV",{class:!0});var Ce=h(Z);le=_(Ce,"BUTTON",{class:!0,type:!0});var Ne=h(le);q=J(Ne,oe),R=x(Ne),M&&M.l(Ne),Ne.forEach(c),Ce.forEach(c),re.forEach(c),ke.forEach(c),Ee.forEach(c),me.forEach(c),this.h()},h(){u(l,"class","text-lg font-medium self-center font-primary"),u(i,"class","self-center"),u(t,"class","flex justify-between dark:text-gray-100 px-5 pt-4 mb-1.5"),u($,"class","mb-0.5 text-xs text-gray-500"),u(E,"class","w-full text-sm bg-transparent placeholder:text-gray-300 dark:placeholder:text-gray-700 outline-none"),u(E,"type","text"),u(E,"placeholder",H=s[4].t("Group Name")),u(E,"autocomplete","off"),E.required=!0,u(y,"class","flex-1"),u(I,"class","flex flex-col w-full"),u(b,"class","flex gap-2"),u(z,"class","mb-1 text-xs text-gray-500"),u(G,"class","flex-1"),u(D,"class","flex flex-col w-full mt-2"),u(g,"class","px-1 flex flex-col w-full"),u(le,"class",O="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[3]?" cursor-not-allowed":"")),u(le,"type","submit"),le.disabled=s[3],u(Z,"class","flex justify-end pt-3 text-sm font-medium gap-1.5"),u(p,"class","flex flex-col w-full"),u(w,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),u(v,"class","flex flex-col md:flex-row w-full px-4 pb-4 md:space-x-4 dark:text-gray-200")},m(W,me){K(W,e,me),n(e,t),n(t,l),n(l,o),n(t,a),n(t,i),n(e,m),n(e,v),n(v,w),n(w,p),n(p,g),n(g,b),n(b,I),n(I,$),n($,T),n(I,C),n(I,y),n(y,E),Re(E,s[1]),n(g,A),n(g,D),n(D,z),n(z,B),n(D,Y),n(D,G),ce(X,G,null),n(p,N),n(p,Z),n(Z,le),n(le,q),n(le,R),M&&M.m(le,null),ie=!0,pe||(P=[be(i,"click",s[8]),be(E,"input",s[9]),be(p,"submit",s[11])],pe=!0)},p(W,me){(!ie||me&16)&&r!==(r=W[4].t("Add User Group")+"")&&ee(o,r),(!ie||me&16)&&k!==(k=W[4].t("Name")+"")&&ee(T,k),(!ie||me&16&&H!==(H=W[4].t("Group Name")))&&u(E,"placeholder",H),me&2&&E.value!==W[1]&&Re(E,W[1]),(!ie||me&16)&&F!==(F=W[4].t("Description")+"")&&ee(B,F);const ve={};me&16&&(ve.placeholder=W[4].t("Group Description")),!j&&me&4&&(j=!0,ve.value=W[2],ze(()=>j=!1)),X.$set(ve),(!ie||me&16)&&oe!==(oe=W[4].t("Create")+"")&&ee(q,oe),W[3]?M||(M=ds(),M.c(),M.m(le,null)):M&&(M.d(1),M=null),(!ie||me&8&&O!==(O="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(W[3]?" cursor-not-allowed":"")))&&u(le,"class",O),(!ie||me&8)&&(le.disabled=W[3])},i(W){ie||(L(X.$$.fragment,W),ie=!0)},o(W){S(X.$$.fragment,W),ie=!1},d(W){W&&c(e),de(X),M&&M.d(),pe=!1,Nt(P)}}}function xa(s){let e,t,l;function r(a){s[12](a)}let o={size:"sm",$$slots:{default:[Va]},$$scope:{ctx:s}};return s[0]!==void 0&&(o.show=s[0]),e=new hl({props:o}),Pe.push(()=>je(e,"show",r)),{c(){ue(e.$$.fragment)},l(a){fe(e.$$.fragment,a)},m(a,i){ce(e,a,i),l=!0},p(a,[i]){const f={};i&16415&&(f.$$scope={dirty:i,ctx:a}),!t&&i&1&&(t=!0,f.show=a[0],ze(()=>t=!1)),e.$set(f)},i(a){l||(L(e.$$.fragment,a),l=!0)},o(a){S(e.$$.fragment,a),l=!1},d(a){de(e,a)}}}function Ta(s,e,t){let l;const r=yt("i18n");ct(s,r,$=>t(4,l=$));let{onSubmit:o=()=>{}}=e,{show:a=!1}=e,i="",f="",m=!1;const v=async()=>{t(3,m=!0),await o({name:i,description:f}),t(3,m=!1),t(0,a=!1),t(1,i=""),t(2,f="")};ml(()=>{console.log("mounted")});const w=()=>{t(0,a=!1)};function p(){i=this.value,t(1,i)}function g($){f=$,t(2,f)}const b=$=>{$.preventDefault(),v()};function I($){a=$,t(0,a)}return s.$$set=$=>{"onSubmit"in $&&t(7,o=$.onSubmit),"show"in $&&t(0,a=$.show)},[a,i,f,m,l,r,v,o,w,p,g,b,I]}class Na extends dt{constructor(e){super(),_t(this,e,Ta,xa,it,{onSubmit:7,show:0})}}function _s(s,e,t){const l=s.slice();return l[21]=e[t],l}function ms(s){let e,t,l,r,o,a=s[8].t("Groups")+"",i,f,m,v,w,p=s[1].length+"",g,b,I,$,k,T,C='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',y,E,H,A,D,z,F,B,Y,G,X,j,N,Z,le,oe,q,R,O,ie,pe,P,te,_e,M=s[8].t("Default permissions")+"",W,me,ve,ye=s[8].t('applies to all users with the "user" role')+"",Ee,ke,re,se,$e,xe,Ve;function Ge(ae){s[13](ae)}let Me={onSubmit:s[11]};s[6]!==void 0&&(Me.show=s[6]),e=new Na({props:Me}),Pe.push(()=>je(e,"show",Ge)),z=new Yt({props:{content:s[8].t("Create Group"),$$slots:{default:[Ma]},$$scope:{ctx:s}}});const Ue=[Ua,Ca],Le=[];function Ce(ae,ge){return ae[4].length===0?0:1}Y=Ce(s),G=Le[Y]=Ue[Y](s);function Ne(ae){s[17](ae)}function Oe(ae){s[18](ae)}let Ze={tabs:["permissions"],custom:!1,onSubmit:s[12]};return s[7]!==void 0&&(Ze.show=s[7]),s[5]!==void 0&&(Ze.permissions=s[5]),Z=new $s({props:Ze}),Pe.push(()=>je(Z,"show",Ne)),Pe.push(()=>je(Z,"permissions",Oe)),pe=new Qr({props:{className:"size-4"}}),se=new Ss({props:{strokeWidth:"2.5"}}),{c(){ue(e.$$.fragment),l=V(),r=d("div"),o=d("div"),i=Q(a),f=V(),m=d("div"),v=V(),w=d("span"),g=Q(p),b=V(),I=d("div"),$=d("div"),k=d("div"),T=d("div"),T.innerHTML=C,y=V(),E=d("input"),A=V(),D=d("div"),ue(z.$$.fragment),F=V(),B=d("div"),G.c(),X=V(),j=d("hr"),N=V(),ue(Z.$$.fragment),q=V(),R=d("button"),O=d("div"),ie=d("div"),ue(pe.$$.fragment),P=V(),te=d("div"),_e=d("div"),W=Q(M),me=V(),ve=d("div"),Ee=Q(ye),ke=V(),re=d("div"),ue(se.$$.fragment),this.h()},l(ae){fe(e.$$.fragment,ae),l=x(ae),r=_(ae,"DIV",{class:!0});var ge=h(r);o=_(ge,"DIV",{class:!0});var we=h(o);i=J(we,a),f=x(we),m=_(we,"DIV",{class:!0}),h(m).forEach(c),v=x(we),w=_(we,"SPAN",{class:!0});var De=h(w);g=J(De,p),De.forEach(c),we.forEach(c),b=x(ge),I=_(ge,"DIV",{class:!0});var Ae=h(I);$=_(Ae,"DIV",{class:!0});var Be=h($);k=_(Be,"DIV",{class:!0});var Je=h(k);T=_(Je,"DIV",{class:!0,"data-svelte-h":!0}),et(T)!=="svelte-kinl2y"&&(T.innerHTML=C),y=x(Je),E=_(Je,"INPUT",{class:!0,placeholder:!0}),Je.forEach(c),A=x(Be),D=_(Be,"DIV",{});var lt=h(D);fe(z.$$.fragment,lt),lt.forEach(c),Be.forEach(c),Ae.forEach(c),ge.forEach(c),F=x(ae),B=_(ae,"DIV",{});var Ie=h(B);G.l(Ie),X=x(Ie),j=_(Ie,"HR",{class:!0}),N=x(Ie),fe(Z.$$.fragment,Ie),q=x(Ie),R=_(Ie,"BUTTON",{class:!0});var nt=h(R);O=_(nt,"DIV",{class:!0});var mt=h(O);ie=_(mt,"DIV",{class:!0});var wt=h(ie);fe(pe.$$.fragment,wt),wt.forEach(c),P=x(mt),te=_(mt,"DIV",{class:!0});var Ke=h(te);_e=_(Ke,"DIV",{class:!0});var Qe=h(_e);W=J(Qe,M),Qe.forEach(c),me=x(Ke),ve=_(Ke,"DIV",{class:!0});var ut=h(ve);Ee=J(ut,ye),ut.forEach(c),Ke.forEach(c),mt.forEach(c),ke=x(nt),re=_(nt,"DIV",{});var st=h(re);fe(se.$$.fragment,st),st.forEach(c),nt.forEach(c),Ie.forEach(c),this.h()},h(){u(m,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),u(w,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),u(o,"class","flex md:self-center text-lg font-medium px-0.5"),u(T,"class","self-center ml-1 mr-3"),u(E,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),u(E,"placeholder",H=s[8].t("Search")),u(k,"class","flex flex-1"),u($,"class","flex w-full space-x-2"),u(I,"class","flex gap-1"),u(r,"class","mt-0.5 mb-2 gap-1 flex flex-col md:flex-row justify-between"),u(j,"class","mb-2 border-gray-50 dark:border-gray-850"),u(ie,"class","p-1.5 bg-black/5 dark:bg-white/10 rounded-full"),u(_e,"class","text-sm font-medium"),u(ve,"class","flex text-xs mt-0.5"),u(te,"class","text-left"),u(O,"class","flex items-center gap-2.5"),u(R,"class","flex items-center justify-between rounded-lg w-full transition pt-1")},m(ae,ge){ce(e,ae,ge),K(ae,l,ge),K(ae,r,ge),n(r,o),n(o,i),n(o,f),n(o,m),n(o,v),n(o,w),n(w,g),n(r,b),n(r,I),n(I,$),n($,k),n(k,T),n(k,y),n(k,E),Re(E,s[2]),n($,A),n($,D),ce(z,D,null),K(ae,F,ge),K(ae,B,ge),Le[Y].m(B,null),n(B,X),n(B,j),n(B,N),ce(Z,B,null),n(B,q),n(B,R),n(R,O),n(O,ie),ce(pe,ie,null),n(O,P),n(O,te),n(te,_e),n(_e,W),n(te,me),n(te,ve),n(ve,Ee),n(R,ke),n(R,re),ce(se,re,null),$e=!0,xe||(Ve=[be(E,"input",s[14]),be(R,"click",s[19])],xe=!0)},p(ae,ge){const we={};!t&&ge&64&&(t=!0,we.show=ae[6],ze(()=>t=!1)),e.$set(we),(!$e||ge&256)&&a!==(a=ae[8].t("Groups")+"")&&ee(i,a),(!$e||ge&2)&&p!==(p=ae[1].length+"")&&ee(g,p),(!$e||ge&256&&H!==(H=ae[8].t("Search")))&&u(E,"placeholder",H),ge&4&&E.value!==ae[2]&&Re(E,ae[2]);const De={};ge&256&&(De.content=ae[8].t("Create Group")),ge&16777280&&(De.$$scope={dirty:ge,ctx:ae}),z.$set(De);let Ae=Y;Y=Ce(ae),Y===Ae?Le[Y].p(ae,ge):(Se(),S(Le[Ae],1,1,()=>{Le[Ae]=null}),He(),G=Le[Y],G?G.p(ae,ge):(G=Le[Y]=Ue[Y](ae),G.c()),L(G,1),G.m(B,X));const Be={};!le&&ge&128&&(le=!0,Be.show=ae[7],ze(()=>le=!1)),!oe&&ge&32&&(oe=!0,Be.permissions=ae[5],ze(()=>oe=!1)),Z.$set(Be),(!$e||ge&256)&&M!==(M=ae[8].t("Default permissions")+"")&&ee(W,M),(!$e||ge&256)&&ye!==(ye=ae[8].t('applies to all users with the "user" role')+"")&&ee(Ee,ye)},i(ae){$e||(L(e.$$.fragment,ae),L(z.$$.fragment,ae),L(G),L(Z.$$.fragment,ae),L(pe.$$.fragment,ae),L(se.$$.fragment,ae),$e=!0)},o(ae){S(e.$$.fragment,ae),S(z.$$.fragment,ae),S(G),S(Z.$$.fragment,ae),S(pe.$$.fragment,ae),S(se.$$.fragment,ae),$e=!1},d(ae){ae&&(c(l),c(r),c(F),c(B)),de(e,ae),de(z),Le[Y].d(),de(Z),de(pe),de(se),xe=!1,Nt(Ve)}}}function Ma(s){let e,t,l,r,o;return t=new bs({props:{className:"size-3.5"}}),{c(){e=d("button"),ue(t.$$.fragment),this.h()},l(a){e=_(a,"BUTTON",{class:!0});var i=h(e);fe(t.$$.fragment,i),i.forEach(c),this.h()},h(){u(e,"class","p-2 rounded-xl hover:bg-gray-100 dark:bg-gray-900 dark:hover:bg-gray-850 transition font-medium text-sm flex items-center space-x-1")},m(a,i){K(a,e,i),ce(t,e,null),l=!0,r||(o=be(e,"click",s[15]),r=!0)},p:Fe,i(a){l||(L(t.$$.fragment,a),l=!0)},o(a){S(t.$$.fragment,a),l=!1},d(a){a&&c(e),de(t),r=!1,o()}}}function Ca(s){let e,t,l='<div class="w-full">Group</div> <div class="w-full">Users</div> <div class="w-full"></div>',r,o,a,i,f=Ot(s[4]),m=[];for(let w=0;w<f.length;w+=1)m[w]=hs(_s(s,f,w));const v=w=>S(m[w],1,1,()=>{m[w]=null});return{c(){e=d("div"),t=d("div"),t.innerHTML=l,r=V(),o=d("hr"),a=V();for(let w=0;w<m.length;w+=1)m[w].c();this.h()},l(w){e=_(w,"DIV",{});var p=h(e);t=_(p,"DIV",{class:!0,"data-svelte-h":!0}),et(t)!=="svelte-1uwoqvm"&&(t.innerHTML=l),r=x(p),o=_(p,"HR",{class:!0}),a=x(p);for(let g=0;g<m.length;g+=1)m[g].l(p);p.forEach(c),this.h()},h(){u(t,"class","flex items-center gap-3 justify-between text-xs uppercase px-1 font-bold"),u(o,"class","mt-1.5 border-gray-50 dark:border-gray-850")},m(w,p){K(w,e,p),n(e,t),n(e,r),n(e,o),n(e,a);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(e,null);i=!0},p(w,p){if(p&1041){f=Ot(w[4]);let g;for(g=0;g<f.length;g+=1){const b=_s(w,f,g);m[g]?(m[g].p(b,p),L(m[g],1)):(m[g]=hs(b),m[g].c(),L(m[g],1),m[g].m(e,null))}for(Se(),g=f.length;g<m.length;g+=1)v(g);He()}},i(w){if(!i){for(let p=0;p<f.length;p+=1)L(m[p]);i=!0}},o(w){m=m.filter(Boolean);for(let p=0;p<m.length;p+=1)S(m[p]);i=!1},d(w){w&&c(e),Dl(m,w)}}}function Ua(s){let e,t,l=s[8].t("Organize your users")+"",r,o,a,i=s[8].t("Use groups to group your users and assign permissions.")+"",f,m,v,w,p=s[8].t("Create Group")+"",g,b,I,$;return{c(){e=d("div"),t=d("div"),r=Q(l),o=V(),a=d("div"),f=Q(i),m=V(),v=d("div"),w=d("button"),g=Q(p),this.h()},l(k){e=_(k,"DIV",{class:!0});var T=h(e);t=_(T,"DIV",{class:!0});var C=h(t);r=J(C,l),C.forEach(c),o=x(T),a=_(T,"DIV",{class:!0});var y=h(a);f=J(y,i),y.forEach(c),m=x(T),v=_(T,"DIV",{class:!0});var E=h(v);w=_(E,"BUTTON",{class:!0,"aria-label":!0});var H=h(w);g=J(H,p),H.forEach(c),E.forEach(c),T.forEach(c),this.h()},h(){u(t,"class","text-xl font-medium"),u(a,"class","mt-1 text-sm dark:text-gray-300"),u(w,"class","px-4 py-1.5 text-sm rounded-full bg-black hover:bg-gray-800 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition font-medium flex items-center space-x-1"),u(w,"aria-label",b=s[8].t("Create Group")),u(v,"class","mt-3"),u(e,"class","flex flex-col items-center justify-center h-40")},m(k,T){K(k,e,T),n(e,t),n(t,r),n(e,o),n(e,a),n(a,f),n(e,m),n(e,v),n(v,w),n(w,g),I||($=be(w,"click",s[16]),I=!0)},p(k,T){T&256&&l!==(l=k[8].t("Organize your users")+"")&&ee(r,l),T&256&&i!==(i=k[8].t("Use groups to group your users and assign permissions.")+"")&&ee(f,i),T&256&&p!==(p=k[8].t("Create Group")+"")&&ee(g,p),T&256&&b!==(b=k[8].t("Create Group"))&&u(w,"aria-label",b)},i:Fe,o:Fe,d(k){k&&c(e),I=!1,$()}}}function hs(s){let e,t,l,r;return t=new Ia({props:{group:s[21],users:s[0],setGroups:s[10]}}),{c(){e=d("div"),ue(t.$$.fragment),l=V(),this.h()},l(o){e=_(o,"DIV",{class:!0});var a=h(e);fe(t.$$.fragment,a),l=x(a),a.forEach(c),this.h()},h(){u(e,"class","my-2")},m(o,a){K(o,e,a),ce(t,e,null),n(e,l),r=!0},p(o,a){const i={};a&16&&(i.group=o[21]),a&1&&(i.users=o[0]),t.$set(i)},i(o){r||(L(t.$$.fragment,o),r=!0)},o(o){S(t.$$.fragment,o),r=!1},d(o){o&&c(e),de(t)}}}function La(s){let e,t,l=s[3]&&ms(s);return{c(){l&&l.c(),e=ol()},l(r){l&&l.l(r),e=ol()},m(r,o){l&&l.m(r,o),K(r,e,o),t=!0},p(r,[o]){r[3]?l?(l.p(r,o),o&8&&L(l,1)):(l=ms(r),l.c(),L(l,1),l.m(e.parentNode,e)):l&&(Se(),S(l,1,1,()=>{l=null}),He())},i(r){t||(L(l),t=!0)},o(r){S(l),t=!1},d(r){r&&c(e),l&&l.d(r)}}}function Aa(s,e,t){let l,r;ct(s,Il,D=>t(20,l=D)),Tt.extend(gs);const o=yt("i18n");ct(s,o,D=>t(8,r=D));let a=!1,{users:i=[]}=e,f=[],m,v="",w={workspace:{models:!1,knowledge:!1,prompts:!1,tools:!1},chat:{file_upload:!0,delete:!0,edit:!0,temporary:!0}},p=!1,g=!1;const b=async()=>{t(1,f=await Fl(localStorage.token))},I=async D=>{await Os(localStorage.token,D).catch(F=>(ot.error(F),null))&&(ot.success(r.t("Group created successfully")),t(1,f=await Fl(localStorage.token)))},$=async D=>{console.log(D.permissions),await Ms(localStorage.token,D.permissions).catch(F=>(ot.error(F),null))&&(ot.success(r.t("Default permissions updated successfully")),t(5,w=await Zl(localStorage.token)))};ml(async()=>{(l==null?void 0:l.role)!=="admin"?await vs("/"):(await b(),t(5,w=await Zl(localStorage.token))),t(3,a=!0)});function k(D){p=D,t(6,p)}function T(){v=this.value,t(2,v)}const C=()=>{t(6,p=!p)},y=()=>{t(6,p=!0)};function E(D){g=D,t(7,g)}function H(D){w=D,t(5,w)}const A=()=>{t(7,g=!0)};return s.$$set=D=>{"users"in D&&t(0,i=D.users)},s.$$.update=()=>{s.$$.dirty&6&&t(4,m=f.filter(D=>{if(v==="")return!0;{let z=D.name.toLowerCase();const F=v.toLowerCase();return z.includes(F)}}))},[i,f,v,a,m,w,p,g,r,o,b,I,$,k,T,C,y,E,H,A]}class Ba extends dt{constructor(e){super(),_t(this,e,Aa,La,it,{users:0})}}function Sa(s){let e,t;return e=new Ba({props:{users:s[1]}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.users=l[1]),e.$set(o)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Ha(s){let e,t;return e=new qr({props:{users:s[1]}}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p(l,r){const o={};r&2&&(o.users=l[1]),e.$set(o)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}function Pa(s){let e,t,l,r,o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M8.5 4.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM10.9 12.006c.11.542-.348.994-.9.994H2c-.553 0-1.01-.452-.902-.994a5.002 5.002 0 0 1 9.803 0ZM14.002 12h-1.59a2.556 2.556 0 0 0-.04-.29 6.476 6.476 0 0 0-1.167-2.603 3.002 3.002 0 0 1 3.633 1.911c.18.522-.283.982-.836.982ZM12 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"></path></svg>',a,i,f=s[2].t("Overview")+"",m,v,w,p,g,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4"><path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"></path></svg>',I,$,k=s[2].t("Groups")+"",T,C,y,E,H,A,D,z,F;const B=[Ha,Sa],Y=[];function G(X,j){return X[0]==="overview"?0:X[0]==="groups"?1:-1}return~(H=G(s))&&(A=Y[H]=B[H](s)),{c(){e=d("div"),t=d("div"),l=d("button"),r=d("div"),r.innerHTML=o,a=V(),i=d("div"),m=Q(f),w=V(),p=d("button"),g=d("div"),g.innerHTML=b,I=V(),$=d("div"),T=Q(k),y=V(),E=d("div"),A&&A.c(),this.h()},l(X){e=_(X,"DIV",{class:!0});var j=h(e);t=_(j,"DIV",{id:!0,class:!0});var N=h(t);l=_(N,"BUTTON",{class:!0});var Z=h(l);r=_(Z,"DIV",{class:!0,"data-svelte-h":!0}),et(r)!=="svelte-vvpxme"&&(r.innerHTML=o),a=x(Z),i=_(Z,"DIV",{class:!0});var le=h(i);m=J(le,f),le.forEach(c),Z.forEach(c),w=x(N),p=_(N,"BUTTON",{class:!0});var oe=h(p);g=_(oe,"DIV",{class:!0,"data-svelte-h":!0}),et(g)!=="svelte-161uai9"&&(g.innerHTML=b),I=x(oe),$=_(oe,"DIV",{class:!0});var q=h($);T=J(q,k),q.forEach(c),oe.forEach(c),N.forEach(c),y=x(j),E=_(j,"DIV",{class:!0});var R=h(E);A&&A.l(R),R.forEach(c),j.forEach(c),this.h()},h(){u(r,"class","self-center mr-2"),u(i,"class","self-center"),u(l,"class",v="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(s[0]==="overview"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(g,"class","self-center mr-2"),u($,"class","self-center"),u(p,"class",C="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(s[0]==="groups"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")),u(t,"id","users-tabs-container"),u(t,"class","flex flex-row overflow-x-auto gap-2.5 max-w-full lg:gap-1 lg:flex-col lg:flex-none lg:w-40 dark:text-gray-200 text-sm font-medium text-left scrollbar-none"),u(E,"class","flex-1 mt-1 lg:mt-0 overflow-y-scroll"),u(e,"class","flex flex-col lg:flex-row w-full h-full pb-2 lg:space-x-4")},m(X,j){K(X,e,j),n(e,t),n(t,l),n(l,r),n(l,a),n(l,i),n(i,m),n(t,w),n(t,p),n(p,g),n(p,I),n(p,$),n($,T),n(e,y),n(e,E),~H&&Y[H].m(E,null),D=!0,z||(F=[be(l,"click",s[4]),be(p,"click",s[5])],z=!0)},p(X,[j]){(!D||j&4)&&f!==(f=X[2].t("Overview")+"")&&ee(m,f),(!D||j&1&&v!==(v="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(X[0]==="overview"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(l,"class",v),(!D||j&4)&&k!==(k=X[2].t("Groups")+"")&&ee(T,k),(!D||j&1&&C!==(C="px-0.5 py-1 min-w-fit rounded-lg lg:flex-none flex text-right transition "+(X[0]==="groups"?"":" text-gray-300 dark:text-gray-600 hover:text-gray-700 dark:hover:text-white")))&&u(p,"class",C);let N=H;H=G(X),H===N?~H&&Y[H].p(X,j):(A&&(Se(),S(Y[N],1,1,()=>{Y[N]=null}),He()),~H?(A=Y[H],A?A.p(X,j):(A=Y[H]=B[H](X),A.c()),L(A,1),A.m(E,null)):A=null)},i(X){D||(L(A),D=!0)},o(X){S(A),D=!1},d(X){X&&c(e),~H&&Y[H].d(),z=!1,Nt(F)}}}function za(s,e,t){let l,r;ct(s,Il,w=>t(7,l=w));const o=yt("i18n");ct(s,o,w=>t(2,r=w));let a=[],i="overview";const f=async()=>{t(1,a=await sl(localStorage.token))};ml(async()=>{(l==null?void 0:l.role)!=="admin"?await vs("/"):t(1,a=await sl(localStorage.token));const w=document.getElementById("users-tabs-container");w&&w.addEventListener("wheel",function(p){p.deltaY!==0&&(w.scrollLeft+=p.deltaY)})});const m=()=>{t(0,i="overview")},v=()=>{t(0,i="groups")};return s.$$.update=()=>{s.$$.dirty&1&&i&&f()},[i,a,r,o,m,v]}class ja extends dt{constructor(e){super(),_t(this,e,za,Pa,it,{})}}function Ga(s){let e,t;return e=new ja({}),{c(){ue(e.$$.fragment)},l(l){fe(e.$$.fragment,l)},m(l,r){ce(e,l,r),t=!0},p:Fe,i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){S(e.$$.fragment,l),t=!1},d(l){de(e,l)}}}class wn extends dt{constructor(e){super(),_t(this,e,null,Ga,it,{})}}export{wn as component};
//# sourceMappingURL=13.DqqqLsoP.js.map
