import{s as h,l as f,i as k,d as y,j as g,p as S,q as b,n as M}from"../chunks/scheduler.Cy0XlzB3.js";import{S as $,i as N,a as p,c as E,t as u,b as q,d as C,m as D,e as J,g as O}from"../chunks/index.DFpEjgiy.js";import{t as l}from"../chunks/Toaster.svelte_svelte_type_style_lang.Bke5K-AV.js";import{g as P}from"../chunks/entry.Bhco3DJ-.js";import{m as _}from"../chunks/index.1K5ebsbl.js";import{c as j}from"../chunks/index.Csb7a8mN.js";import{g as v}from"../chunks/index.C6kcA6nT.js";import{M as A}from"../chunks/ModelEditor.BggNTtgX.js";function w(n){let a,s;return a=new A({props:{model:n[0],onSubmit:n[2]}}),{c(){q(a.$$.fragment)},l(e){C(a.$$.fragment,e)},m(e,t){D(a,e,t),s=!0},p(e,t){const o={};t&1&&(o.model=e[0]),a.$set(o)},i(e){s||(u(a.$$.fragment,e),s=!0)},o(e){p(a.$$.fragment,e),s=!1},d(e){J(a,e)}}}function L(n){let a=n[0],s,e,t=w(n);return{c(){t.c(),s=f()},l(o){t.l(o),s=f()},m(o,i){t.m(o,i),k(o,s,i),e=!0},p(o,[i]){i&1&&h(a,a=o[0])?(O(),p(t,1,1,M),E(),t=w(o),t.c(),u(t,1),t.m(s.parentNode,s)):t.p(o,i)},i(o){e||(u(t),e=!0)},o(o){p(t),e=!1},d(o){o&&y(s),t.d(o)}}}function x(n,a,s){let e,t;g(n,_,r=>s(4,t=r));const o=S("i18n");g(n,o,r=>s(3,e=r));const i=async r=>{if(t.find(d=>d.id===r.id)){l.error(`Error: A model with the ID '${r.id}' already exists. Please select a different ID to proceed.`);return}r&&await j(localStorage.token,{...r,meta:{...r.meta,profile_image_url:r.meta.profile_image_url??"/static/favicon.png",suggestion_prompts:r.meta.suggestion_prompts?r.meta.suggestion_prompts.filter(c=>c.content!==""):null},params:{...r.params}}).catch(c=>(l.error(c),null))&&(await _.set(await v(localStorage.token)),l.success(e.t("Model created successfully!")),await P("/workspace/models"))};let m=null;return b(async()=>{window.addEventListener("message",async r=>{["https://openwebui.com","https://www.openwebui.com","http://localhost:5173"].includes(r.origin)&&s(0,m=JSON.parse(r.data))}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.model&&(s(0,m=JSON.parse(sessionStorage.model)),sessionStorage.removeItem("model"))}),[m,o,i]}class T extends ${constructor(a){super(),N(this,a,x,L,h,{})}}export{T as component};
//# sourceMappingURL=24.DNB6IKSE.js.map
